(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();function $m(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ku={exports:{}},as={};var lm;function cp(){if(lm)return as;lm=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(l,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var p in c)p!=="key"&&(f[p]=c[p])}else f=c;return c=f.ref,{$$typeof:s,type:l,key:h,ref:c!==void 0?c:null,props:f}}return as.Fragment=a,as.jsx=i,as.jsxs=i,as}var om;function fp(){return om||(om=1,Ku.exports=cp()),Ku.exports}var m=fp(),Xu={exports:{}},Me={};var um;function dp(){if(um)return Me;um=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),R=Symbol.iterator;function j(_){return _===null||typeof _!="object"?null:(_=R&&_[R]||_["@@iterator"],typeof _=="function"?_:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,W={};function Q(_,B,ee){this.props=_,this.context=B,this.refs=W,this.updater=ee||U}Q.prototype.isReactComponent={},Q.prototype.setState=function(_,B){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,B,"setState")},Q.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function P(){}P.prototype=Q.prototype;function Y(_,B,ee){this.props=_,this.context=B,this.refs=W,this.updater=ee||U}var se=Y.prototype=new P;se.constructor=Y,V(se,Q.prototype),se.isPureReactComponent=!0;var De=Array.isArray;function ye(){}var oe={H:null,A:null,T:null,S:null},Ne=Object.prototype.hasOwnProperty;function Xe(_,B,ee){var ne=ee.ref;return{$$typeof:s,type:_,key:B,ref:ne!==void 0?ne:null,props:ee}}function wt(_,B){return Xe(_.type,B,_.props)}function J(_){return typeof _=="object"&&_!==null&&_.$$typeof===s}function te(_){var B={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(ee){return B[ee]})}var fe=/\/+/g;function ve(_,B){return typeof _=="object"&&_!==null&&_.key!=null?te(""+_.key):B.toString(36)}function Ee(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(ye,ye):(_.status="pending",_.then(function(B){_.status==="pending"&&(_.status="fulfilled",_.value=B)},function(B){_.status==="pending"&&(_.status="rejected",_.reason=B)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function T(_,B,ee,ne,we){var Se=typeof _;(Se==="undefined"||Se==="boolean")&&(_=null);var ze=!1;if(_===null)ze=!0;else switch(Se){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(_.$$typeof){case s:case a:ze=!0;break;case S:return ze=_._init,T(ze(_._payload),B,ee,ne,we)}}if(ze)return we=we(_),ze=ne===""?"."+ve(_,0):ne,De(we)?(ee="",ze!=null&&(ee=ze.replace(fe,"$&/")+"/"),T(we,B,ee,"",function(It){return It})):we!=null&&(J(we)&&(we=wt(we,ee+(we.key==null||_&&_.key===we.key?"":(""+we.key).replace(fe,"$&/")+"/")+ze)),B.push(we)),1;ze=0;var yt=ne===""?".":ne+":";if(De(_))for(var je=0;je<_.length;je++)ne=_[je],Se=yt+ve(ne,je),ze+=T(ne,B,ee,Se,we);else if(je=j(_),typeof je=="function")for(_=je.call(_),je=0;!(ne=_.next()).done;)ne=ne.value,Se=yt+ve(ne,je++),ze+=T(ne,B,ee,Se,we);else if(Se==="object"){if(typeof _.then=="function")return T(Ee(_),B,ee,ne,we);throw B=String(_),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ze}function G(_,B,ee){if(_==null)return _;var ne=[],we=0;return T(_,ne,"","",function(Se){return B.call(ee,Se,we++)}),ne}function ce(_){if(_._status===-1){var B=_._result;B=B(),B.then(function(ee){(_._status===0||_._status===-1)&&(_._status=1,_._result=ee)},function(ee){(_._status===0||_._status===-1)&&(_._status=2,_._result=ee)}),_._status===-1&&(_._status=0,_._result=B)}if(_._status===1)return _._result.default;throw _._result}var be=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},ue={map:G,forEach:function(_,B,ee){G(_,function(){B.apply(this,arguments)},ee)},count:function(_){var B=0;return G(_,function(){B++}),B},toArray:function(_){return G(_,function(B){return B})||[]},only:function(_){if(!J(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return Me.Activity=A,Me.Children=ue,Me.Component=Q,Me.Fragment=i,Me.Profiler=c,Me.PureComponent=Y,Me.StrictMode=l,Me.Suspense=y,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Me.__COMPILER_RUNTIME={__proto__:null,c:function(_){return oe.H.useMemoCache(_)}},Me.cache=function(_){return function(){return _.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(_,B,ee){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var ne=V({},_.props),we=_.key;if(B!=null)for(Se in B.key!==void 0&&(we=""+B.key),B)!Ne.call(B,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&B.ref===void 0||(ne[Se]=B[Se]);var Se=arguments.length-2;if(Se===1)ne.children=ee;else if(1<Se){for(var ze=Array(Se),yt=0;yt<Se;yt++)ze[yt]=arguments[yt+2];ne.children=ze}return Xe(_.type,we,ne)},Me.createContext=function(_){return _={$$typeof:h,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:f,_context:_},_},Me.createElement=function(_,B,ee){var ne,we={},Se=null;if(B!=null)for(ne in B.key!==void 0&&(Se=""+B.key),B)Ne.call(B,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(we[ne]=B[ne]);var ze=arguments.length-2;if(ze===1)we.children=ee;else if(1<ze){for(var yt=Array(ze),je=0;je<ze;je++)yt[je]=arguments[je+2];we.children=yt}if(_&&_.defaultProps)for(ne in ze=_.defaultProps,ze)we[ne]===void 0&&(we[ne]=ze[ne]);return Xe(_,Se,we)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(_){return{$$typeof:p,render:_}},Me.isValidElement=J,Me.lazy=function(_){return{$$typeof:S,_payload:{_status:-1,_result:_},_init:ce}},Me.memo=function(_,B){return{$$typeof:v,type:_,compare:B===void 0?null:B}},Me.startTransition=function(_){var B=oe.T,ee={};oe.T=ee;try{var ne=_(),we=oe.S;we!==null&&we(ee,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ye,be)}catch(Se){be(Se)}finally{B!==null&&ee.types!==null&&(B.types=ee.types),oe.T=B}},Me.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Me.use=function(_){return oe.H.use(_)},Me.useActionState=function(_,B,ee){return oe.H.useActionState(_,B,ee)},Me.useCallback=function(_,B){return oe.H.useCallback(_,B)},Me.useContext=function(_){return oe.H.useContext(_)},Me.useDebugValue=function(){},Me.useDeferredValue=function(_,B){return oe.H.useDeferredValue(_,B)},Me.useEffect=function(_,B){return oe.H.useEffect(_,B)},Me.useEffectEvent=function(_){return oe.H.useEffectEvent(_)},Me.useId=function(){return oe.H.useId()},Me.useImperativeHandle=function(_,B,ee){return oe.H.useImperativeHandle(_,B,ee)},Me.useInsertionEffect=function(_,B){return oe.H.useInsertionEffect(_,B)},Me.useLayoutEffect=function(_,B){return oe.H.useLayoutEffect(_,B)},Me.useMemo=function(_,B){return oe.H.useMemo(_,B)},Me.useOptimistic=function(_,B){return oe.H.useOptimistic(_,B)},Me.useReducer=function(_,B,ee){return oe.H.useReducer(_,B,ee)},Me.useRef=function(_){return oe.H.useRef(_)},Me.useState=function(_){return oe.H.useState(_)},Me.useSyncExternalStore=function(_,B,ee){return oe.H.useSyncExternalStore(_,B,ee)},Me.useTransition=function(){return oe.H.useTransition()},Me.version="19.2.0",Me}var cm;function pc(){return cm||(cm=1,Xu.exports=dp()),Xu.exports}var F=pc();const hp=$m(F);var Iu={exports:{}},rs={},Qu={exports:{}},Ju={};var fm;function mp(){return fm||(fm=1,(function(s){function a(T,G){var ce=T.length;T.push(G);e:for(;0<ce;){var be=ce-1>>>1,ue=T[be];if(0<c(ue,G))T[be]=G,T[ce]=ue,ce=be;else break e}}function i(T){return T.length===0?null:T[0]}function l(T){if(T.length===0)return null;var G=T[0],ce=T.pop();if(ce!==G){T[0]=ce;e:for(var be=0,ue=T.length,_=ue>>>1;be<_;){var B=2*(be+1)-1,ee=T[B],ne=B+1,we=T[ne];if(0>c(ee,ce))ne<ue&&0>c(we,ee)?(T[be]=we,T[ne]=ce,be=ne):(T[be]=ee,T[B]=ce,be=B);else if(ne<ue&&0>c(we,ce))T[be]=we,T[ne]=ce,be=ne;else break e}}return G}function c(T,G){var ce=T.sortIndex-G.sortIndex;return ce!==0?ce:T.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var y=[],v=[],S=1,A=null,R=3,j=!1,U=!1,V=!1,W=!1,Q=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function se(T){for(var G=i(v);G!==null;){if(G.callback===null)l(v);else if(G.startTime<=T)l(v),G.sortIndex=G.expirationTime,a(y,G);else break;G=i(v)}}function De(T){if(V=!1,se(T),!U)if(i(y)!==null)U=!0,ye||(ye=!0,te());else{var G=i(v);G!==null&&Ee(De,G.startTime-T)}}var ye=!1,oe=-1,Ne=5,Xe=-1;function wt(){return W?!0:!(s.unstable_now()-Xe<Ne)}function J(){if(W=!1,ye){var T=s.unstable_now();Xe=T;var G=!0;try{e:{U=!1,V&&(V=!1,P(oe),oe=-1),j=!0;var ce=R;try{t:{for(se(T),A=i(y);A!==null&&!(A.expirationTime>T&&wt());){var be=A.callback;if(typeof be=="function"){A.callback=null,R=A.priorityLevel;var ue=be(A.expirationTime<=T);if(T=s.unstable_now(),typeof ue=="function"){A.callback=ue,se(T),G=!0;break t}A===i(y)&&l(y),se(T)}else l(y);A=i(y)}if(A!==null)G=!0;else{var _=i(v);_!==null&&Ee(De,_.startTime-T),G=!1}}break e}finally{A=null,R=ce,j=!1}G=void 0}}finally{G?te():ye=!1}}}var te;if(typeof Y=="function")te=function(){Y(J)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ve=fe.port2;fe.port1.onmessage=J,te=function(){ve.postMessage(null)}}else te=function(){Q(J,0)};function Ee(T,G){oe=Q(function(){T(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(T){T.callback=null},s.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ne=0<T?Math.floor(1e3/T):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(T){switch(R){case 1:case 2:case 3:var G=3;break;default:G=R}var ce=R;R=G;try{return T()}finally{R=ce}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(T,G){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var ce=R;R=T;try{return G()}finally{R=ce}},s.unstable_scheduleCallback=function(T,G,ce){var be=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?be+ce:be):ce=be,T){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ce+ue,T={id:S++,callback:G,priorityLevel:T,startTime:ce,expirationTime:ue,sortIndex:-1},ce>be?(T.sortIndex=ce,a(v,T),i(y)===null&&T===i(v)&&(V?(P(oe),oe=-1):V=!0,Ee(De,ce-be))):(T.sortIndex=ue,a(y,T),U||j||(U=!0,ye||(ye=!0,te()))),T},s.unstable_shouldYield=wt,s.unstable_wrapCallback=function(T){var G=R;return function(){var ce=R;R=G;try{return T.apply(this,arguments)}finally{R=ce}}}})(Ju)),Ju}var dm;function yp(){return dm||(dm=1,Qu.exports=mp()),Qu.exports}var Wu={exports:{}},un={};var hm;function gp(){if(hm)return un;hm=1;var s=pc();function a(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(y,v,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:A==null?null:""+A,children:y,containerInfo:v,implementation:S}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,un.createPortal=function(y,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(a(299));return f(y,v,null,S)},un.flushSync=function(y){var v=h.T,S=l.p;try{if(h.T=null,l.p=2,y)return y()}finally{h.T=v,l.p=S,l.d.f()}},un.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,l.d.C(y,v))},un.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},un.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var S=v.as,A=p(S,v.crossOrigin),R=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?l.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:j}):S==="script"&&l.d.X(y,{crossOrigin:A,integrity:R,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},un.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=p(v.as,v.crossOrigin);l.d.M(y,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&l.d.M(y)},un.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,A=p(S,v.crossOrigin);l.d.L(y,S,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},un.preloadModule=function(y,v){if(typeof y=="string")if(v){var S=p(v.as,v.crossOrigin);l.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else l.d.m(y)},un.requestFormReset=function(y){l.d.r(y)},un.unstable_batchedUpdates=function(y,v){return y(v)},un.useFormState=function(y,v,S){return h.H.useFormState(y,v,S)},un.useFormStatus=function(){return h.H.useHostTransitionStatus()},un.version="19.2.0",un}var mm;function pp(){if(mm)return Wu.exports;mm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),Wu.exports=gp(),Wu.exports}var ym;function vp(){if(ym)return rs;ym=1;var s=yp(),a=pc(),i=pp();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(l(188))}function v(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return y(o),e;if(u===r)return y(o),t;u=u.sibling}throw Error(l(188))}if(n.return!==r.return)n=o,r=u;else{for(var d=!1,g=o.child;g;){if(g===n){d=!0,n=o,r=u;break}if(g===r){d=!0,r=o,n=u;break}g=g.sibling}if(!d){for(g=u.child;g;){if(g===n){d=!0,n=u,r=o;break}if(g===r){d=!0,r=u,n=o;break}g=g.sibling}if(!d)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),De=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),Xe=Symbol.for("react.activity"),wt=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Symbol.for("react.client.reference");function ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===fe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case Q:return"Profiler";case W:return"StrictMode";case De:return"Suspense";case ye:return"SuspenseList";case Xe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case Y:return e.displayName||"Context";case P:return(e._context.displayName||"Context")+".Consumer";case se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oe:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case Ne:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}var Ee=Array.isArray,T=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},be=[],ue=-1;function _(e){return{current:e}}function B(e){0>ue||(e.current=be[ue],be[ue]=null,ue--)}function ee(e,t){ue++,be[ue]=e.current,e.current=t}var ne=_(null),we=_(null),Se=_(null),ze=_(null);function yt(e,t){switch(ee(Se,t),ee(we,e),ee(ne,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Rh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Rh(t),e=kh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(ne),ee(ne,e)}function je(){B(ne),B(we),B(Se)}function It(e){e.memoizedState!==null&&ee(ze,e);var t=ne.current,n=kh(t,e.type);t!==n&&(ee(we,e),ee(ne,n))}function ae(e){we.current===e&&(B(ne),B(we)),ze.current===e&&(B(ze),Pi._currentValue=ce)}var ot,St;function Qt(e){if(ot===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ot=t&&t[1]||"",St=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+e+St}var Kn=!1;function ft(e,t){if(!e||Kn)return"";Kn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(z){var D=z}Reflect.construct(e,[],$)}else{try{$.call()}catch(z){D=z}e.call($.prototype)}}else{try{throw Error()}catch(z){D=z}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(z){if(z&&D&&typeof z.stack=="string")return[z.stack,D.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),d=u[0],g=u[1];if(d&&g){var b=d.split(`
`),C=g.split(`
`);for(o=r=0;r<b.length&&!b[r].includes("DetermineComponentFrameRoot");)r++;for(;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;if(r===b.length||o===C.length)for(r=b.length-1,o=C.length-1;1<=r&&0<=o&&b[r]!==C[o];)o--;for(;1<=r&&0<=o;r--,o--)if(b[r]!==C[o]){if(r!==1||o!==1)do if(r--,o--,0>o||b[r]!==C[o]){var L=`
`+b[r].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=r&&0<=o);break}}}finally{Kn=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Qt(n):""}function H(e,t){switch(e.tag){case 26:case 27:case 5:return Qt(e.type);case 16:return Qt("Lazy");case 13:return e.child!==t&&t!==null?Qt("Suspense Fallback"):Qt("Suspense");case 19:return Qt("SuspenseList");case 0:case 15:return ft(e.type,!1);case 11:return ft(e.type.render,!1);case 1:return ft(e.type,!0);case 31:return Qt("Activity");default:return""}}function I(e){try{var t="",n=null;do t+=H(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var ie=Object.prototype.hasOwnProperty,pe=s.unstable_scheduleCallback,Te=s.unstable_cancelCallback,ut=s.unstable_shouldYield,Fe=s.unstable_requestPaint,Ue=s.unstable_now,Jt=s.unstable_getCurrentPriorityLevel,Wt=s.unstable_ImmediatePriority,N=s.unstable_UserBlockingPriority,X=s.unstable_NormalPriority,he=s.unstable_LowPriority,re=s.unstable_IdlePriority,Ge=s.log,Z=s.unstable_setDisableYieldValue,me=null,ke=null;function Pe(e){if(typeof Ge=="function"&&Z(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(me,e)}catch{}}var Ae=Math.clz32?Math.clz32:xt,nt=Math.log,Je=Math.LN2;function xt(e){return e>>>=0,e===0?32:31-(nt(e)/Je|0)|0}var ct=256,at=262144,jt=4194304;function Ct(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zt(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var g=r&134217727;return g!==0?(r=g&~u,r!==0?o=Ct(r):(d&=g,d!==0?o=Ct(d):n||(n=g&~e,n!==0&&(o=Ct(n))))):(g=r&~u,g!==0?o=Ct(g):d!==0?o=Ct(d):n||(n=r&~e,n!==0&&(o=Ct(n)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:o}function Dt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function gt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pt(){var e=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),e}function cn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ve(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rt(e,t,n,r,o,u){var d=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var g=e.entanglements,b=e.expirationTimes,C=e.hiddenUpdates;for(n=d&~n;0<n;){var L=31-Ae(n),$=1<<L;g[L]=0,b[L]=-1;var D=C[L];if(D!==null)for(C[L]=null,L=0;L<D.length;L++){var z=D[L];z!==null&&(z.lane&=-536870913)}n&=~$}r!==0&&fn(e,r,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(d&~t))}function fn(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ae(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function Nn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ae(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Fn(e,t){var n=t&-t;return n=(n&42)!==0?1:Un(n),(n&(e.suspendedLanes|t))!==0?0:n}function Un(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function wn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function zn(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:em(e.type))}function Ea(e,t){var n=G.p;try{return G.p=e,t()}finally{G.p=n}}var hn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+hn,Ht="__reactProps$"+hn,Ta="__reactContainer$"+hn,mi="__reactEvents$"+hn,zl="__reactListeners$"+hn,x="__reactHandles$"+hn,k="__reactResources$"+hn,M="__reactMarker$"+hn;function K(e){delete e[Nt],delete e[Ht],delete e[mi],delete e[zl],delete e[x]}function le(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ta]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Lh(e);e!==null;){if(n=e[Nt])return n;e=Lh(e)}return t}e=n,n=e.parentNode}return null}function He(e){if(e=e[Nt]||e[Ta]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function rt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function tt(e){var t=e[k];return t||(t=e[k]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Be(e){e[M]=!0}var Sn=new Set,$e={};function dt(e,t){We(e,t),We(e+"Capture",t)}function We(e,t){for($e[e]=t,e=0;e<t.length;e++)Sn.add(t[e])}var et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),aa={},Fa={};function Sr(e){return ie.call(Fa,e)?!0:ie.call(aa,e)?!1:et.test(e)?Fa[e]=!0:(aa[e]=!0,!1)}function Aa(e,t,n){if(Sr(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ra(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ft(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function mn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yi(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ml(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){n=""+d,u.call(this,d)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(d){n=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pa(e){if(!e._valueTracker){var t=yi(e)?"checked":"value";e._valueTracker=Ml(e,t,""+e[t])}}function ys(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yi(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Bl=/[\n"\\]/g;function Mn(e){return e.replace(Bl,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ll(e,t,n,r,o,u,d,g){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+mn(t)):e.value!==""+mn(t)&&(e.value=""+mn(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?ql(e,d,mn(t)):n!=null?ql(e,d,mn(n)):r!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+mn(g):e.removeAttribute("name")}function xc(e,t,n,r,o,u,d,g){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Pa(e);return}n=n!=null?""+mn(n):"",t=t!=null?""+mn(t):n,g||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=g?e.checked:!!r,e.defaultChecked=!!r,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Pa(e)}function ql(e,t,n){t==="number"&&xr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Er(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ec(e,t,n){if(t!=null&&(t=""+mn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+mn(n):""}function Tc(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(l(92));if(Ee(r)){if(1<r.length)throw Error(l(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=mn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),Pa(e)}function Tr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var iy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ac(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||iy.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Oc(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Ac(e,o,r)}else for(var u in t)t.hasOwnProperty(u)&&Ac(e,u,t[u])}function Hl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ly=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gs(e){return ly.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ia(){}var $l=null;function Gl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ar=null,Or=null;function jc(e){var t=He(e);if(t&&(e=t.stateNode)){var n=e[Ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ll(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Mn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Ht]||null;if(!o)throw Error(l(90));Ll(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&ys(r)}break e;case"textarea":Ec(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Er(e,!!n.multiple,t,!1)}}}var Vl=!1;function Cc(e,t,n){if(Vl)return e(t,n);Vl=!0;try{var r=e(t);return r}finally{if(Vl=!1,(Ar!==null||Or!==null)&&(al(),Ar&&(t=Ar,e=Or,Or=Ar=null,jc(t),e)))for(t=0;t<e.length;t++)jc(e[t])}}function gi(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Ht]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yl=!1;if(sa)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{Yl=!1}var Oa=null,Kl=null,ps=null;function Rc(){if(ps)return ps;var e,t=Kl,n=t.length,r,o="value"in Oa?Oa.value:Oa.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===o[u-r];r++);return ps=o.slice(e,1<r?1-r:void 0)}function vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bs(){return!0}function kc(){return!1}function yn(e){function t(n,r,o,u,d){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=u,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(u):u[g]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?bs:kc,this.isPropagationStopped=kc,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),t}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=yn(er),vi=A({},er,{view:0,detail:0}),oy=yn(vi),Xl,Il,bi,ws=A({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(Xl=e.screenX-bi.screenX,Il=e.screenY-bi.screenY):Il=Xl=0,bi=e),Xl)},movementY:function(e){return"movementY"in e?e.movementY:Il}}),Dc=yn(ws),uy=A({},ws,{dataTransfer:0}),cy=yn(uy),fy=A({},vi,{relatedTarget:0}),Ql=yn(fy),dy=A({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),hy=yn(dy),my=A({},er,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yy=yn(my),gy=A({},er,{data:0}),Nc=yn(gy),py={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},by={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _y(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=by[e])?!!t[e]:!1}function Jl(){return _y}var wy=A({},vi,{key:function(e){if(e.key){var t=py[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jl,charCode:function(e){return e.type==="keypress"?vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sy=yn(wy),xy=A({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uc=yn(xy),Ey=A({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jl}),Ty=yn(Ey),Ay=A({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oy=yn(Ay),jy=A({},ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cy=yn(jy),Ry=A({},er,{newState:0,oldState:0}),ky=yn(Ry),Dy=[9,13,27,32],Wl=sa&&"CompositionEvent"in window,_i=null;sa&&"documentMode"in document&&(_i=document.documentMode);var Ny=sa&&"TextEvent"in window&&!_i,zc=sa&&(!Wl||_i&&8<_i&&11>=_i),Mc=" ",Bc=!1;function Lc(e,t){switch(e){case"keyup":return Dy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jr=!1;function Uy(e,t){switch(e){case"compositionend":return qc(t);case"keypress":return t.which!==32?null:(Bc=!0,Mc);case"textInput":return e=t.data,e===Mc&&Bc?null:e;default:return null}}function zy(e,t){if(jr)return e==="compositionend"||!Wl&&Lc(e,t)?(e=Rc(),ps=Kl=Oa=null,jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zc&&t.locale!=="ko"?null:t.data;default:return null}}var My={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!My[e.type]:t==="textarea"}function $c(e,t,n,r){Ar?Or?Or.push(r):Or=[r]:Ar=r,t=cl(t,"onChange"),0<t.length&&(n=new _s("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wi=null,Si=null;function By(e){Eh(e,0)}function Ss(e){var t=rt(e);if(ys(t))return e}function Gc(e,t){if(e==="change")return t}var Vc=!1;if(sa){var Zl;if(sa){var Fl="oninput"in document;if(!Fl){var Yc=document.createElement("div");Yc.setAttribute("oninput","return;"),Fl=typeof Yc.oninput=="function"}Zl=Fl}else Zl=!1;Vc=Zl&&(!document.documentMode||9<document.documentMode)}function Kc(){wi&&(wi.detachEvent("onpropertychange",Xc),Si=wi=null)}function Xc(e){if(e.propertyName==="value"&&Ss(Si)){var t=[];$c(t,Si,e,Gl(e)),Cc(By,t)}}function Ly(e,t,n){e==="focusin"?(Kc(),wi=t,Si=n,wi.attachEvent("onpropertychange",Xc)):e==="focusout"&&Kc()}function qy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ss(Si)}function Hy(e,t){if(e==="click")return Ss(t)}function $y(e,t){if(e==="input"||e==="change")return Ss(t)}function Gy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:Gy;function xi(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ie.call(t,o)||!xn(e[o],t[o]))return!1}return!0}function Ic(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qc(e,t){var n=Ic(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ic(n)}}function Jc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xr(e.document)}return t}function Pl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Vy=sa&&"documentMode"in document&&11>=document.documentMode,Cr=null,eo=null,Ei=null,to=!1;function Zc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;to||Cr==null||Cr!==xr(r)||(r=Cr,"selectionStart"in r&&Pl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ei&&xi(Ei,r)||(Ei=r,r=cl(eo,"onSelect"),0<r.length&&(t=new _s("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Cr)))}function tr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rr={animationend:tr("Animation","AnimationEnd"),animationiteration:tr("Animation","AnimationIteration"),animationstart:tr("Animation","AnimationStart"),transitionrun:tr("Transition","TransitionRun"),transitionstart:tr("Transition","TransitionStart"),transitioncancel:tr("Transition","TransitionCancel"),transitionend:tr("Transition","TransitionEnd")},no={},Fc={};sa&&(Fc=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function nr(e){if(no[e])return no[e];if(!Rr[e])return e;var t=Rr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fc)return no[e]=t[n];return e}var Pc=nr("animationend"),ef=nr("animationiteration"),tf=nr("animationstart"),Yy=nr("transitionrun"),Ky=nr("transitionstart"),Xy=nr("transitioncancel"),nf=nr("transitionend"),af=new Map,ao="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ao.push("scrollEnd");function Xn(e,t){af.set(e,t),dt(t,[e])}var xs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bn=[],kr=0,ro=0;function Es(){for(var e=kr,t=ro=kr=0;t<e;){var n=Bn[t];Bn[t++]=null;var r=Bn[t];Bn[t++]=null;var o=Bn[t];Bn[t++]=null;var u=Bn[t];if(Bn[t++]=null,r!==null&&o!==null){var d=r.pending;d===null?o.next=o:(o.next=d.next,d.next=o),r.pending=o}u!==0&&rf(n,o,u)}}function Ts(e,t,n,r){Bn[kr++]=e,Bn[kr++]=t,Bn[kr++]=n,Bn[kr++]=r,ro|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function io(e,t,n,r){return Ts(e,t,n,r),As(e)}function ar(e,t){return Ts(e,null,null,t),As(e)}function rf(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,r=u.alternate,r!==null&&(r.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-Ae(n),e=u.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=n|536870912),u):null}function As(e){if(50<Xi)throw Xi=0,yu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Dr={};function Iy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,t,n,r){return new Iy(e,t,n,r)}function so(e){return e=e.prototype,!(!e||!e.isReactComponent)}function la(e,t){var n=e.alternate;return n===null?(n=En(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function sf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Os(e,t,n,r,o,u){var d=0;if(r=e,typeof e=="function")so(e)&&(d=1);else if(typeof e=="string")d=Fg(e,n,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Xe:return e=En(31,n,t,o),e.elementType=Xe,e.lanes=u,e;case V:return rr(n.children,o,u,t);case W:d=8,o|=24;break;case Q:return e=En(12,n,t,o|2),e.elementType=Q,e.lanes=u,e;case De:return e=En(13,n,t,o),e.elementType=De,e.lanes=u,e;case ye:return e=En(19,n,t,o),e.elementType=ye,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:d=10;break e;case P:d=9;break e;case se:d=11;break e;case oe:d=14;break e;case Ne:d=16,r=null;break e}d=29,n=Error(l(130,e===null?"null":typeof e,"")),r=null}return t=En(d,n,t,o),t.elementType=e,t.type=r,t.lanes=u,t}function rr(e,t,n,r){return e=En(7,e,r,t),e.lanes=n,e}function lo(e,t,n){return e=En(6,e,null,t),e.lanes=n,e}function lf(e){var t=En(18,null,null,0);return t.stateNode=e,t}function oo(e,t,n){return t=En(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var of=new WeakMap;function Ln(e,t){if(typeof e=="object"&&e!==null){var n=of.get(e);return n!==void 0?n:(t={value:e,source:t,stack:I(t)},of.set(e,t),t)}return{value:e,source:t,stack:I(t)}}var Nr=[],Ur=0,js=null,Ti=0,qn=[],Hn=0,ja=null,Pn=1,ea="";function oa(e,t){Nr[Ur++]=Ti,Nr[Ur++]=js,js=e,Ti=t}function uf(e,t,n){qn[Hn++]=Pn,qn[Hn++]=ea,qn[Hn++]=ja,ja=e;var r=Pn;e=ea;var o=32-Ae(r)-1;r&=~(1<<o),n+=1;var u=32-Ae(t)+o;if(30<u){var d=o-o%5;u=(r&(1<<d)-1).toString(32),r>>=d,o-=d,Pn=1<<32-Ae(t)+o|n<<o|r,ea=u+e}else Pn=1<<u|n<<o|r,ea=e}function uo(e){e.return!==null&&(oa(e,1),uf(e,1,0))}function co(e){for(;e===js;)js=Nr[--Ur],Nr[Ur]=null,Ti=Nr[--Ur],Nr[Ur]=null;for(;e===ja;)ja=qn[--Hn],qn[Hn]=null,ea=qn[--Hn],qn[Hn]=null,Pn=qn[--Hn],qn[Hn]=null}function cf(e,t){qn[Hn++]=Pn,qn[Hn++]=ea,qn[Hn++]=ja,Pn=t.id,ea=t.overflow,ja=e}var nn=null,At=null,Ze=!1,Ca=null,$n=!1,fo=Error(l(519));function Ra(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ai(Ln(t,e)),fo}function ff(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Nt]=e,t[Ht]=r,n){case"dialog":Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":case"embed":Ke("load",t);break;case"video":case"audio":for(n=0;n<Qi.length;n++)Ke(Qi[n],t);break;case"source":Ke("error",t);break;case"img":case"image":case"link":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"input":Ke("invalid",t),xc(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ke("invalid",t);break;case"textarea":Ke("invalid",t),Tc(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||jh(t.textContent,n)?(r.popover!=null&&(Ke("beforetoggle",t),Ke("toggle",t)),r.onScroll!=null&&Ke("scroll",t),r.onScrollEnd!=null&&Ke("scrollend",t),r.onClick!=null&&(t.onclick=ia),t=!0):t=!1,t||Ra(e,!0)}function df(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:nn=nn.return}}function zr(e){if(e!==nn)return!1;if(!Ze)return df(e),Ze=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ru(e.type,e.memoizedProps)),n=!n),n&&At&&Ra(e),df(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));At=Bh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));At=Bh(e)}else t===27?(t=At,Ya(e.type)?(e=zu,zu=null,At=e):At=t):At=nn?Vn(e.stateNode.nextSibling):null;return!0}function ir(){At=nn=null,Ze=!1}function ho(){var e=Ca;return e!==null&&(bn===null?bn=e:bn.push.apply(bn,e),Ca=null),e}function Ai(e){Ca===null?Ca=[e]:Ca.push(e)}var mo=_(null),sr=null,ua=null;function ka(e,t,n){ee(mo,t._currentValue),t._currentValue=n}function ca(e){e._currentValue=mo.current,B(mo)}function yo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function go(e,t,n,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var d=o.child;u=u.firstContext;e:for(;u!==null;){var g=u;u=o;for(var b=0;b<t.length;b++)if(g.context===t[b]){u.lanes|=n,g=u.alternate,g!==null&&(g.lanes|=n),yo(u.return,n,e),r||(d=null);break e}u=g.next}}else if(o.tag===18){if(d=o.return,d===null)throw Error(l(341));d.lanes|=n,u=d.alternate,u!==null&&(u.lanes|=n),yo(d,n,e),d=null}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===e){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}}function Mr(e,t,n,r){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var d=o.alternate;if(d===null)throw Error(l(387));if(d=d.memoizedProps,d!==null){var g=o.type;xn(o.pendingProps.value,d.value)||(e!==null?e.push(g):e=[g])}}else if(o===ze.current){if(d=o.alternate,d===null)throw Error(l(387));d.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Pi):e=[Pi])}o=o.return}e!==null&&go(t,e,n,r),t.flags|=262144}function Cs(e){for(e=e.firstContext;e!==null;){if(!xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function lr(e){sr=e,ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function an(e){return hf(sr,e)}function Rs(e,t){return sr===null&&lr(e),hf(e,t)}function hf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ua===null){if(e===null)throw Error(l(308));ua=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ua=ua.next=t;return n}var Qy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Jy=s.unstable_scheduleCallback,Wy=s.unstable_NormalPriority,$t={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function po(){return{controller:new Qy,data:new Map,refCount:0}}function Oi(e){e.refCount--,e.refCount===0&&Jy(Wy,function(){e.controller.abort()})}var ji=null,vo=0,Br=0,Lr=null;function Zy(e,t){if(ji===null){var n=ji=[];vo=0,Br=wu(),Lr={status:"pending",value:void 0,then:function(r){n.push(r)}}}return vo++,t.then(mf,mf),t}function mf(){if(--vo===0&&ji!==null){Lr!==null&&(Lr.status="fulfilled");var e=ji;ji=null,Br=0,Lr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Fy(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),r}var yf=T.S;T.S=function(e,t){Fd=Ue(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zy(e,t),yf!==null&&yf(e,t)};var or=_(null);function bo(){var e=or.current;return e!==null?e:Et.pooledCache}function ks(e,t){t===null?ee(or,or.current):ee(or,t.pool)}function gf(){var e=bo();return e===null?null:{parent:$t._currentValue,pool:e}}var qr=Error(l(460)),_o=Error(l(474)),Ds=Error(l(542)),Ns={then:function(){}};function pf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ia,ia),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_f(e),e;default:if(typeof t.status=="string")t.then(ia,ia);else{if(e=Et,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_f(e),e}throw cr=t,qr}}function ur(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(cr=n,qr):n}}var cr=null;function bf(){if(cr===null)throw Error(l(459));var e=cr;return cr=null,e}function _f(e){if(e===qr||e===Ds)throw Error(l(483))}var Hr=null,Ci=0;function Us(e){var t=Ci;return Ci+=1,Hr===null&&(Hr=[]),vf(Hr,e,t)}function Ri(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function zs(e,t){throw t.$$typeof===R?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function wf(e){function t(E,w){if(e){var O=E.deletions;O===null?(E.deletions=[w],E.flags|=16):O.push(w)}}function n(E,w){if(!e)return null;for(;w!==null;)t(E,w),w=w.sibling;return null}function r(E){for(var w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function o(E,w){return E=la(E,w),E.index=0,E.sibling=null,E}function u(E,w,O){return E.index=O,e?(O=E.alternate,O!==null?(O=O.index,O<w?(E.flags|=67108866,w):O):(E.flags|=67108866,w)):(E.flags|=1048576,w)}function d(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function g(E,w,O,q){return w===null||w.tag!==6?(w=lo(O,E.mode,q),w.return=E,w):(w=o(w,O),w.return=E,w)}function b(E,w,O,q){var xe=O.type;return xe===V?L(E,w,O.props.children,q,O.key):w!==null&&(w.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Ne&&ur(xe)===w.type)?(w=o(w,O.props),Ri(w,O),w.return=E,w):(w=Os(O.type,O.key,O.props,null,E.mode,q),Ri(w,O),w.return=E,w)}function C(E,w,O,q){return w===null||w.tag!==4||w.stateNode.containerInfo!==O.containerInfo||w.stateNode.implementation!==O.implementation?(w=oo(O,E.mode,q),w.return=E,w):(w=o(w,O.children||[]),w.return=E,w)}function L(E,w,O,q,xe){return w===null||w.tag!==7?(w=rr(O,E.mode,q,xe),w.return=E,w):(w=o(w,O),w.return=E,w)}function $(E,w,O){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=lo(""+w,E.mode,O),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case j:return O=Os(w.type,w.key,w.props,null,E.mode,O),Ri(O,w),O.return=E,O;case U:return w=oo(w,E.mode,O),w.return=E,w;case Ne:return w=ur(w),$(E,w,O)}if(Ee(w)||te(w))return w=rr(w,E.mode,O,null),w.return=E,w;if(typeof w.then=="function")return $(E,Us(w),O);if(w.$$typeof===Y)return $(E,Rs(E,w),O);zs(E,w)}return null}function D(E,w,O,q){var xe=w!==null?w.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return xe!==null?null:g(E,w,""+O,q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return O.key===xe?b(E,w,O,q):null;case U:return O.key===xe?C(E,w,O,q):null;case Ne:return O=ur(O),D(E,w,O,q)}if(Ee(O)||te(O))return xe!==null?null:L(E,w,O,q,null);if(typeof O.then=="function")return D(E,w,Us(O),q);if(O.$$typeof===Y)return D(E,w,Rs(E,O),q);zs(E,O)}return null}function z(E,w,O,q,xe){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return E=E.get(O)||null,g(w,E,""+q,xe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case j:return E=E.get(q.key===null?O:q.key)||null,b(w,E,q,xe);case U:return E=E.get(q.key===null?O:q.key)||null,C(w,E,q,xe);case Ne:return q=ur(q),z(E,w,O,q,xe)}if(Ee(q)||te(q))return E=E.get(O)||null,L(w,E,q,xe,null);if(typeof q.then=="function")return z(E,w,O,Us(q),xe);if(q.$$typeof===Y)return z(E,w,O,Rs(w,q),xe);zs(w,q)}return null}function de(E,w,O,q){for(var xe=null,it=null,ge=w,qe=w=0,Qe=null;ge!==null&&qe<O.length;qe++){ge.index>qe?(Qe=ge,ge=null):Qe=ge.sibling;var st=D(E,ge,O[qe],q);if(st===null){ge===null&&(ge=Qe);break}e&&ge&&st.alternate===null&&t(E,ge),w=u(st,w,qe),it===null?xe=st:it.sibling=st,it=st,ge=Qe}if(qe===O.length)return n(E,ge),Ze&&oa(E,qe),xe;if(ge===null){for(;qe<O.length;qe++)ge=$(E,O[qe],q),ge!==null&&(w=u(ge,w,qe),it===null?xe=ge:it.sibling=ge,it=ge);return Ze&&oa(E,qe),xe}for(ge=r(ge);qe<O.length;qe++)Qe=z(ge,E,qe,O[qe],q),Qe!==null&&(e&&Qe.alternate!==null&&ge.delete(Qe.key===null?qe:Qe.key),w=u(Qe,w,qe),it===null?xe=Qe:it.sibling=Qe,it=Qe);return e&&ge.forEach(function(Ja){return t(E,Ja)}),Ze&&oa(E,qe),xe}function Oe(E,w,O,q){if(O==null)throw Error(l(151));for(var xe=null,it=null,ge=w,qe=w=0,Qe=null,st=O.next();ge!==null&&!st.done;qe++,st=O.next()){ge.index>qe?(Qe=ge,ge=null):Qe=ge.sibling;var Ja=D(E,ge,st.value,q);if(Ja===null){ge===null&&(ge=Qe);break}e&&ge&&Ja.alternate===null&&t(E,ge),w=u(Ja,w,qe),it===null?xe=Ja:it.sibling=Ja,it=Ja,ge=Qe}if(st.done)return n(E,ge),Ze&&oa(E,qe),xe;if(ge===null){for(;!st.done;qe++,st=O.next())st=$(E,st.value,q),st!==null&&(w=u(st,w,qe),it===null?xe=st:it.sibling=st,it=st);return Ze&&oa(E,qe),xe}for(ge=r(ge);!st.done;qe++,st=O.next())st=z(ge,E,qe,st.value,q),st!==null&&(e&&st.alternate!==null&&ge.delete(st.key===null?qe:st.key),w=u(st,w,qe),it===null?xe=st:it.sibling=st,it=st);return e&&ge.forEach(function(up){return t(E,up)}),Ze&&oa(E,qe),xe}function _t(E,w,O,q){if(typeof O=="object"&&O!==null&&O.type===V&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case j:e:{for(var xe=O.key;w!==null;){if(w.key===xe){if(xe=O.type,xe===V){if(w.tag===7){n(E,w.sibling),q=o(w,O.props.children),q.return=E,E=q;break e}}else if(w.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Ne&&ur(xe)===w.type){n(E,w.sibling),q=o(w,O.props),Ri(q,O),q.return=E,E=q;break e}n(E,w);break}else t(E,w);w=w.sibling}O.type===V?(q=rr(O.props.children,E.mode,q,O.key),q.return=E,E=q):(q=Os(O.type,O.key,O.props,null,E.mode,q),Ri(q,O),q.return=E,E=q)}return d(E);case U:e:{for(xe=O.key;w!==null;){if(w.key===xe)if(w.tag===4&&w.stateNode.containerInfo===O.containerInfo&&w.stateNode.implementation===O.implementation){n(E,w.sibling),q=o(w,O.children||[]),q.return=E,E=q;break e}else{n(E,w);break}else t(E,w);w=w.sibling}q=oo(O,E.mode,q),q.return=E,E=q}return d(E);case Ne:return O=ur(O),_t(E,w,O,q)}if(Ee(O))return de(E,w,O,q);if(te(O)){if(xe=te(O),typeof xe!="function")throw Error(l(150));return O=xe.call(O),Oe(E,w,O,q)}if(typeof O.then=="function")return _t(E,w,Us(O),q);if(O.$$typeof===Y)return _t(E,w,Rs(E,O),q);zs(E,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,w!==null&&w.tag===6?(n(E,w.sibling),q=o(w,O),q.return=E,E=q):(n(E,w),q=lo(O,E.mode,q),q.return=E,E=q),d(E)):n(E,w)}return function(E,w,O,q){try{Ci=0;var xe=_t(E,w,O,q);return Hr=null,xe}catch(ge){if(ge===qr||ge===Ds)throw ge;var it=En(29,ge,null,E.mode);return it.lanes=q,it.return=E,it}}}var fr=wf(!0),Sf=wf(!1),Da=!1;function wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function So(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Na(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(lt&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=As(e),rf(e,null,n),t}return Ts(e,r,t,n),As(e)}function ki(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nn(e,n)}}function xo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var d={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=d:u=u.next=d,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Eo=!1;function Di(){if(Eo){var e=Lr;if(e!==null)throw e}}function Ni(e,t,n,r){Eo=!1;var o=e.updateQueue;Da=!1;var u=o.firstBaseUpdate,d=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var b=g,C=b.next;b.next=null,d===null?u=C:d.next=C,d=b;var L=e.alternate;L!==null&&(L=L.updateQueue,g=L.lastBaseUpdate,g!==d&&(g===null?L.firstBaseUpdate=C:g.next=C,L.lastBaseUpdate=b))}if(u!==null){var $=o.baseState;d=0,L=C=b=null,g=u;do{var D=g.lane&-536870913,z=D!==g.lane;if(z?(Ie&D)===D:(r&D)===D){D!==0&&D===Br&&(Eo=!0),L!==null&&(L=L.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var de=e,Oe=g;D=t;var _t=n;switch(Oe.tag){case 1:if(de=Oe.payload,typeof de=="function"){$=de.call(_t,$,D);break e}$=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Oe.payload,D=typeof de=="function"?de.call(_t,$,D):de,D==null)break e;$=A({},$,D);break e;case 2:Da=!0}}D=g.callback,D!==null&&(e.flags|=64,z&&(e.flags|=8192),z=o.callbacks,z===null?o.callbacks=[D]:z.push(D))}else z={lane:D,tag:g.tag,payload:g.payload,callback:g.callback,next:null},L===null?(C=L=z,b=$):L=L.next=z,d|=D;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;z=g,g=z.next,z.next=null,o.lastBaseUpdate=z,o.shared.pending=null}}while(!0);L===null&&(b=$),o.baseState=b,o.firstBaseUpdate=C,o.lastBaseUpdate=L,u===null&&(o.shared.lanes=0),qa|=d,e.lanes=d,e.memoizedState=$}}function xf(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Ef(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)xf(n[e],t)}var $r=_(null),Ms=_(0);function Tf(e,t){e=ba,ee(Ms,e),ee($r,t),ba=e|t.baseLanes}function To(){ee(Ms,ba),ee($r,$r.current)}function Ao(){ba=Ms.current,B($r),B(Ms)}var Tn=_(null),Gn=null;function za(e){var t=e.alternate;ee(Lt,Lt.current&1),ee(Tn,e),Gn===null&&(t===null||$r.current!==null||t.memoizedState!==null)&&(Gn=e)}function Oo(e){ee(Lt,Lt.current),ee(Tn,e),Gn===null&&(Gn=e)}function Af(e){e.tag===22?(ee(Lt,Lt.current),ee(Tn,e),Gn===null&&(Gn=e)):Ma()}function Ma(){ee(Lt,Lt.current),ee(Tn,Tn.current)}function An(e){B(Tn),Gn===e&&(Gn=null),B(Lt)}var Lt=_(0);function Bs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Nu(n)||Uu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fa=0,Le=null,vt=null,Gt=null,Ls=!1,Gr=!1,dr=!1,qs=0,Ui=0,Vr=null,Py=0;function zt(){throw Error(l(321))}function jo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xn(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,o,u){return fa=u,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=e===null||e.memoizedState===null?ud:Yo,dr=!1,u=n(r,o),dr=!1,Gr&&(u=jf(t,n,r,o)),Of(e),u}function Of(e){T.H=Bi;var t=vt!==null&&vt.next!==null;if(fa=0,Gt=vt=Le=null,Ls=!1,Ui=0,Vr=null,t)throw Error(l(300));e===null||Vt||(e=e.dependencies,e!==null&&Cs(e)&&(Vt=!0))}function jf(e,t,n,r){Le=e;var o=0;do{if(Gr&&(Vr=null),Ui=0,Gr=!1,25<=o)throw Error(l(301));if(o+=1,Gt=vt=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}T.H=cd,u=t(n,r)}while(Gr);return u}function eg(){var e=T.H,t=e.useState()[0];return t=typeof t.then=="function"?zi(t):t,e=e.useState()[0],(vt!==null?vt.memoizedState:null)!==e&&(Le.flags|=1024),t}function Ro(){var e=qs!==0;return qs=0,e}function ko(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Do(e){if(Ls){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ls=!1}fa=0,Gt=vt=Le=null,Gr=!1,Ui=qs=0,Vr=null}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Le.memoizedState=Gt=e:Gt=Gt.next=e,Gt}function qt(){if(vt===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=Gt===null?Le.memoizedState:Gt.next;if(t!==null)Gt=t,vt=e;else{if(e===null)throw Le.alternate===null?Error(l(467)):Error(l(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Gt===null?Le.memoizedState=Gt=e:Gt=Gt.next=e}return Gt}function Hs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zi(e){var t=Ui;return Ui+=1,Vr===null&&(Vr=[]),e=vf(Vr,e,t),t=Le,(Gt===null?t.memoizedState:Gt.next)===null&&(t=t.alternate,T.H=t===null||t.memoizedState===null?ud:Yo),e}function $s(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zi(e);if(e.$$typeof===Y)return an(e)}throw Error(l(438,String(e)))}function No(e){var t=null,n=Le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Le.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Hs(),Le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=wt;return t.index++,n}function da(e,t){return typeof t=="function"?t(e):t}function Gs(e){var t=qt();return Uo(t,vt,e)}function Uo(e,t,n){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=n;var o=e.baseQueue,u=r.pending;if(u!==null){if(o!==null){var d=o.next;o.next=u.next,u.next=d}t.baseQueue=o=u,r.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var g=d=null,b=null,C=t,L=!1;do{var $=C.lane&-536870913;if($!==C.lane?(Ie&$)===$:(fa&$)===$){var D=C.revertLane;if(D===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),$===Br&&(L=!0);else if((fa&D)===D){C=C.next,D===Br&&(L=!0);continue}else $={lane:0,revertLane:C.revertLane,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},b===null?(g=b=$,d=u):b=b.next=$,Le.lanes|=D,qa|=D;$=C.action,dr&&n(u,$),u=C.hasEagerState?C.eagerState:n(u,$)}else D={lane:$,revertLane:C.revertLane,gesture:C.gesture,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},b===null?(g=b=D,d=u):b=b.next=D,Le.lanes|=$,qa|=$;C=C.next}while(C!==null&&C!==t);if(b===null?d=u:b.next=g,!xn(u,e.memoizedState)&&(Vt=!0,L&&(n=Lr,n!==null)))throw n;e.memoizedState=u,e.baseState=d,e.baseQueue=b,r.lastRenderedState=u}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function zo(e){var t=qt(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var d=o=o.next;do u=e(u,d.action),d=d.next;while(d!==o);xn(u,t.memoizedState)||(Vt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,r]}function Cf(e,t,n){var r=Le,o=qt(),u=Ze;if(u){if(n===void 0)throw Error(l(407));n=n()}else n=t();var d=!xn((vt||o).memoizedState,n);if(d&&(o.memoizedState=n,Vt=!0),o=o.queue,Lo(Df.bind(null,r,o,e),[e]),o.getSnapshot!==t||d||Gt!==null&&Gt.memoizedState.tag&1){if(r.flags|=2048,Yr(9,{destroy:void 0},kf.bind(null,r,o,n,t),null),Et===null)throw Error(l(349));u||(fa&127)!==0||Rf(r,t,n)}return n}function Rf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t=Hs(),Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kf(e,t,n,r){t.value=n,t.getSnapshot=r,Nf(t)&&Uf(e)}function Df(e,t,n){return n(function(){Nf(t)&&Uf(e)})}function Nf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xn(e,n)}catch{return!0}}function Uf(e){var t=ar(e,2);t!==null&&_n(t,e,2)}function Mo(e){var t=dn();if(typeof e=="function"){var n=e;if(e=n(),dr){Pe(!0);try{n()}finally{Pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:e},t}function zf(e,t,n,r){return e.baseState=n,Uo(e,vt,typeof r=="function"?r:da)}function tg(e,t,n,r,o){if(Ks(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){u.listeners.push(d)}};T.T!==null?n(!0):u.isTransition=!1,r(u),n=t.pending,n===null?(u.next=t.pending=u,Mf(t,u)):(u.next=n.next,t.pending=n.next=u)}}function Mf(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var u=T.T,d={};T.T=d;try{var g=n(o,r),b=T.S;b!==null&&b(d,g),Bf(e,t,g)}catch(C){Bo(e,t,C)}finally{u!==null&&d.types!==null&&(u.types=d.types),T.T=u}}else try{u=n(o,r),Bf(e,t,u)}catch(C){Bo(e,t,C)}}function Bf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Lf(e,t,r)},function(r){return Bo(e,t,r)}):Lf(e,t,n)}function Lf(e,t,n){t.status="fulfilled",t.value=n,qf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Mf(e,n)))}function Bo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,qf(t),t=t.next;while(t!==r)}e.action=null}function qf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Hf(e,t){return t}function $f(e,t){if(Ze){var n=Et.formState;if(n!==null){e:{var r=Le;if(Ze){if(At){t:{for(var o=At,u=$n;o.nodeType!==8;){if(!u){o=null;break t}if(o=Vn(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){At=Vn(o.nextSibling),r=o.data==="F!";break e}}Ra(r)}r=!1}r&&(t=n[0])}}return n=dn(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hf,lastRenderedState:t},n.queue=r,n=sd.bind(null,Le,r),r.dispatch=n,r=Mo(!1),u=Vo.bind(null,Le,!1,r.queue),r=dn(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,n=tg.bind(null,Le,o,u,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Gf(e){var t=qt();return Vf(t,vt,e)}function Vf(e,t,n){if(t=Uo(e,t,Hf)[0],e=Gs(da)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=zi(t)}catch(d){throw d===qr?Ds:d}else r=t;t=qt();var o=t.queue,u=o.dispatch;return n!==t.memoizedState&&(Le.flags|=2048,Yr(9,{destroy:void 0},ng.bind(null,o,n),null)),[r,u,e]}function ng(e,t){e.action=t}function Yf(e){var t=qt(),n=vt;if(n!==null)return Vf(t,n,e);qt(),t=t.memoizedState,n=qt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Yr(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Le.updateQueue,t===null&&(t=Hs(),Le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Kf(){return qt().memoizedState}function Vs(e,t,n,r){var o=dn();Le.flags|=e,o.memoizedState=Yr(1|t,{destroy:void 0},n,r===void 0?null:r)}function Ys(e,t,n,r){var o=qt();r=r===void 0?null:r;var u=o.memoizedState.inst;vt!==null&&r!==null&&jo(r,vt.memoizedState.deps)?o.memoizedState=Yr(t,u,n,r):(Le.flags|=e,o.memoizedState=Yr(1|t,u,n,r))}function Xf(e,t){Vs(8390656,8,e,t)}function Lo(e,t){Ys(2048,8,e,t)}function ag(e){Le.flags|=4;var t=Le.updateQueue;if(t===null)t=Hs(),Le.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function If(e){var t=qt().memoizedState;return ag({ref:t,nextImpl:e}),function(){if((lt&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Qf(e,t){return Ys(4,2,e,t)}function Jf(e,t){return Ys(4,4,e,t)}function Wf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zf(e,t,n){n=n!=null?n.concat([e]):null,Ys(4,4,Wf.bind(null,t,e),n)}function qo(){}function Ff(e,t){var n=qt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&jo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pf(e,t){var n=qt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&jo(t,r[1]))return r[0];if(r=e(),dr){Pe(!0);try{e()}finally{Pe(!1)}}return n.memoizedState=[r,t],r}function Ho(e,t,n){return n===void 0||(fa&1073741824)!==0&&(Ie&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=eh(),Le.lanes|=e,qa|=e,n)}function ed(e,t,n,r){return xn(n,t)?n:$r.current!==null?(e=Ho(e,n,r),xn(e,t)||(Vt=!0),e):(fa&42)===0||(fa&1073741824)!==0&&(Ie&261930)===0?(Vt=!0,e.memoizedState=n):(e=eh(),Le.lanes|=e,qa|=e,t)}function td(e,t,n,r,o){var u=G.p;G.p=u!==0&&8>u?u:8;var d=T.T,g={};T.T=g,Vo(e,!1,t,n);try{var b=o(),C=T.S;if(C!==null&&C(g,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var L=Fy(b,r);Mi(e,t,L,Cn(e))}else Mi(e,t,r,Cn(e))}catch($){Mi(e,t,{then:function(){},status:"rejected",reason:$},Cn())}finally{G.p=u,d!==null&&g.types!==null&&(d.types=g.types),T.T=d}}function rg(){}function $o(e,t,n,r){if(e.tag!==5)throw Error(l(476));var o=nd(e).queue;td(e,o,t,ce,n===null?rg:function(){return ad(e),n(r)})}function nd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:ce},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ad(e){var t=nd(e);t.next===null&&(t=e.alternate.memoizedState),Mi(e,t.next.queue,{},Cn())}function Go(){return an(Pi)}function rd(){return qt().memoizedState}function id(){return qt().memoizedState}function ig(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Cn();e=Na(n);var r=Ua(t,e,n);r!==null&&(_n(r,t,n),ki(r,t,n)),t={cache:po()},e.payload=t;return}t=t.return}}function sg(e,t,n){var r=Cn();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ks(e)?ld(t,n):(n=io(e,t,n,r),n!==null&&(_n(n,e,r),od(n,t,r)))}function sd(e,t,n){var r=Cn();Mi(e,t,n,r)}function Mi(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ks(e))ld(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var d=t.lastRenderedState,g=u(d,n);if(o.hasEagerState=!0,o.eagerState=g,xn(g,d))return Ts(e,t,o,0),Et===null&&Es(),!1}catch{}if(n=io(e,t,o,r),n!==null)return _n(n,e,r),od(n,t,r),!0}return!1}function Vo(e,t,n,r){if(r={lane:2,revertLane:wu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ks(e)){if(t)throw Error(l(479))}else t=io(e,n,r,2),t!==null&&_n(t,e,2)}function Ks(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function ld(e,t){Gr=Ls=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function od(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nn(e,n)}}var Bi={readContext:an,use:$s,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};Bi.useEffectEvent=zt;var ud={readContext:an,use:$s,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:an,useEffect:Xf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Vs(4194308,4,Wf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){Vs(4,2,e,t)},useMemo:function(e,t){var n=dn();t=t===void 0?null:t;var r=e();if(dr){Pe(!0);try{e()}finally{Pe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=dn();if(n!==void 0){var o=n(t);if(dr){Pe(!0);try{n(t)}finally{Pe(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=sg.bind(null,Le,e),[r.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:function(e){e=Mo(e);var t=e.queue,n=sd.bind(null,Le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:qo,useDeferredValue:function(e,t){var n=dn();return Ho(n,e,t)},useTransition:function(){var e=Mo(!1);return e=td.bind(null,Le,e.queue,!0,!1),dn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Le,o=dn();if(Ze){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),Et===null)throw Error(l(349));(Ie&127)!==0||Rf(r,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,Xf(Df.bind(null,r,u,e),[e]),r.flags|=2048,Yr(9,{destroy:void 0},kf.bind(null,r,u,n,t),null),n},useId:function(){var e=dn(),t=Et.identifierPrefix;if(Ze){var n=ea,r=Pn;n=(r&~(1<<32-Ae(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=qs++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Py++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Go,useFormState:$f,useActionState:$f,useOptimistic:function(e){var t=dn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vo.bind(null,Le,!0,n),n.dispatch=t,[e,t]},useMemoCache:No,useCacheRefresh:function(){return dn().memoizedState=ig.bind(null,Le)},useEffectEvent:function(e){var t=dn(),n={impl:e};return t.memoizedState=n,function(){if((lt&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},Yo={readContext:an,use:$s,useCallback:Ff,useContext:an,useEffect:Lo,useImperativeHandle:Zf,useInsertionEffect:Qf,useLayoutEffect:Jf,useMemo:Pf,useReducer:Gs,useRef:Kf,useState:function(){return Gs(da)},useDebugValue:qo,useDeferredValue:function(e,t){var n=qt();return ed(n,vt.memoizedState,e,t)},useTransition:function(){var e=Gs(da)[0],t=qt().memoizedState;return[typeof e=="boolean"?e:zi(e),t]},useSyncExternalStore:Cf,useId:rd,useHostTransitionStatus:Go,useFormState:Gf,useActionState:Gf,useOptimistic:function(e,t){var n=qt();return zf(n,vt,e,t)},useMemoCache:No,useCacheRefresh:id};Yo.useEffectEvent=If;var cd={readContext:an,use:$s,useCallback:Ff,useContext:an,useEffect:Lo,useImperativeHandle:Zf,useInsertionEffect:Qf,useLayoutEffect:Jf,useMemo:Pf,useReducer:zo,useRef:Kf,useState:function(){return zo(da)},useDebugValue:qo,useDeferredValue:function(e,t){var n=qt();return vt===null?Ho(n,e,t):ed(n,vt.memoizedState,e,t)},useTransition:function(){var e=zo(da)[0],t=qt().memoizedState;return[typeof e=="boolean"?e:zi(e),t]},useSyncExternalStore:Cf,useId:rd,useHostTransitionStatus:Go,useFormState:Yf,useActionState:Yf,useOptimistic:function(e,t){var n=qt();return vt!==null?zf(n,vt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:No,useCacheRefresh:id};cd.useEffectEvent=If;function Ko(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:A({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Cn(),o=Na(r);o.payload=t,n!=null&&(o.callback=n),t=Ua(e,o,r),t!==null&&(_n(t,e,r),ki(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Cn(),o=Na(r);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ua(e,o,r),t!==null&&(_n(t,e,r),ki(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Cn(),r=Na(n);r.tag=2,t!=null&&(r.callback=t),t=Ua(e,r,n),t!==null&&(_n(t,e,n),ki(t,e,n))}};function fd(e,t,n,r,o,u,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,d):t.prototype&&t.prototype.isPureReactComponent?!xi(n,r)||!xi(o,u):!0}function dd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xo.enqueueReplaceState(t,t.state,null)}function hr(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=A({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function hd(e){xs(e)}function md(e){console.error(e)}function yd(e){xs(e)}function Xs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function gd(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Io(e,t,n){return n=Na(n),n.tag=3,n.payload={element:null},n.callback=function(){Xs(e,t)},n}function pd(e){return e=Na(e),e.tag=3,e}function vd(e,t,n,r){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=r.value;e.payload=function(){return o(u)},e.callback=function(){gd(t,n,r)}}var d=n.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){gd(t,n,r),typeof o!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var g=r.stack;this.componentDidCatch(r.value,{componentStack:g!==null?g:""})})}function lg(e,t,n,r,o){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Mr(t,n,o,!0),n=Tn.current,n!==null){switch(n.tag){case 31:case 13:return Gn===null?rl():n.alternate===null&&Mt===0&&(Mt=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===Ns?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),vu(e,r,o)),!1;case 22:return n.flags|=65536,r===Ns?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),vu(e,r,o)),!1}throw Error(l(435,n.tag))}return vu(e,r,o),rl(),!1}if(Ze)return t=Tn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==fo&&(e=Error(l(422),{cause:r}),Ai(Ln(e,n)))):(r!==fo&&(t=Error(l(423),{cause:r}),Ai(Ln(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Ln(r,n),o=Io(e.stateNode,r,o),xo(e,o),Mt!==4&&(Mt=2)),!1;var u=Error(l(520),{cause:r});if(u=Ln(u,n),Ki===null?Ki=[u]:Ki.push(u),Mt!==4&&(Mt=2),t===null)return!0;r=Ln(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=Io(n.stateNode,r,e),xo(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ha===null||!Ha.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=pd(o),vd(o,e,n,r),xo(n,o),!1}n=n.return}while(n!==null);return!1}var Qo=Error(l(461)),Vt=!1;function rn(e,t,n,r){t.child=e===null?Sf(t,null,n,r):fr(t,e.child,n,r)}function bd(e,t,n,r,o){n=n.render;var u=t.ref;if("ref"in r){var d={};for(var g in r)g!=="ref"&&(d[g]=r[g])}else d=r;return lr(t),r=Co(e,t,n,d,u,o),g=Ro(),e!==null&&!Vt?(ko(e,t,o),ha(e,t,o)):(Ze&&g&&uo(t),t.flags|=1,rn(e,t,r,o),t.child)}function _d(e,t,n,r,o){if(e===null){var u=n.type;return typeof u=="function"&&!so(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,wd(e,t,u,r,o)):(e=Os(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!nu(e,o)){var d=u.memoizedProps;if(n=n.compare,n=n!==null?n:xi,n(d,r)&&e.ref===t.ref)return ha(e,t,o)}return t.flags|=1,e=la(u,r),e.ref=t.ref,e.return=t,t.child=e}function wd(e,t,n,r,o){if(e!==null){var u=e.memoizedProps;if(xi(u,r)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=r=u,nu(e,o))(e.flags&131072)!==0&&(Vt=!0);else return t.lanes=e.lanes,ha(e,t,o)}return Jo(e,t,n,r,o)}function Sd(e,t,n,r){var o=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~u}else r=0,t.child=null;return xd(e,t,u,n,r)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ks(t,u!==null?u.cachePool:null),u!==null?Tf(t,u):To(),Af(t);else return r=t.lanes=536870912,xd(e,t,u!==null?u.baseLanes|n:n,n,r)}else u!==null?(ks(t,u.cachePool),Tf(t,u),Ma(),t.memoizedState=null):(e!==null&&ks(t,null),To(),Ma());return rn(e,t,o,n),t.child}function Li(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function xd(e,t,n,r,o){var u=bo();return u=u===null?null:{parent:$t._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&ks(t,null),To(),Af(t),e!==null&&Mr(e,t,r,!0),t.childLanes=o,null}function Is(e,t){return t=Js({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ed(e,t,n){return fr(t,e.child,null,n),e=Is(t,t.pendingProps),e.flags|=2,An(t),t.memoizedState=null,e}function og(e,t,n){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ze){if(r.mode==="hidden")return e=Is(t,r),t.lanes=536870912,Li(null,e);if(Oo(t),(e=At)?(e=Mh(e,$n),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ja!==null?{id:Pn,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},n=lf(e),n.return=t,t.child=n,nn=t,At=null)):e=null,e===null)throw Ra(t);return t.lanes=536870912,null}return Is(t,r)}var u=e.memoizedState;if(u!==null){var d=u.dehydrated;if(Oo(t),o)if(t.flags&256)t.flags&=-257,t=Ed(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Vt||Mr(e,t,n,!1),o=(n&e.childLanes)!==0,Vt||o){if(r=Et,r!==null&&(d=Fn(r,n),d!==0&&d!==u.retryLane))throw u.retryLane=d,ar(e,d),_n(r,e,d),Qo;rl(),t=Ed(e,t,n)}else e=u.treeContext,At=Vn(d.nextSibling),nn=t,Ze=!0,Ca=null,$n=!1,e!==null&&cf(t,e),t=Is(t,r),t.flags|=4096;return t}return e=la(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Qs(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Jo(e,t,n,r,o){return lr(t),n=Co(e,t,n,r,void 0,o),r=Ro(),e!==null&&!Vt?(ko(e,t,o),ha(e,t,o)):(Ze&&r&&uo(t),t.flags|=1,rn(e,t,n,o),t.child)}function Td(e,t,n,r,o,u){return lr(t),t.updateQueue=null,n=jf(t,r,n,o),Of(e),r=Ro(),e!==null&&!Vt?(ko(e,t,u),ha(e,t,u)):(Ze&&r&&uo(t),t.flags|=1,rn(e,t,n,u),t.child)}function Ad(e,t,n,r,o){if(lr(t),t.stateNode===null){var u=Dr,d=n.contextType;typeof d=="object"&&d!==null&&(u=an(d)),u=new n(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Xo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},wo(t),d=n.contextType,u.context=typeof d=="object"&&d!==null?an(d):Dr,u.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Ko(t,n,d,r),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(d=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),d!==u.state&&Xo.enqueueReplaceState(u,u.state,null),Ni(t,r,u,o),Di(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var g=t.memoizedProps,b=hr(n,g);u.props=b;var C=u.context,L=n.contextType;d=Dr,typeof L=="object"&&L!==null&&(d=an(L));var $=n.getDerivedStateFromProps;L=typeof $=="function"||typeof u.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,L||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g||C!==d)&&dd(t,u,r,d),Da=!1;var D=t.memoizedState;u.state=D,Ni(t,r,u,o),Di(),C=t.memoizedState,g||D!==C||Da?(typeof $=="function"&&(Ko(t,n,$,r),C=t.memoizedState),(b=Da||fd(t,n,b,r,D,C,d))?(L||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=C),u.props=r,u.state=C,u.context=d,r=b):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,So(e,t),d=t.memoizedProps,L=hr(n,d),u.props=L,$=t.pendingProps,D=u.context,C=n.contextType,b=Dr,typeof C=="object"&&C!==null&&(b=an(C)),g=n.getDerivedStateFromProps,(C=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==$||D!==b)&&dd(t,u,r,b),Da=!1,D=t.memoizedState,u.state=D,Ni(t,r,u,o),Di();var z=t.memoizedState;d!==$||D!==z||Da||e!==null&&e.dependencies!==null&&Cs(e.dependencies)?(typeof g=="function"&&(Ko(t,n,g,r),z=t.memoizedState),(L=Da||fd(t,n,L,r,D,z,b)||e!==null&&e.dependencies!==null&&Cs(e.dependencies))?(C||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,z,b),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,z,b)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=z),u.props=r,u.state=z,u.context=b,r=L):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,Qs(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=fr(t,e.child,null,o),t.child=fr(t,null,n,o)):rn(e,t,n,o),t.memoizedState=u.state,e=t.child):e=ha(e,t,o),e}function Od(e,t,n,r){return ir(),t.flags|=256,rn(e,t,n,r),t.child}var Wo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zo(e){return{baseLanes:e,cachePool:gf()}}function Fo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=jn),e}function jd(e,t,n){var r=t.pendingProps,o=!1,u=(t.flags&128)!==0,d;if((d=u)||(d=e!==null&&e.memoizedState===null?!1:(Lt.current&2)!==0),d&&(o=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ze){if(o?za(t):Ma(),(e=At)?(e=Mh(e,$n),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ja!==null?{id:Pn,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},n=lf(e),n.return=t,t.child=n,nn=t,At=null)):e=null,e===null)throw Ra(t);return Uu(e)?t.lanes=32:t.lanes=536870912,null}var g=r.children;return r=r.fallback,o?(Ma(),o=t.mode,g=Js({mode:"hidden",children:g},o),r=rr(r,o,n,null),g.return=t,r.return=t,g.sibling=r,t.child=g,r=t.child,r.memoizedState=Zo(n),r.childLanes=Fo(e,d,n),t.memoizedState=Wo,Li(null,r)):(za(t),Po(t,g))}var b=e.memoizedState;if(b!==null&&(g=b.dehydrated,g!==null)){if(u)t.flags&256?(za(t),t.flags&=-257,t=eu(e,t,n)):t.memoizedState!==null?(Ma(),t.child=e.child,t.flags|=128,t=null):(Ma(),g=r.fallback,o=t.mode,r=Js({mode:"visible",children:r.children},o),g=rr(g,o,n,null),g.flags|=2,r.return=t,g.return=t,r.sibling=g,t.child=r,fr(t,e.child,null,n),r=t.child,r.memoizedState=Zo(n),r.childLanes=Fo(e,d,n),t.memoizedState=Wo,t=Li(null,r));else if(za(t),Uu(g)){if(d=g.nextSibling&&g.nextSibling.dataset,d)var C=d.dgst;d=C,r=Error(l(419)),r.stack="",r.digest=d,Ai({value:r,source:null,stack:null}),t=eu(e,t,n)}else if(Vt||Mr(e,t,n,!1),d=(n&e.childLanes)!==0,Vt||d){if(d=Et,d!==null&&(r=Fn(d,n),r!==0&&r!==b.retryLane))throw b.retryLane=r,ar(e,r),_n(d,e,r),Qo;Nu(g)||rl(),t=eu(e,t,n)}else Nu(g)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,At=Vn(g.nextSibling),nn=t,Ze=!0,Ca=null,$n=!1,e!==null&&cf(t,e),t=Po(t,r.children),t.flags|=4096);return t}return o?(Ma(),g=r.fallback,o=t.mode,b=e.child,C=b.sibling,r=la(b,{mode:"hidden",children:r.children}),r.subtreeFlags=b.subtreeFlags&65011712,C!==null?g=la(C,g):(g=rr(g,o,n,null),g.flags|=2),g.return=t,r.return=t,r.sibling=g,t.child=r,Li(null,r),r=t.child,g=e.child.memoizedState,g===null?g=Zo(n):(o=g.cachePool,o!==null?(b=$t._currentValue,o=o.parent!==b?{parent:b,pool:b}:o):o=gf(),g={baseLanes:g.baseLanes|n,cachePool:o}),r.memoizedState=g,r.childLanes=Fo(e,d,n),t.memoizedState=Wo,Li(e.child,r)):(za(t),n=e.child,e=n.sibling,n=la(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=n,t.memoizedState=null,n)}function Po(e,t){return t=Js({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Js(e,t){return e=En(22,e,null,t),e.lanes=0,e}function eu(e,t,n){return fr(t,e.child,null,n),e=Po(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),yo(e.return,t,n)}function tu(e,t,n,r,o,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=n,d.tailMode=o,d.treeForkCount=u)}function Rd(e,t,n){var r=t.pendingProps,o=r.revealOrder,u=r.tail;r=r.children;var d=Lt.current,g=(d&2)!==0;if(g?(d=d&1|2,t.flags|=128):d&=1,ee(Lt,d),rn(e,t,r,n),r=Ze?Ti:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cd(e,n,t);else if(e.tag===19)Cd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Bs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),tu(t,!1,o,n,u,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Bs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}tu(t,!0,n,null,u,r);break;case"together":tu(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ha(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qa|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Mr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=la(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=la(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function nu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Cs(e)))}function ug(e,t,n){switch(t.tag){case 3:yt(t,t.stateNode.containerInfo),ka(t,$t,e.memoizedState.cache),ir();break;case 27:case 5:It(t);break;case 4:yt(t,t.stateNode.containerInfo);break;case 10:ka(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Oo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(za(t),t.flags|=128,null):(n&t.child.childLanes)!==0?jd(e,t,n):(za(t),e=ha(e,t,n),e!==null?e.sibling:null);za(t);break;case 19:var o=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Mr(e,t,n,!1),r=(n&t.childLanes)!==0),o){if(r)return Rd(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ee(Lt,Lt.current),r)break;return null;case 22:return t.lanes=0,Sd(e,t,n,t.pendingProps);case 24:ka(t,$t,e.memoizedState.cache)}return ha(e,t,n)}function kd(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Vt=!0;else{if(!nu(e,n)&&(t.flags&128)===0)return Vt=!1,ug(e,t,n);Vt=(e.flags&131072)!==0}else Vt=!1,Ze&&(t.flags&1048576)!==0&&uf(t,Ti,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ur(t.elementType),t.type=e,typeof e=="function")so(e)?(r=hr(e,r),t.tag=1,t=Ad(null,t,e,r,n)):(t.tag=0,t=Jo(null,t,e,r,n));else{if(e!=null){var o=e.$$typeof;if(o===se){t.tag=11,t=bd(null,t,e,r,n);break e}else if(o===oe){t.tag=14,t=_d(null,t,e,r,n);break e}}throw t=ve(e)||e,Error(l(306,t,""))}}return t;case 0:return Jo(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,o=hr(r,t.pendingProps),Ad(e,t,r,o,n);case 3:e:{if(yt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));r=t.pendingProps;var u=t.memoizedState;o=u.element,So(e,t),Ni(t,r,null,n);var d=t.memoizedState;if(r=d.cache,ka(t,$t,r),r!==u.cache&&go(t,[$t],n,!0),Di(),r=d.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Od(e,t,r,n);break e}else if(r!==o){o=Ln(Error(l(424)),t),Ai(o),t=Od(e,t,r,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,At=Vn(e.firstChild),nn=t,Ze=!0,Ca=null,$n=!0,n=Sf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ir(),r===o){t=ha(e,t,n);break e}rn(e,t,r,n)}t=t.child}return t;case 26:return Qs(e,t),e===null?(n=Gh(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ze||(n=t.type,e=t.pendingProps,r=fl(Se.current).createElement(n),r[Nt]=t,r[Ht]=e,sn(r,n,e),Be(r),t.stateNode=r):t.memoizedState=Gh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return It(t),e===null&&Ze&&(r=t.stateNode=qh(t.type,t.pendingProps,Se.current),nn=t,$n=!0,o=At,Ya(t.type)?(zu=o,At=Vn(r.firstChild)):At=o),rn(e,t,t.pendingProps.children,n),Qs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ze&&((o=r=At)&&(r=qg(r,t.type,t.pendingProps,$n),r!==null?(t.stateNode=r,nn=t,At=Vn(r.firstChild),$n=!1,o=!0):o=!1),o||Ra(t)),It(t),o=t.type,u=t.pendingProps,d=e!==null?e.memoizedProps:null,r=u.children,Ru(o,u)?r=null:d!==null&&Ru(o,d)&&(t.flags|=32),t.memoizedState!==null&&(o=Co(e,t,eg,null,null,n),Pi._currentValue=o),Qs(e,t),rn(e,t,r,n),t.child;case 6:return e===null&&Ze&&((e=n=At)&&(n=Hg(n,t.pendingProps,$n),n!==null?(t.stateNode=n,nn=t,At=null,e=!0):e=!1),e||Ra(t)),null;case 13:return jd(e,t,n);case 4:return yt(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fr(t,null,r,n):rn(e,t,r,n),t.child;case 11:return bd(e,t,t.type,t.pendingProps,n);case 7:return rn(e,t,t.pendingProps,n),t.child;case 8:return rn(e,t,t.pendingProps.children,n),t.child;case 12:return rn(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ka(t,t.type,r.value),rn(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,lr(t),o=an(o),r=r(o),t.flags|=1,rn(e,t,r,n),t.child;case 14:return _d(e,t,t.type,t.pendingProps,n);case 15:return wd(e,t,t.type,t.pendingProps,n);case 19:return Rd(e,t,n);case 31:return og(e,t,n);case 22:return Sd(e,t,n,t.pendingProps);case 24:return lr(t),r=an($t),e===null?(o=bo(),o===null&&(o=Et,u=po(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:r,cache:o},wo(t),ka(t,$t,o)):((e.lanes&n)!==0&&(So(e,t),Ni(t,null,null,n),Di()),o=e.memoizedState,u=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),ka(t,$t,r)):(r=u.cache,ka(t,$t,r),r!==o.cache&&go(t,[$t],n,!0))),rn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ma(e){e.flags|=4}function au(e,t,n,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(rh())e.flags|=8192;else throw cr=Ns,_o}else e.flags&=-16777217}function Dd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ih(t))if(rh())e.flags|=8192;else throw cr=Ns,_o}function Ws(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?pt():536870912,e.lanes|=t,Qr|=t)}function qi(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function cg(e,t,n){var r=t.pendingProps;switch(co(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return Ot(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ca($t),je(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zr(t)?ma(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ho())),Ot(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(ma(t),u!==null?(Ot(t),Dd(t,u)):(Ot(t),au(t,o,null,r,n))):u?u!==e.memoizedState?(ma(t),Ot(t),Dd(t,u)):(Ot(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&ma(t),Ot(t),au(t,o,e,r,n)),null;case 27:if(ae(t),n=Se.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ma(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Ot(t),null}e=ne.current,zr(t)?ff(t):(e=qh(o,r,n),t.stateNode=e,ma(t))}return Ot(t),null;case 5:if(ae(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ma(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Ot(t),null}if(u=ne.current,zr(t))ff(t);else{var d=fl(Se.current);switch(u){case 1:u=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=d.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?d.createElement("select",{is:r.is}):d.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?d.createElement(o,{is:r.is}):d.createElement(o)}}u[Nt]=t,u[Ht]=r;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)u.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=u;e:switch(sn(u,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ma(t)}}return Ot(t),au(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&ma(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(e=Se.current,zr(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,o=nn,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Nt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||jh(e.nodeValue,n)),e||Ra(t,!0)}else e=fl(e).createTextNode(r),e[Nt]=t,t.stateNode=e}return Ot(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=zr(t),n!==null){if(e===null){if(!r)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[Nt]=t}else ir(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ot(t),e=!1}else n=ho(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(An(t),t):(An(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Ot(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=zr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[Nt]=t}else ir(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ot(t),o=!1}else o=ho(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(An(t),t):(An(t),null)}return An(t),(t.flags&128)!==0?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ws(t,t.updateQueue),Ot(t),null);case 4:return je(),e===null&&Tu(t.stateNode.containerInfo),Ot(t),null;case 10:return ca(t.type),Ot(t),null;case 19:if(B(Lt),r=t.memoizedState,r===null)return Ot(t),null;if(o=(t.flags&128)!==0,u=r.rendering,u===null)if(o)qi(r,!1);else{if(Mt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Bs(e),u!==null){for(t.flags|=128,qi(r,!1),e=u.updateQueue,t.updateQueue=e,Ws(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)sf(n,e),n=n.sibling;return ee(Lt,Lt.current&1|2),Ze&&oa(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Ue()>tl&&(t.flags|=128,o=!0,qi(r,!1),t.lanes=4194304)}else{if(!o)if(e=Bs(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Ws(t,e),qi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!Ze)return Ot(t),null}else 2*Ue()-r.renderingStartTime>tl&&n!==536870912&&(t.flags|=128,o=!0,qi(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ue(),e.sibling=null,n=Lt.current,ee(Lt,o?n&1|2:n&1),Ze&&oa(t,r.treeForkCount),e):(Ot(t),null);case 22:case 23:return An(t),Ao(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),n=t.updateQueue,n!==null&&Ws(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&B(or),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ca($t),Ot(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function fg(e,t){switch(co(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ca($t),je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ae(t),null;case 31:if(t.memoizedState!==null){if(An(t),t.alternate===null)throw Error(l(340));ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(An(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(Lt),null;case 4:return je(),null;case 10:return ca(t.type),null;case 22:case 23:return An(t),Ao(),e!==null&&B(or),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ca($t),null;case 25:return null;default:return null}}function Nd(e,t){switch(co(t),t.tag){case 3:ca($t),je();break;case 26:case 27:case 5:ae(t);break;case 4:je();break;case 31:t.memoizedState!==null&&An(t);break;case 13:An(t);break;case 19:B(Lt);break;case 10:ca(t.type);break;case 22:case 23:An(t),Ao(),e!==null&&B(or);break;case 24:ca($t)}}function Hi(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var u=n.create,d=n.inst;r=u(),d.destroy=r}n=n.next}while(n!==o)}}catch(g){mt(t,t.return,g)}}function Ba(e,t,n){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){var d=r.inst,g=d.destroy;if(g!==void 0){d.destroy=void 0,o=t;var b=n,C=g;try{C()}catch(L){mt(o,b,L)}}}r=r.next}while(r!==u)}}catch(L){mt(t,t.return,L)}}function Ud(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ef(t,n)}catch(r){mt(e,e.return,r)}}}function zd(e,t,n){n.props=hr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){mt(e,t,r)}}function $i(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(o){mt(e,t,o)}}function ta(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(o){mt(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){mt(e,t,o)}else n.current=null}function Md(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){mt(e,e.return,o)}}function ru(e,t,n){try{var r=e.stateNode;Ng(r,e.type,n,t),r[Ht]=t}catch(o){mt(e,e.return,o)}}function Bd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ya(e.type)||e.tag===4}function iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ya(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function su(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ia));else if(r!==4&&(r===27&&Ya(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(su(e,t,n),e=e.sibling;e!==null;)su(e,t,n),e=e.sibling}function Zs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Ya(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Zs(e,t,n),e=e.sibling;e!==null;)Zs(e,t,n),e=e.sibling}function Ld(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);sn(t,r,n),t[Nt]=e,t[Ht]=n}catch(u){mt(e,e.return,u)}}var ya=!1,Yt=!1,lu=!1,qd=typeof WeakSet=="function"?WeakSet:Set,tn=null;function dg(e,t){if(e=e.containerInfo,ju=vl,e=Wc(e),Pl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var d=0,g=-1,b=-1,C=0,L=0,$=e,D=null;t:for(;;){for(var z;$!==n||o!==0&&$.nodeType!==3||(g=d+o),$!==u||r!==0&&$.nodeType!==3||(b=d+r),$.nodeType===3&&(d+=$.nodeValue.length),(z=$.firstChild)!==null;)D=$,$=z;for(;;){if($===e)break t;if(D===n&&++C===o&&(g=d),D===u&&++L===r&&(b=d),(z=$.nextSibling)!==null)break;$=D,D=$.parentNode}$=z}n=g===-1||b===-1?null:{start:g,end:b}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cu={focusedElem:e,selectionRange:n},vl=!1,tn=t;tn!==null;)if(t=tn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tn=e;else for(;tn!==null;){switch(t=tn,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,r=n.stateNode;try{var de=hr(n.type,o);e=r.getSnapshotBeforeUpdate(de,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(Oe){mt(n,n.return,Oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Du(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,tn=e;break}tn=t.return}}function Hd(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:pa(e,n),r&4&&Hi(5,n);break;case 1:if(pa(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(d){mt(n,n.return,d)}else{var o=hr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){mt(n,n.return,d)}}r&64&&Ud(n),r&512&&$i(n,n.return);break;case 3:if(pa(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ef(e,t)}catch(d){mt(n,n.return,d)}}break;case 27:t===null&&r&4&&Ld(n);case 26:case 5:pa(e,n),t===null&&r&4&&Md(n),r&512&&$i(n,n.return);break;case 12:pa(e,n);break;case 31:pa(e,n),r&4&&Vd(e,n);break;case 13:pa(e,n),r&4&&Yd(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=wg.bind(null,n),$g(e,n))));break;case 22:if(r=n.memoizedState!==null||ya,!r){t=t!==null&&t.memoizedState!==null||Yt,o=ya;var u=Yt;ya=r,(Yt=t)&&!u?va(e,n,(n.subtreeFlags&8772)!==0):pa(e,n),ya=o,Yt=u}break;case 30:break;default:pa(e,n)}}function $d(e){var t=e.alternate;t!==null&&(e.alternate=null,$d(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&K(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var kt=null,gn=!1;function ga(e,t,n){for(n=n.child;n!==null;)Gd(e,t,n),n=n.sibling}function Gd(e,t,n){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(me,n)}catch{}switch(n.tag){case 26:Yt||ta(n,t),ga(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Yt||ta(n,t);var r=kt,o=gn;Ya(n.type)&&(kt=n.stateNode,gn=!1),ga(e,t,n),Wi(n.stateNode),kt=r,gn=o;break;case 5:Yt||ta(n,t);case 6:if(r=kt,o=gn,kt=null,ga(e,t,n),kt=r,gn=o,kt!==null)if(gn)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(n.stateNode)}catch(u){mt(n,t,u)}else try{kt.removeChild(n.stateNode)}catch(u){mt(n,t,u)}break;case 18:kt!==null&&(gn?(e=kt,Uh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ni(e)):Uh(kt,n.stateNode));break;case 4:r=kt,o=gn,kt=n.stateNode.containerInfo,gn=!0,ga(e,t,n),kt=r,gn=o;break;case 0:case 11:case 14:case 15:Ba(2,n,t),Yt||Ba(4,n,t),ga(e,t,n);break;case 1:Yt||(ta(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&zd(n,t,r)),ga(e,t,n);break;case 21:ga(e,t,n);break;case 22:Yt=(r=Yt)||n.memoizedState!==null,ga(e,t,n),Yt=r;break;default:ga(e,t,n)}}function Vd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ni(e)}catch(n){mt(t,t.return,n)}}}function Yd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ni(e)}catch(n){mt(t,t.return,n)}}function hg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new qd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new qd),t;default:throw Error(l(435,e.tag))}}function Fs(e,t){var n=hg(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var o=Sg.bind(null,e,r);r.then(o,o)}})}function pn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r],u=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 27:if(Ya(g.type)){kt=g.stateNode,gn=!1;break e}break;case 5:kt=g.stateNode,gn=!1;break e;case 3:case 4:kt=g.stateNode.containerInfo,gn=!0;break e}g=g.return}if(kt===null)throw Error(l(160));Gd(u,d,o),kt=null,gn=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Kd(t,e),t=t.sibling}var In=null;function Kd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(t,e),vn(e),r&4&&(Ba(3,e,e.return),Hi(3,e),Ba(5,e,e.return));break;case 1:pn(t,e),vn(e),r&512&&(Yt||n===null||ta(n,n.return)),r&64&&ya&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var o=In;if(pn(t,e),vn(e),r&512&&(Yt||n===null||ta(n,n.return)),r&4){var u=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":u=o.getElementsByTagName("title")[0],(!u||u[M]||u[Nt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(r),o.head.insertBefore(u,o.querySelector("head > title"))),sn(u,r,n),u[Nt]=e,Be(u),r=u;break e;case"link":var d=Kh("link","href",o).get(r+(n.href||""));if(d){for(var g=0;g<d.length;g++)if(u=d[g],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){d.splice(g,1);break t}}u=o.createElement(r),sn(u,r,n),o.head.appendChild(u);break;case"meta":if(d=Kh("meta","content",o).get(r+(n.content||""))){for(g=0;g<d.length;g++)if(u=d[g],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){d.splice(g,1);break t}}u=o.createElement(r),sn(u,r,n),o.head.appendChild(u);break;default:throw Error(l(468,r))}u[Nt]=e,Be(u),r=u}e.stateNode=r}else Xh(o,e.type,e.stateNode);else e.stateNode=Yh(o,r,e.memoizedProps);else u!==r?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,r===null?Xh(o,e.type,e.stateNode):Yh(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&ru(e,e.memoizedProps,n.memoizedProps)}break;case 27:pn(t,e),vn(e),r&512&&(Yt||n===null||ta(n,n.return)),n!==null&&r&4&&ru(e,e.memoizedProps,n.memoizedProps);break;case 5:if(pn(t,e),vn(e),r&512&&(Yt||n===null||ta(n,n.return)),e.flags&32){o=e.stateNode;try{Tr(o,"")}catch(de){mt(e,e.return,de)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,ru(e,o,n!==null?n.memoizedProps:o)),r&1024&&(lu=!0);break;case 6:if(pn(t,e),vn(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(de){mt(e,e.return,de)}}break;case 3:if(ml=null,o=In,In=dl(t.containerInfo),pn(t,e),In=o,vn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(de){mt(e,e.return,de)}lu&&(lu=!1,Xd(e));break;case 4:r=In,In=dl(e.stateNode.containerInfo),pn(t,e),vn(e),In=r;break;case 12:pn(t,e),vn(e);break;case 31:pn(t,e),vn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Fs(e,r)));break;case 13:pn(t,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(el=Ue()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Fs(e,r)));break;case 22:o=e.memoizedState!==null;var b=n!==null&&n.memoizedState!==null,C=ya,L=Yt;if(ya=C||o,Yt=L||b,pn(t,e),Yt=L,ya=C,vn(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||b||ya||Yt||mr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){b=n=t;try{if(u=b.stateNode,o)d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=b.stateNode;var $=b.memoizedProps.style,D=$!=null&&$.hasOwnProperty("display")?$.display:null;g.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(de){mt(b,b.return,de)}}}else if(t.tag===6){if(n===null){b=t;try{b.stateNode.nodeValue=o?"":b.memoizedProps}catch(de){mt(b,b.return,de)}}}else if(t.tag===18){if(n===null){b=t;try{var z=b.stateNode;o?zh(z,!0):zh(b.stateNode,!1)}catch(de){mt(b,b.return,de)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Fs(e,n))));break;case 19:pn(t,e),vn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Fs(e,r)));break;case 30:break;case 21:break;default:pn(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Bd(r)){n=r;break}r=r.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var o=n.stateNode,u=iu(e);Zs(e,u,o);break;case 5:var d=n.stateNode;n.flags&32&&(Tr(d,""),n.flags&=-33);var g=iu(e);Zs(e,g,d);break;case 3:case 4:var b=n.stateNode.containerInfo,C=iu(e);su(e,C,b);break;default:throw Error(l(161))}}catch(L){mt(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Xd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function pa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Hd(e,t.alternate,t),t=t.sibling}function mr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ba(4,t,t.return),mr(t);break;case 1:ta(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&zd(t,t.return,n),mr(t);break;case 27:Wi(t.stateNode);case 26:case 5:ta(t,t.return),mr(t);break;case 22:t.memoizedState===null&&mr(t);break;case 30:mr(t);break;default:mr(t)}e=e.sibling}}function va(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,u=t,d=u.flags;switch(u.tag){case 0:case 11:case 15:va(o,u,n),Hi(4,u);break;case 1:if(va(o,u,n),r=u,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(C){mt(r,r.return,C)}if(r=u,o=r.updateQueue,o!==null){var g=r.stateNode;try{var b=o.shared.hiddenCallbacks;if(b!==null)for(o.shared.hiddenCallbacks=null,o=0;o<b.length;o++)xf(b[o],g)}catch(C){mt(r,r.return,C)}}n&&d&64&&Ud(u),$i(u,u.return);break;case 27:Ld(u);case 26:case 5:va(o,u,n),n&&r===null&&d&4&&Md(u),$i(u,u.return);break;case 12:va(o,u,n);break;case 31:va(o,u,n),n&&d&4&&Vd(o,u);break;case 13:va(o,u,n),n&&d&4&&Yd(o,u);break;case 22:u.memoizedState===null&&va(o,u,n),$i(u,u.return);break;case 30:break;default:va(o,u,n)}t=t.sibling}}function ou(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Oi(n))}function uu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Oi(e))}function Qn(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Id(e,t,n,r),t=t.sibling}function Id(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Qn(e,t,n,r),o&2048&&Hi(9,t);break;case 1:Qn(e,t,n,r);break;case 3:Qn(e,t,n,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Oi(e)));break;case 12:if(o&2048){Qn(e,t,n,r),e=t.stateNode;try{var u=t.memoizedProps,d=u.id,g=u.onPostCommit;typeof g=="function"&&g(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){mt(t,t.return,b)}}else Qn(e,t,n,r);break;case 31:Qn(e,t,n,r);break;case 13:Qn(e,t,n,r);break;case 23:break;case 22:u=t.stateNode,d=t.alternate,t.memoizedState!==null?u._visibility&2?Qn(e,t,n,r):Gi(e,t):u._visibility&2?Qn(e,t,n,r):(u._visibility|=2,Kr(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&ou(d,t);break;case 24:Qn(e,t,n,r),o&2048&&uu(t.alternate,t);break;default:Qn(e,t,n,r)}}function Kr(e,t,n,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,d=t,g=n,b=r,C=d.flags;switch(d.tag){case 0:case 11:case 15:Kr(u,d,g,b,o),Hi(8,d);break;case 23:break;case 22:var L=d.stateNode;d.memoizedState!==null?L._visibility&2?Kr(u,d,g,b,o):Gi(u,d):(L._visibility|=2,Kr(u,d,g,b,o)),o&&C&2048&&ou(d.alternate,d);break;case 24:Kr(u,d,g,b,o),o&&C&2048&&uu(d.alternate,d);break;default:Kr(u,d,g,b,o)}t=t.sibling}}function Gi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:Gi(n,r),o&2048&&ou(r.alternate,r);break;case 24:Gi(n,r),o&2048&&uu(r.alternate,r);break;default:Gi(n,r)}t=t.sibling}}var Vi=8192;function Xr(e,t,n){if(e.subtreeFlags&Vi)for(e=e.child;e!==null;)Qd(e,t,n),e=e.sibling}function Qd(e,t,n){switch(e.tag){case 26:Xr(e,t,n),e.flags&Vi&&e.memoizedState!==null&&Pg(n,In,e.memoizedState,e.memoizedProps);break;case 5:Xr(e,t,n);break;case 3:case 4:var r=In;In=dl(e.stateNode.containerInfo),Xr(e,t,n),In=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Vi,Vi=16777216,Xr(e,t,n),Vi=r):Xr(e,t,n));break;default:Xr(e,t,n)}}function Jd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Yi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];tn=r,Zd(r,e)}Jd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wd(e),e=e.sibling}function Wd(e){switch(e.tag){case 0:case 11:case 15:Yi(e),e.flags&2048&&Ba(9,e,e.return);break;case 3:Yi(e);break;case 12:Yi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ps(e)):Yi(e);break;default:Yi(e)}}function Ps(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];tn=r,Zd(r,e)}Jd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ba(8,t,t.return),Ps(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ps(t));break;default:Ps(t)}e=e.sibling}}function Zd(e,t){for(;tn!==null;){var n=tn;switch(n.tag){case 0:case 11:case 15:Ba(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Oi(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,tn=r;else e:for(n=e;tn!==null;){r=tn;var o=r.sibling,u=r.return;if($d(r),r===n){tn=null;break e}if(o!==null){o.return=u,tn=o;break e}tn=u}}}var mg={getCacheForType:function(e){var t=an($t),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return an($t).controller.signal}},yg=typeof WeakMap=="function"?WeakMap:Map,lt=0,Et=null,Ye=null,Ie=0,ht=0,On=null,La=!1,Ir=!1,cu=!1,ba=0,Mt=0,qa=0,yr=0,fu=0,jn=0,Qr=0,Ki=null,bn=null,du=!1,el=0,Fd=0,tl=1/0,nl=null,Ha=null,Pt=0,$a=null,Jr=null,_a=0,hu=0,mu=null,Pd=null,Xi=0,yu=null;function Cn(){return(lt&2)!==0&&Ie!==0?Ie&-Ie:T.T!==null?wu():zn()}function eh(){if(jn===0)if((Ie&536870912)===0||Ze){var e=at;at<<=1,(at&3932160)===0&&(at=262144),jn=e}else jn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),jn}function _n(e,t,n){(e===Et&&(ht===2||ht===9)||e.cancelPendingCommit!==null)&&(Wr(e,0),Ga(e,Ie,jn,!1)),Ve(e,n),((lt&2)===0||e!==Et)&&(e===Et&&((lt&2)===0&&(yr|=n),Mt===4&&Ga(e,Ie,jn,!1)),na(e))}function th(e,t,n){if((lt&6)!==0)throw Error(l(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Dt(e,t),o=r?vg(e,t):pu(e,t,!0),u=r;do{if(o===0){Ir&&!r&&Ga(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!gg(n)){o=pu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var g=e;o=Ki;var b=g.current.memoizedState.isDehydrated;if(b&&(Wr(g,d).flags|=256),d=pu(g,d,!1),d!==2){if(cu&&!b){g.errorRecoveryDisabledLanes|=u,yr|=u,o=4;break e}u=bn,bn=o,u!==null&&(bn===null?bn=u:bn.push.apply(bn,u))}o=d}if(u=!1,o!==2)continue}}if(o===1){Wr(e,0),Ga(e,t,0,!0);break}e:{switch(r=e,u=o,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ga(r,t,jn,!La);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=el+300-Ue(),10<o)){if(Ga(r,t,jn,!La),Zt(r,0,!0)!==0)break e;_a=t,r.timeoutHandle=Dh(nh.bind(null,r,n,bn,nl,du,t,jn,yr,Qr,La,u,"Throttled",-0,0),o);break e}nh(r,n,bn,nl,du,t,jn,yr,Qr,La,u,null,-0,0)}}break}while(!0);na(e)}function nh(e,t,n,r,o,u,d,g,b,C,L,$,D,z){if(e.timeoutHandle=-1,$=t.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ia},Qd(t,u,$);var de=(u&62914560)===u?el-Ue():(u&4194048)===u?Fd-Ue():0;if(de=ep($,de),de!==null){_a=u,e.cancelPendingCommit=de(ch.bind(null,e,t,u,n,r,o,d,g,b,L,$,null,D,z)),Ga(e,u,d,!C);return}}ch(e,t,u,n,r,o,d,g,b)}function gg(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var o=n[r],u=o.getSnapshot;o=o.value;try{if(!xn(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(e,t,n,r){t&=~fu,t&=~yr,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var u=31-Ae(o),d=1<<u;r[u]=-1,o&=~d}n!==0&&fn(e,n,t)}function al(){return(lt&6)===0?(Ii(0),!1):!0}function gu(){if(Ye!==null){if(ht===0)var e=Ye.return;else e=Ye,ua=sr=null,Do(e),Hr=null,Ci=0,e=Ye;for(;e!==null;)Nd(e.alternate,e),e=e.return;Ye=null}}function Wr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Mg(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),_a=0,gu(),Et=e,Ye=n=la(e.current,null),Ie=t,ht=0,On=null,La=!1,Ir=Dt(e,t),cu=!1,Qr=jn=fu=yr=qa=Mt=0,bn=Ki=null,du=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-Ae(r),u=1<<o;t|=e[o],r&=~u}return ba=t,Es(),n}function ah(e,t){Le=null,T.H=Bi,t===qr||t===Ds?(t=bf(),ht=3):t===_o?(t=bf(),ht=4):ht=t===Qo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,On=t,Ye===null&&(Mt=1,Xs(e,Ln(t,e.current)))}function rh(){var e=Tn.current;return e===null?!0:(Ie&4194048)===Ie?Gn===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?e===Gn:!1}function ih(){var e=T.H;return T.H=Bi,e===null?Bi:e}function sh(){var e=T.A;return T.A=mg,e}function rl(){Mt=4,La||(Ie&4194048)!==Ie&&Tn.current!==null||(Ir=!0),(qa&134217727)===0&&(yr&134217727)===0||Et===null||Ga(Et,Ie,jn,!1)}function pu(e,t,n){var r=lt;lt|=2;var o=ih(),u=sh();(Et!==e||Ie!==t)&&(nl=null,Wr(e,t)),t=!1;var d=Mt;e:do try{if(ht!==0&&Ye!==null){var g=Ye,b=On;switch(ht){case 8:gu(),d=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(t=!0);var C=ht;if(ht=0,On=null,Zr(e,g,b,C),n&&Ir){d=0;break e}break;default:C=ht,ht=0,On=null,Zr(e,g,b,C)}}pg(),d=Mt;break}catch(L){ah(e,L)}while(!0);return t&&e.shellSuspendCounter++,ua=sr=null,lt=r,T.H=o,T.A=u,Ye===null&&(Et=null,Ie=0,Es()),d}function pg(){for(;Ye!==null;)lh(Ye)}function vg(e,t){var n=lt;lt|=2;var r=ih(),o=sh();Et!==e||Ie!==t?(nl=null,tl=Ue()+500,Wr(e,t)):Ir=Dt(e,t);e:do try{if(ht!==0&&Ye!==null){t=Ye;var u=On;t:switch(ht){case 1:ht=0,On=null,Zr(e,t,u,1);break;case 2:case 9:if(pf(u)){ht=0,On=null,oh(t);break}t=function(){ht!==2&&ht!==9||Et!==e||(ht=7),na(e)},u.then(t,t);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:pf(u)?(ht=0,On=null,oh(t)):(ht=0,On=null,Zr(e,t,u,7));break;case 5:var d=null;switch(Ye.tag){case 26:d=Ye.memoizedState;case 5:case 27:var g=Ye;if(d?Ih(d):g.stateNode.complete){ht=0,On=null;var b=g.sibling;if(b!==null)Ye=b;else{var C=g.return;C!==null?(Ye=C,il(C)):Ye=null}break t}}ht=0,On=null,Zr(e,t,u,5);break;case 6:ht=0,On=null,Zr(e,t,u,6);break;case 8:gu(),Mt=6;break e;default:throw Error(l(462))}}bg();break}catch(L){ah(e,L)}while(!0);return ua=sr=null,T.H=r,T.A=o,lt=n,Ye!==null?0:(Et=null,Ie=0,Es(),Mt)}function bg(){for(;Ye!==null&&!ut();)lh(Ye)}function lh(e){var t=kd(e.alternate,e,ba);e.memoizedProps=e.pendingProps,t===null?il(e):Ye=t}function oh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Td(n,t,t.pendingProps,t.type,void 0,Ie);break;case 11:t=Td(n,t,t.pendingProps,t.type.render,t.ref,Ie);break;case 5:Do(t);default:Nd(n,t),t=Ye=sf(t,ba),t=kd(n,t,ba)}e.memoizedProps=e.pendingProps,t===null?il(e):Ye=t}function Zr(e,t,n,r){ua=sr=null,Do(t),Hr=null,Ci=0;var o=t.return;try{if(lg(e,o,t,n,Ie)){Mt=1,Xs(e,Ln(n,e.current)),Ye=null;return}}catch(u){if(o!==null)throw Ye=o,u;Mt=1,Xs(e,Ln(n,e.current)),Ye=null;return}t.flags&32768?(Ze||r===1?e=!0:Ir||(Ie&536870912)!==0?e=!1:(La=e=!0,(r===2||r===9||r===3||r===6)&&(r=Tn.current,r!==null&&r.tag===13&&(r.flags|=16384))),uh(t,e)):il(t)}function il(e){var t=e;do{if((t.flags&32768)!==0){uh(t,La);return}e=t.return;var n=cg(t.alternate,t,ba);if(n!==null){Ye=n;return}if(t=t.sibling,t!==null){Ye=t;return}Ye=t=e}while(t!==null);Mt===0&&(Mt=5)}function uh(e,t){do{var n=fg(e.alternate,e);if(n!==null){n.flags&=32767,Ye=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ye=e;return}Ye=e=n}while(e!==null);Mt=6,Ye=null}function ch(e,t,n,r,o,u,d,g,b){e.cancelPendingCommit=null;do sl();while(Pt!==0);if((lt&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=ro,Rt(e,n,u,d,g,b),e===Et&&(Ye=Et=null,Ie=0),Jr=t,$a=e,_a=n,hu=u,mu=o,Pd=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xg(X,function(){return yh(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=T.T,T.T=null,o=G.p,G.p=2,d=lt,lt|=4;try{dg(e,t,n)}finally{lt=d,G.p=o,T.T=r}}Pt=1,fh(),dh(),hh()}}function fh(){if(Pt===1){Pt=0;var e=$a,t=Jr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=T.T,T.T=null;var r=G.p;G.p=2;var o=lt;lt|=4;try{Kd(t,e);var u=Cu,d=Wc(e.containerInfo),g=u.focusedElem,b=u.selectionRange;if(d!==g&&g&&g.ownerDocument&&Jc(g.ownerDocument.documentElement,g)){if(b!==null&&Pl(g)){var C=b.start,L=b.end;if(L===void 0&&(L=C),"selectionStart"in g)g.selectionStart=C,g.selectionEnd=Math.min(L,g.value.length);else{var $=g.ownerDocument||document,D=$&&$.defaultView||window;if(D.getSelection){var z=D.getSelection(),de=g.textContent.length,Oe=Math.min(b.start,de),_t=b.end===void 0?Oe:Math.min(b.end,de);!z.extend&&Oe>_t&&(d=_t,_t=Oe,Oe=d);var E=Qc(g,Oe),w=Qc(g,_t);if(E&&w&&(z.rangeCount!==1||z.anchorNode!==E.node||z.anchorOffset!==E.offset||z.focusNode!==w.node||z.focusOffset!==w.offset)){var O=$.createRange();O.setStart(E.node,E.offset),z.removeAllRanges(),Oe>_t?(z.addRange(O),z.extend(w.node,w.offset)):(O.setEnd(w.node,w.offset),z.addRange(O))}}}}for($=[],z=g;z=z.parentNode;)z.nodeType===1&&$.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<$.length;g++){var q=$[g];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}vl=!!ju,Cu=ju=null}finally{lt=o,G.p=r,T.T=n}}e.current=t,Pt=2}}function dh(){if(Pt===2){Pt=0;var e=$a,t=Jr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=T.T,T.T=null;var r=G.p;G.p=2;var o=lt;lt|=4;try{Hd(e,t.alternate,t)}finally{lt=o,G.p=r,T.T=n}}Pt=3}}function hh(){if(Pt===4||Pt===3){Pt=0,Fe();var e=$a,t=Jr,n=_a,r=Pd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Pt=5:(Pt=0,Jr=$a=null,mh(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ha=null),wn(n),t=t.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(me,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=T.T,o=G.p,G.p=2,T.T=null;try{for(var u=e.onRecoverableError,d=0;d<r.length;d++){var g=r[d];u(g.value,{componentStack:g.stack})}}finally{T.T=t,G.p=o}}(_a&3)!==0&&sl(),na(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===yu?Xi++:(Xi=0,yu=e):Xi=0,Ii(0)}}function mh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Oi(t)))}function sl(){return fh(),dh(),hh(),yh()}function yh(){if(Pt!==5)return!1;var e=$a,t=hu;hu=0;var n=wn(_a),r=T.T,o=G.p;try{G.p=32>n?32:n,T.T=null,n=mu,mu=null;var u=$a,d=_a;if(Pt=0,Jr=$a=null,_a=0,(lt&6)!==0)throw Error(l(331));var g=lt;if(lt|=4,Wd(u.current),Id(u,u.current,d,n),lt=g,Ii(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(me,u)}catch{}return!0}finally{G.p=o,T.T=r,mh(e,t)}}function gh(e,t,n){t=Ln(n,t),t=Io(e.stateNode,t,2),e=Ua(e,t,2),e!==null&&(Ve(e,2),na(e))}function mt(e,t,n){if(e.tag===3)gh(e,e,n);else for(;t!==null;){if(t.tag===3){gh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ha===null||!Ha.has(r))){e=Ln(n,e),n=pd(2),r=Ua(t,n,2),r!==null&&(vd(n,r,t,e),Ve(r,2),na(r));break}}t=t.return}}function vu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yg;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(cu=!0,o.add(n),e=_g.bind(null,e,t,n),t.then(e,e))}function _g(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Et===e&&(Ie&n)===n&&(Mt===4||Mt===3&&(Ie&62914560)===Ie&&300>Ue()-el?(lt&2)===0&&Wr(e,0):fu|=n,Qr===Ie&&(Qr=0)),na(e)}function ph(e,t){t===0&&(t=pt()),e=ar(e,t),e!==null&&(Ve(e,t),na(e))}function wg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ph(e,n)}function Sg(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(t),ph(e,n)}function xg(e,t){return pe(e,t)}var ll=null,Fr=null,bu=!1,ol=!1,_u=!1,Va=0;function na(e){e!==Fr&&e.next===null&&(Fr===null?ll=Fr=e:Fr=Fr.next=e),ol=!0,bu||(bu=!0,Tg())}function Ii(e,t){if(!_u&&ol){_u=!0;do for(var n=!1,r=ll;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var u=0;else{var d=r.suspendedLanes,g=r.pingedLanes;u=(1<<31-Ae(42|e)+1)-1,u&=o&~(d&~g),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,wh(r,u))}else u=Ie,u=Zt(r,r===Et?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Dt(r,u)||(n=!0,wh(r,u));r=r.next}while(n);_u=!1}}function Eg(){vh()}function vh(){ol=bu=!1;var e=0;Va!==0&&zg()&&(e=Va);for(var t=Ue(),n=null,r=ll;r!==null;){var o=r.next,u=bh(r,t);u===0?(r.next=null,n===null?ll=o:n.next=o,o===null&&(Fr=n)):(n=r,(e!==0||(u&3)!==0)&&(ol=!0)),r=o}Pt!==0&&Pt!==5||Ii(e),Va!==0&&(Va=0)}function bh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var d=31-Ae(u),g=1<<d,b=o[d];b===-1?((g&n)===0||(g&r)!==0)&&(o[d]=gt(g,t)):b<=t&&(e.expiredLanes|=g),u&=~g}if(t=Et,n=Ie,n=Zt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(ht===2||ht===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Te(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Dt(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Te(r),wn(n)){case 2:case 8:n=N;break;case 32:n=X;break;case 268435456:n=re;break;default:n=X}return r=_h.bind(null,e),n=pe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Te(r),e.callbackPriority=2,e.callbackNode=null,2}function _h(e,t){if(Pt!==0&&Pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(sl()&&e.callbackNode!==n)return null;var r=Ie;return r=Zt(e,e===Et?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(th(e,r,t),bh(e,Ue()),e.callbackNode!=null&&e.callbackNode===n?_h.bind(null,e):null)}function wh(e,t){if(sl())return null;th(e,t,!0)}function Tg(){Bg(function(){(lt&6)!==0?pe(Wt,Eg):vh()})}function wu(){if(Va===0){var e=Br;e===0&&(e=ct,ct<<=1,(ct&261888)===0&&(ct=256)),Va=e}return Va}function Sh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gs(""+e)}function xh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Ag(e,t,n,r,o){if(t==="submit"&&n&&n.stateNode===o){var u=Sh((o[Ht]||null).action),d=r.submitter;d&&(t=(t=d[Ht]||null)?Sh(t.formAction):d.getAttribute("formAction"),t!==null&&(u=t,d=null));var g=new _s("action","action",null,r,o);e.push({event:g,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Va!==0){var b=d?xh(o,d):new FormData(o);$o(n,{pending:!0,data:b,method:o.method,action:u},null,b)}}else typeof u=="function"&&(g.preventDefault(),b=d?xh(o,d):new FormData(o),$o(n,{pending:!0,data:b,method:o.method,action:u},u,b))},currentTarget:o}]})}}for(var Su=0;Su<ao.length;Su++){var xu=ao[Su],Og=xu.toLowerCase(),jg=xu[0].toUpperCase()+xu.slice(1);Xn(Og,"on"+jg)}Xn(Pc,"onAnimationEnd"),Xn(ef,"onAnimationIteration"),Xn(tf,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(Yy,"onTransitionRun"),Xn(Ky,"onTransitionStart"),Xn(Xy,"onTransitionCancel"),Xn(nf,"onTransitionEnd"),We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"]),dt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dt("onBeforeInput",["compositionend","keypress","textInput","paste"]),dt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qi));function Eh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var d=r.length-1;0<=d;d--){var g=r[d],b=g.instance,C=g.currentTarget;if(g=g.listener,b!==u&&o.isPropagationStopped())break e;u=g,o.currentTarget=C;try{u(o)}catch(L){xs(L)}o.currentTarget=null,u=b}else for(d=0;d<r.length;d++){if(g=r[d],b=g.instance,C=g.currentTarget,g=g.listener,b!==u&&o.isPropagationStopped())break e;u=g,o.currentTarget=C;try{u(o)}catch(L){xs(L)}o.currentTarget=null,u=b}}}}function Ke(e,t){var n=t[mi];n===void 0&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Th(t,e,2,!1),n.add(r))}function Eu(e,t,n){var r=0;t&&(r|=4),Th(n,e,r,t)}var ul="_reactListening"+Math.random().toString(36).slice(2);function Tu(e){if(!e[ul]){e[ul]=!0,Sn.forEach(function(n){n!=="selectionchange"&&(Cg.has(n)||Eu(n,!1,e),Eu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ul]||(t[ul]=!0,Eu("selectionchange",!1,t))}}function Th(e,t,n,r){switch(em(t)){case 2:var o=ap;break;case 8:o=rp;break;default:o=Hu}n=o.bind(null,t,n,e),o=void 0,!Yl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Au(e,t,n,r,o){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var g=r.stateNode.containerInfo;if(g===o)break;if(d===4)for(d=r.return;d!==null;){var b=d.tag;if((b===3||b===4)&&d.stateNode.containerInfo===o)return;d=d.return}for(;g!==null;){if(d=le(g),d===null)return;if(b=d.tag,b===5||b===6||b===26||b===27){r=u=d;continue e}g=g.parentNode}}r=r.return}Cc(function(){var C=u,L=Gl(n),$=[];e:{var D=af.get(e);if(D!==void 0){var z=_s,de=e;switch(e){case"keypress":if(vs(n)===0)break e;case"keydown":case"keyup":z=Sy;break;case"focusin":de="focus",z=Ql;break;case"focusout":de="blur",z=Ql;break;case"beforeblur":case"afterblur":z=Ql;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=cy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Ty;break;case Pc:case ef:case tf:z=hy;break;case nf:z=Oy;break;case"scroll":case"scrollend":z=oy;break;case"wheel":z=Cy;break;case"copy":case"cut":case"paste":z=yy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Uc;break;case"toggle":case"beforetoggle":z=ky}var Oe=(t&4)!==0,_t=!Oe&&(e==="scroll"||e==="scrollend"),E=Oe?D!==null?D+"Capture":null:D;Oe=[];for(var w=C,O;w!==null;){var q=w;if(O=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||O===null||E===null||(q=gi(w,E),q!=null&&Oe.push(Ji(w,q,O))),_t)break;w=w.return}0<Oe.length&&(D=new z(D,de,null,n,L),$.push({event:D,listeners:Oe}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",D&&n!==$l&&(de=n.relatedTarget||n.fromElement)&&(le(de)||de[Ta]))break e;if((z||D)&&(D=L.window===L?L:(D=L.ownerDocument)?D.defaultView||D.parentWindow:window,z?(de=n.relatedTarget||n.toElement,z=C,de=de?le(de):null,de!==null&&(_t=f(de),Oe=de.tag,de!==_t||Oe!==5&&Oe!==27&&Oe!==6)&&(de=null)):(z=null,de=C),z!==de)){if(Oe=Dc,q="onMouseLeave",E="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(Oe=Uc,q="onPointerLeave",E="onPointerEnter",w="pointer"),_t=z==null?D:rt(z),O=de==null?D:rt(de),D=new Oe(q,w+"leave",z,n,L),D.target=_t,D.relatedTarget=O,q=null,le(L)===C&&(Oe=new Oe(E,w+"enter",de,n,L),Oe.target=O,Oe.relatedTarget=_t,q=Oe),_t=q,z&&de)t:{for(Oe=Rg,E=z,w=de,O=0,q=E;q;q=Oe(q))O++;q=0;for(var xe=w;xe;xe=Oe(xe))q++;for(;0<O-q;)E=Oe(E),O--;for(;0<q-O;)w=Oe(w),q--;for(;O--;){if(E===w||w!==null&&E===w.alternate){Oe=E;break t}E=Oe(E),w=Oe(w)}Oe=null}else Oe=null;z!==null&&Ah($,D,z,Oe,!1),de!==null&&_t!==null&&Ah($,_t,de,Oe,!0)}}e:{if(D=C?rt(C):window,z=D.nodeName&&D.nodeName.toLowerCase(),z==="select"||z==="input"&&D.type==="file")var it=Gc;else if(Hc(D))if(Vc)it=$y;else{it=qy;var ge=Ly}else z=D.nodeName,!z||z.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?C&&Hl(C.elementType)&&(it=Gc):it=Hy;if(it&&(it=it(e,C))){$c($,it,n,L);break e}ge&&ge(e,D,C),e==="focusout"&&C&&D.type==="number"&&C.memoizedProps.value!=null&&ql(D,"number",D.value)}switch(ge=C?rt(C):window,e){case"focusin":(Hc(ge)||ge.contentEditable==="true")&&(Cr=ge,eo=C,Ei=null);break;case"focusout":Ei=eo=Cr=null;break;case"mousedown":to=!0;break;case"contextmenu":case"mouseup":case"dragend":to=!1,Zc($,n,L);break;case"selectionchange":if(Vy)break;case"keydown":case"keyup":Zc($,n,L)}var qe;if(Wl)e:{switch(e){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else jr?Lc(e,n)&&(Qe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Qe="onCompositionStart");Qe&&(zc&&n.locale!=="ko"&&(jr||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&jr&&(qe=Rc()):(Oa=L,Kl="value"in Oa?Oa.value:Oa.textContent,jr=!0)),ge=cl(C,Qe),0<ge.length&&(Qe=new Nc(Qe,e,null,n,L),$.push({event:Qe,listeners:ge}),qe?Qe.data=qe:(qe=qc(n),qe!==null&&(Qe.data=qe)))),(qe=Ny?Uy(e,n):zy(e,n))&&(Qe=cl(C,"onBeforeInput"),0<Qe.length&&(ge=new Nc("onBeforeInput","beforeinput",null,n,L),$.push({event:ge,listeners:Qe}),ge.data=qe)),Ag($,e,C,n,L)}Eh($,t)})}function Ji(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cl(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=gi(e,n),o!=null&&r.unshift(Ji(e,o,u)),o=gi(e,t),o!=null&&r.push(Ji(e,o,u))),e.tag===3)return r;e=e.return}return[]}function Rg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ah(e,t,n,r,o){for(var u=t._reactName,d=[];n!==null&&n!==r;){var g=n,b=g.alternate,C=g.stateNode;if(g=g.tag,b!==null&&b===r)break;g!==5&&g!==26&&g!==27||C===null||(b=C,o?(C=gi(n,u),C!=null&&d.unshift(Ji(n,C,b))):o||(C=gi(n,u),C!=null&&d.push(Ji(n,C,b)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var kg=/\r\n?/g,Dg=/\u0000|\uFFFD/g;function Oh(e){return(typeof e=="string"?e:""+e).replace(kg,`
`).replace(Dg,"")}function jh(e,t){return t=Oh(t),Oh(e)===t}function bt(e,t,n,r,o,u){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Tr(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Tr(e,""+r);break;case"className":ra(e,"class",r);break;case"tabIndex":ra(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ra(e,n,r);break;case"style":Oc(e,r,u);break;case"data":if(t!=="object"){ra(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=gs(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&bt(e,t,"name",o.name,o,null),bt(e,t,"formEncType",o.formEncType,o,null),bt(e,t,"formMethod",o.formMethod,o,null),bt(e,t,"formTarget",o.formTarget,o,null)):(bt(e,t,"encType",o.encType,o,null),bt(e,t,"method",o.method,o,null),bt(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=gs(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=ia);break;case"onScroll":r!=null&&Ke("scroll",e);break;case"onScrollEnd":r!=null&&Ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=gs(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ke("beforetoggle",e),Ke("toggle",e),Aa(e,"popover",r);break;case"xlinkActuate":Ft(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ft(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ft(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ft(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ft(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ft(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Aa(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=sy.get(n)||n,Aa(e,n,r))}}function Ou(e,t,n,r,o,u){switch(n){case"style":Oc(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Tr(e,r):(typeof r=="number"||typeof r=="bigint")&&Tr(e,""+r);break;case"onScroll":r!=null&&Ke("scroll",e);break;case"onScrollEnd":r!=null&&Ke("scrollend",e);break;case"onClick":r!=null&&(e.onclick=ia);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$e.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[Ht]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof r=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Aa(e,n,r)}}}function sn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",e),Ke("load",e);var r=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var d=n[u];if(d!=null)switch(u){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:bt(e,t,u,d,n,null)}}o&&bt(e,t,"srcSet",n.srcSet,n,null),r&&bt(e,t,"src",n.src,n,null);return;case"input":Ke("invalid",e);var g=u=d=o=null,b=null,C=null;for(r in n)if(n.hasOwnProperty(r)){var L=n[r];if(L!=null)switch(r){case"name":o=L;break;case"type":d=L;break;case"checked":b=L;break;case"defaultChecked":C=L;break;case"value":u=L;break;case"defaultValue":g=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:bt(e,t,r,L,n,null)}}xc(e,u,g,b,C,d,o,!1);return;case"select":Ke("invalid",e),r=d=u=null;for(o in n)if(n.hasOwnProperty(o)&&(g=n[o],g!=null))switch(o){case"value":u=g;break;case"defaultValue":d=g;break;case"multiple":r=g;default:bt(e,t,o,g,n,null)}t=u,n=d,e.multiple=!!r,t!=null?Er(e,!!r,t,!1):n!=null&&Er(e,!!r,n,!0);return;case"textarea":Ke("invalid",e),u=o=r=null;for(d in n)if(n.hasOwnProperty(d)&&(g=n[d],g!=null))switch(d){case"value":r=g;break;case"defaultValue":o=g;break;case"children":u=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(l(91));break;default:bt(e,t,d,g,n,null)}Tc(e,r,o,u);return;case"option":for(b in n)n.hasOwnProperty(b)&&(r=n[b],r!=null)&&(b==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":bt(e,t,b,r,n,null));return;case"dialog":Ke("beforetoggle",e),Ke("toggle",e),Ke("cancel",e),Ke("close",e);break;case"iframe":case"object":Ke("load",e);break;case"video":case"audio":for(r=0;r<Qi.length;r++)Ke(Qi[r],e);break;case"image":Ke("error",e),Ke("load",e);break;case"details":Ke("toggle",e);break;case"embed":case"source":case"link":Ke("error",e),Ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in n)if(n.hasOwnProperty(C)&&(r=n[C],r!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:bt(e,t,C,r,n,null)}return;default:if(Hl(t)){for(L in n)n.hasOwnProperty(L)&&(r=n[L],r!==void 0&&Ou(e,t,L,r,n,void 0));return}}for(g in n)n.hasOwnProperty(g)&&(r=n[g],r!=null&&bt(e,t,g,r,n,null))}function Ng(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,d=null,g=null,b=null,C=null,L=null;for(z in n){var $=n[z];if(n.hasOwnProperty(z)&&$!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":b=$;default:r.hasOwnProperty(z)||bt(e,t,z,null,r,$)}}for(var D in r){var z=r[D];if($=n[D],r.hasOwnProperty(D)&&(z!=null||$!=null))switch(D){case"type":u=z;break;case"name":o=z;break;case"checked":C=z;break;case"defaultChecked":L=z;break;case"value":d=z;break;case"defaultValue":g=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:z!==$&&bt(e,t,D,z,r,$)}}Ll(e,d,g,b,C,L,u,o);return;case"select":z=d=g=D=null;for(u in n)if(b=n[u],n.hasOwnProperty(u)&&b!=null)switch(u){case"value":break;case"multiple":z=b;default:r.hasOwnProperty(u)||bt(e,t,u,null,r,b)}for(o in r)if(u=r[o],b=n[o],r.hasOwnProperty(o)&&(u!=null||b!=null))switch(o){case"value":D=u;break;case"defaultValue":g=u;break;case"multiple":d=u;default:u!==b&&bt(e,t,o,u,r,b)}t=g,n=d,r=z,D!=null?Er(e,!!n,D,!1):!!r!=!!n&&(t!=null?Er(e,!!n,t,!0):Er(e,!!n,n?[]:"",!1));return;case"textarea":z=D=null;for(g in n)if(o=n[g],n.hasOwnProperty(g)&&o!=null&&!r.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:bt(e,t,g,null,r,o)}for(d in r)if(o=r[d],u=n[d],r.hasOwnProperty(d)&&(o!=null||u!=null))switch(d){case"value":D=o;break;case"defaultValue":z=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==u&&bt(e,t,d,o,r,u)}Ec(e,D,z);return;case"option":for(var de in n)D=n[de],n.hasOwnProperty(de)&&D!=null&&!r.hasOwnProperty(de)&&(de==="selected"?e.selected=!1:bt(e,t,de,null,r,D));for(b in r)D=r[b],z=n[b],r.hasOwnProperty(b)&&D!==z&&(D!=null||z!=null)&&(b==="selected"?e.selected=D&&typeof D!="function"&&typeof D!="symbol":bt(e,t,b,D,r,z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in n)D=n[Oe],n.hasOwnProperty(Oe)&&D!=null&&!r.hasOwnProperty(Oe)&&bt(e,t,Oe,null,r,D);for(C in r)if(D=r[C],z=n[C],r.hasOwnProperty(C)&&D!==z&&(D!=null||z!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:bt(e,t,C,D,r,z)}return;default:if(Hl(t)){for(var _t in n)D=n[_t],n.hasOwnProperty(_t)&&D!==void 0&&!r.hasOwnProperty(_t)&&Ou(e,t,_t,void 0,r,D);for(L in r)D=r[L],z=n[L],!r.hasOwnProperty(L)||D===z||D===void 0&&z===void 0||Ou(e,t,L,D,r,z);return}}for(var E in n)D=n[E],n.hasOwnProperty(E)&&D!=null&&!r.hasOwnProperty(E)&&bt(e,t,E,null,r,D);for($ in r)D=r[$],z=n[$],!r.hasOwnProperty($)||D===z||D==null&&z==null||bt(e,t,$,D,r,z)}function Ch(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ug(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],u=o.transferSize,d=o.initiatorType,g=o.duration;if(u&&g&&Ch(d)){for(d=0,g=o.responseEnd,r+=1;r<n.length;r++){var b=n[r],C=b.startTime;if(C>g)break;var L=b.transferSize,$=b.initiatorType;L&&Ch($)&&(b=b.responseEnd,d+=L*(b<g?1:(g-C)/(b-C)))}if(--r,t+=8*(u+d)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ju=null,Cu=null;function fl(e){return e.nodeType===9?e:e.ownerDocument}function Rh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ru(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ku=null;function zg(){var e=window.event;return e&&e.type==="popstate"?e===ku?!1:(ku=e,!0):(ku=null,!1)}var Dh=typeof setTimeout=="function"?setTimeout:void 0,Mg=typeof clearTimeout=="function"?clearTimeout:void 0,Nh=typeof Promise=="function"?Promise:void 0,Bg=typeof queueMicrotask=="function"?queueMicrotask:typeof Nh<"u"?function(e){return Nh.resolve(null).then(e).catch(Lg)}:Dh;function Lg(e){setTimeout(function(){throw e})}function Ya(e){return e==="head"}function Uh(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(o),ni(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Wi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Wi(n);for(var u=n.firstChild;u;){var d=u.nextSibling,g=u.nodeName;u[M]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=d}}else n==="body"&&Wi(e.ownerDocument.body);n=o}while(n);ni(t)}function zh(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function Du(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Du(n),K(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function qg(e,t,n,r){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[M])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function Hg(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function Mh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Vn(e.nextSibling),e===null))return null;return e}function Nu(e){return e.data==="$?"||e.data==="$~"}function Uu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $g(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var zu=null;function Bh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Vn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Lh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function qh(e,t,n){switch(t=fl(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Wi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);K(e)}var Yn=new Map,Hh=new Set;function dl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wa=G.d;G.d={f:Gg,r:Vg,D:Yg,C:Kg,L:Xg,m:Ig,X:Jg,S:Qg,M:Wg};function Gg(){var e=wa.f(),t=al();return e||t}function Vg(e){var t=He(e);t!==null&&t.tag===5&&t.type==="form"?ad(t):wa.r(e)}var Pr=typeof document>"u"?null:document;function $h(e,t,n){var r=Pr;if(r&&typeof t=="string"&&t){var o=Mn(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Hh.has(o)||(Hh.add(o),e={rel:e,crossOrigin:n,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),sn(t,"link",e),Be(t),r.head.appendChild(t)))}}function Yg(e){wa.D(e),$h("dns-prefetch",e,null)}function Kg(e,t){wa.C(e,t),$h("preconnect",e,t)}function Xg(e,t,n){wa.L(e,t,n);var r=Pr;if(r&&e&&t){var o='link[rel="preload"][as="'+Mn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Mn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Mn(n.imageSizes)+'"]')):o+='[href="'+Mn(e)+'"]';var u=o;switch(t){case"style":u=ei(e);break;case"script":u=ti(e)}Yn.has(u)||(e=A({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Yn.set(u,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(Zi(u))||t==="script"&&r.querySelector(Fi(u))||(t=r.createElement("link"),sn(t,"link",e),Be(t),r.head.appendChild(t)))}}function Ig(e,t){wa.m(e,t);var n=Pr;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Mn(r)+'"][href="'+Mn(e)+'"]',u=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=ti(e)}if(!Yn.has(u)&&(e=A({rel:"modulepreload",href:e},t),Yn.set(u,e),n.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Fi(u)))return}r=n.createElement("link"),sn(r,"link",e),Be(r),n.head.appendChild(r)}}}function Qg(e,t,n){wa.S(e,t,n);var r=Pr;if(r&&e){var o=tt(r).hoistableStyles,u=ei(e);t=t||"default";var d=o.get(u);if(!d){var g={loading:0,preload:null};if(d=r.querySelector(Zi(u)))g.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Yn.get(u))&&Mu(e,n);var b=d=r.createElement("link");Be(b),sn(b,"link",e),b._p=new Promise(function(C,L){b.onload=C,b.onerror=L}),b.addEventListener("load",function(){g.loading|=1}),b.addEventListener("error",function(){g.loading|=2}),g.loading|=4,hl(d,t,r)}d={type:"stylesheet",instance:d,count:1,state:g},o.set(u,d)}}}function Jg(e,t){wa.X(e,t);var n=Pr;if(n&&e){var r=tt(n).hoistableScripts,o=ti(e),u=r.get(o);u||(u=n.querySelector(Fi(o)),u||(e=A({src:e,async:!0},t),(t=Yn.get(o))&&Bu(e,t),u=n.createElement("script"),Be(u),sn(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function Wg(e,t){wa.M(e,t);var n=Pr;if(n&&e){var r=tt(n).hoistableScripts,o=ti(e),u=r.get(o);u||(u=n.querySelector(Fi(o)),u||(e=A({src:e,async:!0,type:"module"},t),(t=Yn.get(o))&&Bu(e,t),u=n.createElement("script"),Be(u),sn(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function Gh(e,t,n,r){var o=(o=Se.current)?dl(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ei(n.href),n=tt(o).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ei(n.href);var u=tt(o).hoistableStyles,d=u.get(e);if(d||(o=o.ownerDocument||o,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=o.querySelector(Zi(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Yn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Yn.set(e,n),u||Zg(o,e,n,d.state))),t&&r===null)throw Error(l(528,""));return d}if(t&&r!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ti(n),n=tt(o).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ei(e){return'href="'+Mn(e)+'"'}function Zi(e){return'link[rel="stylesheet"]['+e+"]"}function Vh(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Zg(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),sn(t,"link",n),Be(t),e.head.appendChild(t))}function ti(e){return'[src="'+Mn(e)+'"]'}function Fi(e){return"script[async]"+e}function Yh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Mn(n.href)+'"]');if(r)return t.instance=r,Be(r),r;var o=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Be(r),sn(r,"style",o),hl(r,n.precedence,e),t.instance=r;case"stylesheet":o=ei(n.href);var u=e.querySelector(Zi(o));if(u)return t.state.loading|=4,t.instance=u,Be(u),u;r=Vh(n),(o=Yn.get(o))&&Mu(r,o),u=(e.ownerDocument||e).createElement("link"),Be(u);var d=u;return d._p=new Promise(function(g,b){d.onload=g,d.onerror=b}),sn(u,"link",r),t.state.loading|=4,hl(u,n.precedence,e),t.instance=u;case"script":return u=ti(n.src),(o=e.querySelector(Fi(u)))?(t.instance=o,Be(o),o):(r=n,(o=Yn.get(u))&&(r=A({},n),Bu(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),Be(o),sn(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,hl(r,n.precedence,e));return t.instance}function hl(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,u=o,d=0;d<r.length;d++){var g=r[d];if(g.dataset.precedence===t)u=g;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Mu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Bu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ml=null;function Kh(e,t,n){if(ml===null){var r=new Map,o=ml=new Map;o.set(n,r)}else o=ml,r=o.get(n),r||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[M]||u[Nt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var d=u.getAttribute(t)||"";d=e+d;var g=r.get(d);g?g.push(u):r.set(d,[u])}}return r}function Xh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Fg(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ih(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Pg(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=ei(r.href),u=t.querySelector(Zi(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=yl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,Be(u);return}u=t.ownerDocument||t,r=Vh(r),(o=Yn.get(o))&&Mu(r,o),u=u.createElement("link"),Be(u);var d=u;d._p=new Promise(function(g,b){d.onload=g,d.onerror=b}),sn(u,"link",r),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=yl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Lu=0;function ep(e,t){return e.stylesheets&&e.count===0&&pl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&pl(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Lu===0&&(Lu=62500*Ug());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pl(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Lu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function yl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gl=null;function pl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gl=new Map,t.forEach(tp,e),gl=null,yl.call(e))}function tp(e,t){if(!(t.state.loading&4)){var n=gl.get(e);if(n)var r=n.get(null);else{n=new Map,gl.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var d=o[u];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(n.set(d.dataset.precedence,d),r=d)}r&&n.set(null,r)}o=t.instance,d=o.getAttribute("data-precedence"),u=n.get(d)||r,u===r&&n.set(null,o),n.set(d,o),this.count++,r=yl.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Pi={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function np(e,t,n,r,o,u,d,g,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cn(0),this.hiddenUpdates=cn(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Qh(e,t,n,r,o,u,d,g,b,C,L,$){return e=new np(e,t,n,d,b,C,L,$,g),t=1,u===!0&&(t|=24),u=En(3,null,null,t),e.current=u,u.stateNode=e,t=po(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:n,cache:t},wo(u),e}function Jh(e){return e?(e=Dr,e):Dr}function Wh(e,t,n,r,o,u){o=Jh(o),r.context===null?r.context=o:r.pendingContext=o,r=Na(t),r.payload={element:n},u=u===void 0?null:u,u!==null&&(r.callback=u),n=Ua(e,r,t),n!==null&&(_n(n,e,t),ki(n,e,t))}function Zh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qu(e,t){Zh(e,t),(e=e.alternate)&&Zh(e,t)}function Fh(e){if(e.tag===13||e.tag===31){var t=ar(e,67108864);t!==null&&_n(t,e,67108864),qu(e,67108864)}}function Ph(e){if(e.tag===13||e.tag===31){var t=Cn();t=Un(t);var n=ar(e,t);n!==null&&_n(n,e,t),qu(e,t)}}var vl=!0;function ap(e,t,n,r){var o=T.T;T.T=null;var u=G.p;try{G.p=2,Hu(e,t,n,r)}finally{G.p=u,T.T=o}}function rp(e,t,n,r){var o=T.T;T.T=null;var u=G.p;try{G.p=8,Hu(e,t,n,r)}finally{G.p=u,T.T=o}}function Hu(e,t,n,r){if(vl){var o=$u(r);if(o===null)Au(e,t,r,bl,n),tm(e,r);else if(sp(o,e,t,n,r))r.stopPropagation();else if(tm(e,r),t&4&&-1<ip.indexOf(e)){for(;o!==null;){var u=He(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var d=Ct(u.pendingLanes);if(d!==0){var g=u;for(g.pendingLanes|=2,g.entangledLanes|=2;d;){var b=1<<31-Ae(d);g.entanglements[1]|=b,d&=~b}na(u),(lt&6)===0&&(tl=Ue()+500,Ii(0))}}break;case 31:case 13:g=ar(u,2),g!==null&&_n(g,u,2),al(),qu(u,2)}if(u=$u(r),u===null&&Au(e,t,r,bl,n),u===o)break;o=u}o!==null&&r.stopPropagation()}else Au(e,t,r,null,n)}}function $u(e){return e=Gl(e),Gu(e)}var bl=null;function Gu(e){if(bl=null,e=le(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return bl=e,null}function em(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case Wt:return 2;case N:return 8;case X:case he:return 32;case re:return 268435456;default:return 32}default:return 32}}var Vu=!1,Ka=null,Xa=null,Ia=null,es=new Map,ts=new Map,Qa=[],ip="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tm(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":es.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(t.pointerId)}}function ns(e,t,n,r,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[o]},t!==null&&(t=He(t),t!==null&&Fh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function sp(e,t,n,r,o){switch(t){case"focusin":return Ka=ns(Ka,e,t,n,r,o),!0;case"dragenter":return Xa=ns(Xa,e,t,n,r,o),!0;case"mouseover":return Ia=ns(Ia,e,t,n,r,o),!0;case"pointerover":var u=o.pointerId;return es.set(u,ns(es.get(u)||null,e,t,n,r,o)),!0;case"gotpointercapture":return u=o.pointerId,ts.set(u,ns(ts.get(u)||null,e,t,n,r,o)),!0}return!1}function nm(e){var t=le(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Ea(e.priority,function(){Ph(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,Ea(e.priority,function(){Ph(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _l(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$u(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$l=r,n.target.dispatchEvent(r),$l=null}else return t=He(n),t!==null&&Fh(t),e.blockedOn=n,!1;t.shift()}return!0}function am(e,t,n){_l(e)&&n.delete(t)}function lp(){Vu=!1,Ka!==null&&_l(Ka)&&(Ka=null),Xa!==null&&_l(Xa)&&(Xa=null),Ia!==null&&_l(Ia)&&(Ia=null),es.forEach(am),ts.forEach(am)}function wl(e,t){e.blockedOn===t&&(e.blockedOn=null,Vu||(Vu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,lp)))}var Sl=null;function rm(e){Sl!==e&&(Sl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sl===e&&(Sl=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(Gu(r||n)===null)continue;break}var u=He(n);u!==null&&(e.splice(t,3),t-=3,$o(u,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function ni(e){function t(b){return wl(b,e)}Ka!==null&&wl(Ka,e),Xa!==null&&wl(Xa,e),Ia!==null&&wl(Ia,e),es.forEach(t),ts.forEach(t);for(var n=0;n<Qa.length;n++){var r=Qa[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Qa.length&&(n=Qa[0],n.blockedOn===null);)nm(n),n.blockedOn===null&&Qa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],d=o[Ht]||null;if(typeof u=="function")d||rm(n);else if(d){var g=null;if(u&&u.hasAttribute("formAction")){if(o=u,d=u[Ht]||null)g=d.formAction;else if(Gu(o)!==null)continue}else g=d.action;typeof g=="function"?n[r+1]=g:(n.splice(r,3),r-=3),rm(n)}}}function im(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(d){return o=d})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Yu(e){this._internalRoot=e}xl.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,r=Cn();Wh(n,r,e,t,null,null)},xl.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wh(e.current,2,null,e,null,null),al(),t[Ta]=null}};function xl(e){this._internalRoot=e}xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=zn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qa.length&&t!==0&&t<Qa[n].priority;n++);Qa.splice(n,0,e),n===0&&nm(e)}};var sm=a.version;if(sm!=="19.2.0")throw Error(l(527,sm,"19.2.0"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=v(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var op={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var El=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!El.isDisabled&&El.supportsFiber)try{me=El.inject(op),ke=El}catch{}}return rs.createRoot=function(e,t){if(!c(e))throw Error(l(299));var n=!1,r="",o=hd,u=md,d=yd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Qh(e,1,!1,null,null,n,r,null,o,u,d,im),e[Ta]=t.current,Tu(e),new Yu(t)},rs.hydrateRoot=function(e,t,n){if(!c(e))throw Error(l(299));var r=!1,o="",u=hd,d=md,g=yd,b=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.formState!==void 0&&(b=n.formState)),t=Qh(e,1,!0,t,n??null,r,o,b,u,d,g,im),t.context=Jh(null),n=t.current,r=Cn(),r=Un(r),o=Na(r),o.callback=null,Ua(n,o,r),n=r,t.current.lanes=n,Ve(t,n),na(t),e[Ta]=t.current,Tu(e),new xl(t)},rs.version="19.2.0",rs}var gm;function bp(){if(gm)return Iu.exports;gm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),Iu.exports=vp(),Iu.exports}var _p=bp();const wp=$m(_p);function Sp({workouts:s,currentWorkoutId:a,setCurrentWorkoutId:i,currentWorkoutName:l,exercises:c,setExercises:f,finishWorkout:h,preferredUnit:p="lb"}){const y=p==="kg"?"kg":"lb",[v,S]=F.useState(!1),[A,R]=F.useState(!1),j=H=>{try{if(!("vibrate"in navigator))return;const I=H==="set"?6:H==="start"?10:H==="finish"?16:8;navigator.vibrate(I)}catch{}},U=H=>H/2.2046226218,V=H=>H*2.2046226218,W=(H,I=1)=>typeof H!="number"||Number.isNaN(H)?"":H.toFixed(I).replace(/\.0+$|(\.\d*[1-9])0+$/g,"$1"),Q=H=>{if(H===""||H===null||H===void 0)return"";const I=typeof H=="number"?H:Number(H);return Number.isNaN(I)?"":W(y==="lb"?I:U(I),2)},P=H=>{if(H==="")return"";const I=String(H).replace(",",".").trim();if(I==="."||I==="-"||I==="-.")return"";const ie=Number(I);if(Number.isNaN(ie))return"";const pe=y==="kg"?V(ie):ie;return Math.round(pe*100)/100},[Y,se]=F.useState({}),[De,ye]=F.useState(null),[oe,Ne]=F.useState(""),[Xe,wt]=F.useState(!1),[J,te]=F.useState(null),[fe,ve]=F.useState({}),[Ee,T]=F.useState(null),[G,ce]=F.useState("");F.useEffect(()=>{S(!1),R(!1),T(null)},[a]),F.useEffect(()=>{se(H=>{const I={...H},ie=Array.isArray(c)?c:[];for(let pe=0;pe<ie.length;pe++)pe!==De&&(I[pe]=Q(ie[pe]?.weight));return Object.keys(I).forEach(pe=>{const Te=Number(pe);(!Number.isFinite(Te)||Te<0||Te>=ie.length)&&delete I[pe]}),I})},[y,a,c,De]),F.useEffect(()=>{Xe||(typeof J=="number"&&Number.isFinite(J)?Ne(Q(J)):Ne(""))},[y]),F.useEffect(()=>{ve({}),T(null)},[a]),F.useEffect(()=>{const H=Array.isArray(c)?c:[];if(ve(I=>{const ie={...I};return Object.keys(ie).forEach(pe=>{const Te=Number(pe);(!Number.isFinite(Te)||Te<0||Te>=H.length)&&delete ie[pe]}),ie}),Ee!==null){const I=Number(Ee);(!Number.isFinite(I)||I<0||I>=H.length)&&T(null)}},[c,Ee]),F.useEffect(()=>{ce("")},[Ee]);const be=H=>{const I=Number(H?.sets??0)||0,ie=Array.isArray(H?.setsCompleted)?H.setsCompleted.length:0;return Math.max(I,ie,0)},ue=H=>{const I=c?.[H];if(!I)return;const ie=be(I);ve(pe=>{const Te=Array.isArray(pe?.[H])?pe[H]:null;if(Te&&Te.length===ie)return pe;const ut=Array.from({length:ie},(Fe,Ue)=>{const Jt=Te?.[Ue];return typeof Jt=="number"&&Number.isFinite(Jt)?Jt:null});return{...pe,[H]:ut}})},_=H=>{ue(H),T(H)},B=(H,I,ie)=>{const pe=String(ie).replace(",",".").trim();if(pe===""){ve(Fe=>{const Ue=Array.isArray(Fe?.[H])?[...Fe[H]]:[];return I<0||I>=Ue.length?Fe:(Ue[I]=null,{...Fe,[H]:Ue})});return}const Te=Number(pe);if(!Number.isFinite(Te))return;const ut=Math.max(0,Math.round(Te));ve(Fe=>{const Ue=Array.isArray(Fe?.[H])?[...Fe[H]]:[];return I<0||I>=Ue.length?Fe:(Ue[I]=ut,{...Fe,[H]:Ue})})},ee=(H,I)=>{const ie=c?.[H];if(!ie)return;ue(H);const pe=String(I).replace(",",".").trim();if(!pe)return;const Te=Number(pe);if(!Number.isFinite(Te))return;const ut=Math.max(0,Math.round(Te));ve(Fe=>{const Ue=Array.isArray(Fe?.[H])?[...Fe[H]]:[];if(Ue.length===0)return Fe;const Jt=Array.isArray(ie?.setsCompleted)?ie.setsCompleted:[];let Wt=-1;for(let X=Jt.length-1;X>=0;X--)if(Jt[X]){Wt=X;break}const N=Wt!==-1?Wt:Ue.length-1;return Ue[N]=ut,{...Fe,[H]:Ue}})},ne=H=>{const I=Y[H]??"",ie=P(I),pe=[...c];pe[H]&&(pe[H].weight=ie,f(pe),se(Te=>({...Te,[H]:Q(ie)})))},we=()=>{const I=P(oe??"");if(I===""||I===null||I===void 0){te(null),Ne("");return}const ie=typeof I=="number"?I:Number(I);if(!Number.isFinite(ie)){te(null),Ne("");return}te(ie),Ne(Q(ie))},Se=H=>{const I=[...c],ie=I[H].setsCompleted||[],pe=ie.indexOf(!1);if(pe!==-1)ie[pe]=!0,j("set");else for(let Te=0;Te<ie.length;Te++)ie[Te]=!1;I[H].setsCompleted=ie,f(I)},ze=H=>{const I=[...c],ie=I[H];if(!ie)return;const pe=Array.isArray(ie.setsCompleted)?[...ie.setsCompleted]:[];pe.push(!1),ie.setsCompleted=pe,I[H]=ie,f(I),ve(Te=>{const ut=Array.isArray(Te?.[H])?[...Te[H]]:null;if(!ut||ut.length>=pe.length)return Te;for(;ut.length<pe.length;)ut.push(null);return{...Te,[H]:ut}})},yt=(H,I,ie)=>{const pe=[...c];{pe[H][I]=ie===""?"":Number(ie),f(pe);return}},je=typeof l=="string"&&l.trim()?l:"Workout",It=Array.isArray(s)?s:[],ae={color:"#aaa",fontSize:"0.9rem"},ot=Ee!=null?c?.[Ee]:null,St=()=>T(null),Qt=()=>(Array.isArray(c)?c:[]).map((I,ie)=>{const pe=be(I),Te=fe?.[ie];if(!Array.isArray(Te)||Te.length===0)return{...I};const ut=Array.from({length:pe},(Ue,Jt)=>{const Wt=Te[Jt];return typeof Wt=="number"&&Number.isFinite(Wt)?Wt:null});return ut.some(Ue=>Ue!==null)?{...I,repsBySet:ut}:{...I}}),Kn=()=>{const H=Qt();j("finish"),h(H,J),ve({}),T(null),Ne(""),te(null),wt(!1),R(!1),S(!1)},ft=({size:H=18})=>m.jsxs("svg",{width:H,height:H,viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",style:{display:"block"},children:[m.jsx("circle",{cx:"12",cy:"5",r:"2",fill:"currentColor"}),m.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor"}),m.jsx("circle",{cx:"12",cy:"19",r:"2",fill:"currentColor"})]});return m.jsxs("div",{style:{width:"100%",backgroundColor:"#121212",color:"#fff",boxSizing:"border-box",overflowX:"hidden"},children:[m.jsxs("div",{style:{width:"100%",padding:"0 1rem",boxSizing:"border-box"},children:[m.jsxs("div",{style:{marginTop:"1rem",width:"100%",backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"12px",padding:"0.75rem",boxSizing:"border-box",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[m.jsx("div",{style:ae,children:"Current workout selected:"}),m.jsxs("div",{style:{position:"relative",width:"100%"},children:[m.jsx("select",{value:a,onChange:H=>{i(H.target.value),S(!1),R(!1)},style:{width:"100%",backgroundColor:"#121212",color:"#fff",border:"1px solid #333",borderRadius:"10px",padding:"0.75rem",paddingRight:"2.5rem",fontSize:"1rem",boxSizing:"border-box",outline:"none",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",cursor:"pointer"},children:It.map((H,I)=>{const ie=typeof H?.name=="string"&&H.name.trim()?H.name:`Workout ${I+1}`;return m.jsx("option",{value:H.id,children:ie},H.id)})}),m.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":"true",focusable:"false",style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",opacity:.65},children:m.jsx("path",{d:"M7 10l5 5 5-5",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{color:"#aaa"}})})]})]}),v?m.jsxs(m.Fragment,{children:[m.jsx("h2",{style:{marginTop:"1rem",marginBottom:"0",textAlign:"center"},children:je}),m.jsx("div",{style:{...ae,textAlign:"center",marginTop:"0.25rem"},children:"Tap anywhere in field to complete a set"}),m.jsxs("div",{style:{...ae,textAlign:"center",marginTop:"0.25rem",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.35rem",flexWrap:"wrap"},children:[m.jsx("span",{children:"Tap the"}),m.jsx("span",{"aria-hidden":"true",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"22px",height:"22px",border:"1px solid #444",borderRadius:"6px",color:"#ddd",lineHeight:1},children:m.jsx(ft,{size:14})}),m.jsx("span",{children:"to edit reps per individual set"})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%",marginTop:"1rem"},children:c.map((H,I)=>m.jsxs("div",{onClick:()=>Se(I),style:{width:"100%",padding:"0.75rem",borderRadius:"8px",cursor:"pointer",display:"flex",flexDirection:"column",gap:"0.5rem",backgroundColor:"#1a1a1a",boxSizing:"border-box"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"0.5rem"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",minWidth:0,flex:"1 1 auto"},children:[m.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",color:"#fff",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:H.name}),m.jsx("button",{type:"button",onClick:ie=>{ie.stopPropagation(),_(I)},"aria-label":"Exercise details",title:"Exercise details",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"1px solid #444",color:"#ddd",borderRadius:"6px",width:"28px",height:"28px",cursor:"pointer",padding:0,flex:"0 0 auto",lineHeight:1},children:m.jsx(ft,{size:16})})]}),m.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},onClick:ie=>ie.stopPropagation(),children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[m.jsx("input",{type:"text",inputMode:"decimal",value:Y[I]??Q(H.weight),onFocus:()=>ye(I),onChange:ie=>se(pe=>({...pe,[I]:ie.target.value})),onBlur:()=>{ye(null),ne(I)},onKeyDown:ie=>{ie.key==="Enter"&&ie.currentTarget.blur()},style:{width:"62px",borderRadius:"4px",border:"1px solid #555",backgroundColor:"#1a1a1a",color:"#fff",textAlign:"center",padding:"0.2rem"}}),m.jsx("span",{style:{fontSize:"0.9rem",color:"#aaa"},children:y})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[m.jsx("input",{type:"text",inputMode:"numeric",value:H.reps,onChange:ie=>yt(I,"reps",ie.target.value),style:{width:"40px",borderRadius:"4px",border:"1px solid #555",backgroundColor:"#1a1a1a",color:"#fff",textAlign:"center",padding:"0.2rem"}}),m.jsx("span",{style:{fontSize:"0.9rem",color:"#aaa"},children:"reps"})]})]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.75rem",flexWrap:"wrap"},children:[m.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:Array.from({length:be(H)},(ie,pe)=>m.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:H.setsCompleted?.[pe]?"#8b5cf6":"#333",border:"1px solid #555"}},pe))}),m.jsx("button",{type:"button",onClick:ie=>{ie.stopPropagation(),ze(I)},style:{backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"8px",padding:"0.35rem 0.6rem",cursor:"pointer",fontSize:"0.9rem",whiteSpace:"nowrap"},children:"+ 1 set"})]})]},`${H.name}-${I}`))}),m.jsx("div",{style:{marginTop:"1.25rem",width:"100%",backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"12px",padding:"0.6rem 0.75rem",boxSizing:"border-box"},children:m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:[m.jsx("div",{style:{fontWeight:"bold"},children:"Body weight"}),m.jsx("div",{style:{...ae,fontSize:"0.85rem"},children:"Optional"}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",marginLeft:"auto"},children:[m.jsx("input",{type:"text",inputMode:"decimal",placeholder:y==="kg"?"kg":"lb",value:oe,onFocus:()=>wt(!0),onChange:H=>Ne(H.target.value),onBlur:()=>{wt(!1),we()},onKeyDown:H=>{H.key==="Enter"&&H.currentTarget.blur()},style:{width:"100px",borderRadius:"8px",border:"1px solid #555",backgroundColor:"#121212",color:"#fff",textAlign:"center",padding:"0.35rem 0.5rem",fontSize:"0.95rem",outline:"none"}}),m.jsx("span",{style:{fontSize:"0.95rem",color:"#aaa"},children:y}),oe?m.jsx("button",{type:"button",onClick:()=>{Ne(""),te(null)},style:{backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"8px",padding:"0.35rem 0.7rem",cursor:"pointer"},children:"Clear"}):null]})]})}),m.jsx("button",{onClick:()=>R(!0),style:{marginTop:"1.5rem",padding:"0.75rem 1.5rem",backgroundColor:"#8b5cf6",color:"#fff",fontWeight:"bold",borderRadius:"8px",border:"none",cursor:"pointer",width:"100%"},children:"Finish Workout"})]}):m.jsx("button",{onClick:()=>{j("start"),S(!0)},style:{marginTop:"1.5rem",padding:"0.75rem 1.5rem",backgroundColor:"#8b5cf6",color:"#fff",fontWeight:"bold",borderRadius:"8px",border:"none",cursor:"pointer",width:"100%"},children:"Start Workout"})]}),v&&A?m.jsx("div",{role:"dialog","aria-modal":"true",onClick:()=>R(!1),style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.6)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:m.jsxs("div",{onClick:H=>H.stopPropagation(),style:{width:"100%",maxWidth:"520px",backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"16px",padding:"1rem",boxSizing:"border-box"},children:[m.jsx("div",{style:{fontWeight:"bold",fontSize:"1.05rem"},children:"Finish workout?"}),m.jsx("div",{style:{marginTop:"0.6rem",color:"#aaa",lineHeight:1.5},children:"This will save your workout to history and reset the sets."}),m.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"0.75rem"},children:[m.jsx("button",{type:"button",onClick:()=>R(!1),style:{flex:1,backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"10px",padding:"0.75rem",cursor:"pointer",fontWeight:"bold"},children:"Cancel"}),m.jsx("button",{type:"button",onClick:Kn,style:{flex:1,backgroundColor:"#8b5cf6",border:"none",color:"#fff",borderRadius:"10px",padding:"0.75rem",cursor:"pointer",fontWeight:"bold"},children:"Yes, finish"})]})]})}):null,v&&ot?m.jsx("div",{role:"dialog","aria-modal":"true",onClick:St,style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.6)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:m.jsxs("div",{onClick:H=>H.stopPropagation(),style:{width:"100%",maxWidth:"700px",backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"16px",padding:"1rem",boxSizing:"border-box",maxHeight:"90dvh",overflowY:"auto"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"0.75rem"},children:[m.jsx("div",{style:{fontWeight:"bold",fontSize:"1.05rem"},children:ot?.name||"Exercise"}),m.jsx("button",{type:"button",onClick:St,style:{backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"8px",padding:"0.4rem 0.75rem",cursor:"pointer"},children:"Done"})]}),m.jsx("div",{style:{marginTop:"0.75rem",color:"#aaa",lineHeight:1.5},children:"Optional: record reps for individual sets (useful for failure or AMRAP)."}),m.jsxs("div",{style:{marginTop:"0.9rem",backgroundColor:"#121212",border:"1px solid #333",borderRadius:"12px",padding:"0.75rem"},children:[m.jsx("div",{style:{fontWeight:"bold"},children:"Quick"}),m.jsxs("div",{style:{marginTop:"0.6rem",display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:[m.jsx("div",{style:{color:"#aaa"},children:"Last completed set reps"}),m.jsx("input",{type:"text",inputMode:"numeric",placeholder:String(ot?.reps??""),value:G,onChange:H=>ce(H.target.value),onKeyDown:H=>{H.key==="Enter"&&(ee(Ee,G),ce(""),H.currentTarget.blur())},style:{width:"72px",borderRadius:"8px",border:"1px solid #555",backgroundColor:"#1a1a1a",color:"#fff",textAlign:"center",padding:"0.4rem"}}),m.jsx("button",{type:"button",onClick:()=>{ee(Ee,G),ce("")},style:{backgroundColor:"#8b5cf6",color:"#fff",border:"none",borderRadius:"8px",padding:"0.45rem 0.9rem",cursor:"pointer",fontWeight:"bold"},children:"Apply"})]}),m.jsx("div",{style:{marginTop:"0.5rem",color:"#aaa",fontSize:"0.9rem"},children:"Leave blank to keep the default reps."})]}),m.jsx("div",{style:{marginTop:"1rem",fontWeight:"bold"},children:"Sets"}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginTop:"0.6rem"},children:Array.from({length:be(ot)},(H,I)=>{const ie=Ee,pe=Array.isArray(ot?.setsCompleted)?ot.setsCompleted:[],Te=!!pe?.[I],ut=pe.findIndex(X=>!X),Ue=Te||ut!==-1&&I===ut,Jt=fe?.[ie],Wt=Array.isArray(Jt)?Jt[I]:null,N=typeof Wt=="number"&&Number.isFinite(Wt)?String(Wt):"";return m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.75rem",padding:"0.6rem 0.75rem",backgroundColor:"#121212",border:"1px solid #333",borderRadius:"12px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.6rem"},children:[m.jsx("div",{"aria-hidden":"true",style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:Te?"#8b5cf6":"#444"}}),m.jsxs("div",{style:{fontWeight:"bold"},children:["Set ",I+1]}),m.jsxs("div",{style:{color:"#aaa"},children:["default ",String(ot?.reps??"")]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx("input",{type:"text",inputMode:"numeric",value:N,placeholder:String(ot?.reps??""),disabled:!Ue,onChange:X=>B(ie,I,X.target.value),style:{width:"80px",borderRadius:"8px",border:"1px solid #555",backgroundColor:"#1a1a1a",color:"#fff",textAlign:"center",padding:"0.4rem",opacity:Ue?1:.55,cursor:Ue?"text":"default"}}),m.jsx("button",{type:"button",disabled:!Ue,onClick:()=>B(ie,I,""),style:{backgroundColor:"#1a1a1a",border:"1px solid #333",color:"#fff",borderRadius:"8px",padding:"0.4rem 0.75rem",cursor:Ue?"pointer":"default",opacity:Ue?1:.55},children:"Clear"})]})]},I)})})]})}):null]})}function xp({workouts:s,setWorkouts:a,selectedWorkoutId:i,setSelectedWorkoutId:l,preferredUnit:c="lb",setPreferredUnit:f}){const h=F.useRef(null),p=c==="kg"?"kg":"lb",y=J=>J/2.2046226218,v=J=>J*2.2046226218,S=(J,te=1)=>typeof J!="number"||Number.isNaN(J)?"":J.toFixed(te).replace(/\.0+$|(\.\d*[1-9])0+$/g,"$1"),A=J=>{if(J===""||J===null||J===void 0)return"";const te=typeof J=="number"?J:Number(J);return Number.isNaN(te)?"":S(p==="lb"?te:y(te),2)},R=J=>{if(J==="")return"";const te=String(J).replace(",",".").trim(),fe=Number(te);if(Number.isNaN(fe))return"";const ve=p==="kg"?v(fe):fe;return Math.round(ve*100)/100},j=s||[],U=F.useMemo(()=>i&&j.find(J=>J.id===i)||null,[j,i]),V=U?.exercises||[];F.useEffect(()=>{i&&h.current&&h.current.scrollIntoView({behavior:"smooth",block:"start"})},[i]);const W=J=>{l(te=>te===J?null:J)},Q=(J,te)=>{const fe=j.map(ve=>ve.id===J?{...ve,name:te}:ve);a(fe)},P=J=>(Array.isArray(J)?J:[]).map(fe=>{const ve=Number(fe?.sets??0)||0;return{name:typeof fe?.name=="string"?fe.name:"Exercise",reps:Number(fe?.reps??0)||0,sets:ve,weight:fe?.weight===""?"":Number(fe?.weight??0)||0,setsCompleted:Array.from({length:ve},()=>!1)}}),Y=(J,te,fe)=>{if(!i)return;const ve=j.find(be=>be.id===i);if(!ve)return;const T=[...Array.isArray(ve.exercises)?ve.exercises:[]];if(!T[J])return;const G={...T[J]};if(te==="weight"){if(G.weight=R(fe),!Array.isArray(G.setsCompleted)){const ue=Number(G.sets)||5;G.setsCompleted=Array.from({length:ue},()=>!1)}T[J]=G;const be=j.map(ue=>ue.id===i?{...ue,exercises:T}:ue);a(be);return}if(te==="reps"||te==="sets"){let be=Number(fe);if(te==="sets"&&(!Number.isFinite(be)||be<=0)&&(be=5),te!=="sets"&&fe===""?G[te]="":G[te]=be,te==="sets"){const ue=Array.isArray(G.setsCompleted)?G.setsCompleted:[];G.setsCompleted=Array.from({length:be},(_,B)=>!!ue[B])}if(!Array.isArray(G.setsCompleted)){const ue=Number(G.sets)||5;G.setsCompleted=Array.from({length:ue},()=>!1)}}else G[te]=fe;T[J]=G;const ce=j.map(be=>be.id===i?{...be,exercises:T}:be);a(ce)},se=J=>{if(!i)return;const te=j.find(G=>G.id===i);if(!te||!window.confirm("Delete this exercise?"))return;const Ee=(Array.isArray(te.exercises)?te.exercises:[]).filter((G,ce)=>ce!==J),T=j.map(G=>G.id===i?{...G,exercises:Ee}:G);a(T)},De=()=>{if(!i)return;const J=j.find(T=>T.id===i);if(!J)return;const te={name:"New Exercise",reps:10,sets:5,weight:0,setsCompleted:Array.from({length:5},()=>!1)},ve=[...Array.isArray(J.exercises)?J.exercises:[],te],Ee=j.map(T=>T.id===i?{...T,exercises:ve}:T);a(Ee)},ye=()=>{const J=crypto.randomUUID(),te={name:"New Exercise",reps:10,sets:5,weight:0,setsCompleted:Array.from({length:5},()=>!1)},fe={id:J,name:"New Workout",exercises:[te]},ve=[...j,fe];a(ve),l(J)},oe=J=>{const te=j.findIndex(ce=>ce.id===J);if(te===-1)return;const fe=j[te],ve=crypto.randomUUID(),Ee=typeof fe?.name=="string"&&fe.name.trim()?`${fe.name} (copy)`:"Workout (copy)",T={id:ve,name:Ee,exercises:P(fe.exercises||[])},G=[...j.slice(0,te+1),T,...j.slice(te+1)];a(G),l(ve)},Ne=J=>{if(j.length<=1){window.alert("You must keep at least one workout.");return}const te=j.find(Ee=>Ee.id===J);if(!window.confirm(`Delete "${te?.name||"Workout"}"? This does not delete your workout history.`))return;const ve=j.filter(Ee=>Ee.id!==J);a(ve),i===J&&l(null)},Xe=(J,te)=>{const fe=j.findIndex(G=>G.id===J);if(fe===-1)return;const ve=te==="up"?fe-1:fe+1;if(ve<0||ve>=j.length)return;const Ee=[...j],T=Ee[fe];Ee[fe]=Ee[ve],Ee[ve]=T,a(Ee)},wt=J=>({backgroundColor:c===J?"#8b5cf6":"#121212",color:"#fff",border:"1px solid #333",borderRadius:"8px",padding:"0.45rem 0.9rem",cursor:"pointer",fontWeight:c===J?"bold":"normal"});return m.jsx("div",{style:{width:"100%",backgroundColor:"#121212",boxSizing:"border-box",overflowX:"hidden"},children:m.jsxs("div",{style:{width:"100%",padding:"0 1rem 2.5rem",boxSizing:"border-box"},children:[m.jsx("h2",{style:{textAlign:"center",marginBottom:"1rem"},children:"Customize Workouts"}),typeof f=="function"&&m.jsxs("div",{style:{backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"12px",padding:"1rem",marginBottom:"1rem"},children:[m.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"Units"}),m.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:[m.jsx("button",{onClick:()=>f("lb"),style:wt("lb"),children:"lb"}),m.jsx("button",{onClick:()=>f("kg"),style:wt("kg"),children:"kg"})]})]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1rem"},children:[j.map((J,te)=>{const fe=i===J.id,ve=te>0,Ee=te<j.length-1;return m.jsxs("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"8px",padding:"0.75rem",border:fe?"1px solid #8b5cf6":"1px solid #333"},children:[m.jsx("div",{style:{marginBottom:"0.6rem"},children:m.jsx("input",{type:"text",value:typeof J.name=="string"?J.name:"",onChange:T=>Q(J.id,T.target.value),placeholder:"Workout",style:{width:"100%",backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"6px",padding:"0.5rem",boxSizing:"border-box",fontSize:"1rem",fontWeight:"500"}})}),m.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:[m.jsx("button",{onClick:()=>W(J.id),style:{backgroundColor:fe?"#8b5cf6":"#121212",color:"#fff",borderRadius:"8px",padding:"0.4rem 0.75rem",border:"1px solid #333",cursor:"pointer"},children:fe?"Close":"Edit"}),m.jsx("button",{onClick:()=>Xe(J.id,"up"),disabled:!ve,style:{backgroundColor:"#121212",color:ve?"#fff":"#666",borderRadius:"8px",padding:"0.4rem 0.65rem",border:"1px solid #333",cursor:ve?"pointer":"not-allowed"},title:"Move up",children:""}),m.jsx("button",{onClick:()=>Xe(J.id,"down"),disabled:!Ee,style:{backgroundColor:"#121212",color:Ee?"#fff":"#666",borderRadius:"8px",padding:"0.4rem 0.65rem",border:"1px solid #333",cursor:Ee?"pointer":"not-allowed"},title:"Move down",children:""}),m.jsx("button",{onClick:()=>oe(J.id),style:{backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"8px",padding:"0.4rem 0.75rem",cursor:"pointer"},children:"Duplicate"}),m.jsx("button",{onClick:()=>Ne(J.id),style:{backgroundColor:"transparent",border:"1px solid #333",color:"#ff5555",borderRadius:"8px",padding:"0.4rem 0.75rem",cursor:"pointer"},children:"Delete"})]})]},J.id)}),m.jsx("button",{onClick:ye,style:{width:"100%",padding:"0.6rem",backgroundColor:"#1a1a1a",color:"#fff",border:"1px solid #333",borderRadius:"8px",cursor:"pointer"},children:"+ Add Workout"})]}),U?m.jsxs(m.Fragment,{children:[m.jsx("div",{ref:h}),m.jsxs("div",{style:{textAlign:"center",color:"#aaa",margin:"1.25rem 0 0.5rem",fontSize:"0.95rem"},children:["Currently editing:"," ",m.jsx("strong",{style:{color:"#fff"},children:U.name||"Workout"})]}),m.jsx("h2",{style:{textAlign:"center"},children:U.name||"Workout"}),V.map((J,te)=>m.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",gap:"0.5rem",backgroundColor:"#1a1a1a",padding:"0.5rem 0.75rem",borderRadius:"8px",marginTop:"0.5rem",position:"relative"},children:[m.jsx("span",{onClick:()=>se(te),style:{position:"absolute",top:"6px",right:"8px",color:"#ff5555",fontWeight:"bold",cursor:"pointer",fontSize:"1.5rem"},children:""}),m.jsx("input",{type:"text",value:J.name,onChange:fe=>Y(te,"name",fe.target.value),style:{width:"calc(100% - 2rem)",backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"6px",padding:"0.4rem",paddingRight:"1.75rem"}}),m.jsxs("div",{style:{display:"flex",gap:"0.3rem",alignItems:"center"},children:[m.jsx("input",{type:"number",value:J.reps,onChange:fe=>Y(te,"reps",fe.target.value),style:{width:"50px",backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"6px",padding:"0.4rem",textAlign:"center"}}),m.jsx("span",{style:{color:"#aaa",fontSize:"0.9rem"},children:"reps"})]}),m.jsxs("div",{style:{display:"flex",gap:"0.3rem",alignItems:"center"},children:[m.jsx("input",{type:"number",value:J.sets,onChange:fe=>Y(te,"sets",fe.target.value),style:{width:"50px",backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"6px",padding:"0.4rem",textAlign:"center"}}),m.jsx("span",{style:{color:"#aaa",fontSize:"0.9rem"},children:"sets"})]}),m.jsxs("div",{style:{display:"flex",gap:"0.3rem",alignItems:"center"},children:[m.jsx("input",{type:"text",inputMode:"decimal",value:A(J.weight===""||J.weight===0?"":J.weight),onChange:fe=>Y(te,"weight",fe.target.value),placeholder:"0",style:{width:"70px",backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"6px",padding:"0.4rem",textAlign:"center"}}),m.jsx("span",{style:{color:"#aaa",fontSize:"0.9rem"},children:p})]})]},te)),m.jsx("button",{onClick:De,style:{marginTop:"0.75rem",width:"100%",padding:"0.6rem",backgroundColor:"#1a1a1a",color:"#fff",border:"1px solid #333",borderRadius:"8px",cursor:"pointer"},children:"+ Add Exercise"})]}):null]})})}function Ep({history:s,deleteWorkout:a,updateWorkoutNotes:i,preferredUnit:l="lb"}){const[c,f]=F.useState(null),[h,p]=F.useState("Logs"),y=l==="kg"?"kg":"lb",v=N=>N/2.2046226218,S=(N,X=1)=>typeof N!="number"||Number.isNaN(N)?"":N.toFixed(X).replace(/\.0+$|(\.\d*[1-9])0+$/g,"$1"),A=N=>{if(N===""||N===null||N===void 0)return"";const X=typeof N=="number"?N:Number(N);return Number.isFinite(X)?S(y==="lb"?X:v(X),2):""},R=(N,X)=>{i(N,X),f(N)};F.useEffect(()=>{if(c!==null){const N=setTimeout(()=>f(null),1e3);return()=>clearTimeout(N)}},[s,c]);const j=N=>{const X=(N?.type||"").trim();return X?X==="A"||X==="B"?`Workout ${X}`:X:"Workout"},U=N=>{const X=Number(N?.sets??0)||0,he=Array.isArray(N?.setsCompleted)?N.setsCompleted.length:0,re=Array.isArray(N?.repsBySet)?N.repsBySet.length:0;return Math.max(X,he,re,0)},V=N=>{const X=U(N);if(X<=0)return"";const he=typeof N?.reps=="number"&&Number.isFinite(N.reps)?N.reps:null,re=Array.isArray(N?.repsBySet)?N.repsBySet:null;return Array.from({length:X},(Z,me)=>{const ke=re?re[me]:void 0;return typeof ke=="number"&&Number.isFinite(ke)?String(ke):he!==null?String(he):"?"}).join("/")},W="__ALL_WORKOUTS__",Q="__ALL_EXERCISES__",[P,Y]=F.useState(""),[se,De]=F.useState(W),[ye,oe]=F.useState(30),Ne="newest",Xe="oldest",[wt,J]=F.useState(Ne),te=N=>[...N].sort((X,he)=>new Date(X.date).getTime()-new Date(he.date).getTime()),fe=N=>{const X=Date.now(),he=Math.max(1,Number(N||30));return X-he*24*60*60*1e3},ve=(N,X)=>Number.isFinite(N)&&N>=X,Ee=F.useMemo(()=>{const N=new Set,X=Array.isArray(s)?s:[];for(const he of X)N.add(j(he));return Array.from(N).sort((he,re)=>he.localeCompare(re))},[s]),T=F.useMemo(()=>{const N=Array.isArray(s)?s:[];if(N.length===0)return[];const X=fe(ye),he=String(P||"").trim().toLowerCase(),re=me=>{if(!he)return!0;const ke=j(me).toLowerCase(),Pe=String(me?.notes||"").toLowerCase(),nt=(Array.isArray(me?.exercises)?me.exercises:[]).map(Je=>String(Je?.name||"").toLowerCase()).filter(Boolean).join(" ");return ke.includes(he)||Pe.includes(he)||nt.includes(he)},Ge=me=>se===W?!0:j(me)===se,Z=[];for(const me of N){const ke=new Date(me?.date).getTime();ve(ke,X)&&Ge(me)&&re(me)&&Z.push(me)}return Z.sort((me,ke)=>{const Pe=new Date(me.date).getTime(),Ae=new Date(ke.date).getTime();return wt===Xe?Pe-Ae:Ae-Pe}),Z},[s,P,se,ye,wt]);F.useEffect(()=>{se!==W&&(Ee.includes(se)||De(W))},[Ee,se]);const G=()=>{Y(""),De(W),oe(30),J(Ne)},ce=String(P||"").trim()!==""||se!==W||Number(ye)!==30||wt!==Ne,be=F.useRef(new Map),ue=F.useRef(null),_=N=>{const X=N?.client_id;if(X)return String(X);const he=new Date(N?.date).getTime();return`${Number.isFinite(he)?he:"no_date"}-${j(N)}`},B=(N,X)=>{const he=be.current;X?he.set(N,X):he.delete(N)},ee=N=>{N&&(N.style.height="0px",N.style.height=`${N.scrollHeight}px`)},ne=N=>{ue.current&&cancelAnimationFrame(ue.current),ue.current=requestAnimationFrame(()=>{const X=be.current.get(N);ee(X)})};F.useEffect(()=>()=>{ue.current&&cancelAnimationFrame(ue.current)},[]);const we=N=>({backgroundColor:N?"#8b5cf6":"#1a1a1a",color:"#fff",borderRadius:"8px",padding:"0.5rem 0.75rem",border:"none",cursor:"pointer",whiteSpace:"nowrap",fontSize:"0.95rem"}),Se=N=>{if(N===""||N===null||N===void 0)return 0;const X=typeof N=="number"?N:Number(N);return Number.isFinite(X)?y==="lb"?X:v(X):0},ze=(N,X)=>{const he=Array.isArray(N?.setsCompleted)?N.setsCompleted:[],re=Array.isArray(N?.repsBySet)?N.repsBySet:[],Ge=!!he[X],Z=re[X];if(typeof Z=="number"&&Number.isFinite(Z))return Z===0&&!Ge?0:Math.max(0,Math.round(Z));if(Ge){const me=typeof N?.reps=="number"&&Number.isFinite(N.reps)?N.reps:0;return Math.max(0,Math.round(me))}return 0},yt=F.useMemo(()=>{const N=new Set,X=Array.isArray(T)?T:[];for(const he of X){const re=Array.isArray(he?.exercises)?he.exercises:[];for(const Ge of re){const Z=String(Ge?.name||"").trim();Z&&N.add(Z)}}return Array.from(N).sort((he,re)=>he.localeCompare(re))},[T]),[je,It]=F.useState(Q),[ae,ot]=F.useState("volume"),[St,Qt]=F.useState(null);F.useEffect(()=>{if(!je){It(Q);return}je!==Q&&yt.length>0&&!yt.includes(je)&&It(Q)},[yt,je]),F.useEffect(()=>{Qt(null)},[je,ye,ae,P,se,wt]);const Kn=[{value:"volume",label:"Volume"},{value:"top_weight",label:"Top weight"},{value:"est_1rm",label:"Estimated 1RM"},{value:"completed_sets",label:"Completed sets"},{value:"workouts_per_week",label:"Workouts per week"},{value:"days_between",label:"Days between workouts"},{value:"last_set_reps",label:"Last-set reps"},{value:"body_weight",label:"Body weight"}],ft=F.useMemo(()=>Kn.find(X=>X.value===ae)||Kn[0],[ae]),H=N=>N==="volume"||N==="top_weight"||N==="est_1rm"||N==="completed_sets"||N==="last_set_reps",I=F.useMemo(()=>ae==="volume"?"Based on completed sets, plus any per-set reps you entered (for failures).":ae==="top_weight"?"Shows the heaviest weight you performed in each workout.":ae==="est_1rm"?"Estimated 1RM (one rep maximum) uses Epley: weight  (1 + reps/30) on performed sets.":ae==="completed_sets"?"Counts completed sets (not partial failures unless you marked a set complete).":ae==="workouts_per_week"?"Counts workouts grouped by week.":ae==="days_between"?"Shows days since your previous workout.":ae==="last_set_reps"?"Shows the reps you logged for the last performed set each workout (useful for failures).":ae==="body_weight"?"Shows body weight entries you saved when finishing workouts.":"",[ae]),ie=(N,X)=>(Array.isArray(N?.exercises)?N.exercises:[]).some(re=>String(re?.name||"").trim()===X),pe=F.useMemo(()=>{const N=Array.isArray(T)?T:[],X=te(N),he=[];if(ae==="days_between"){let re=null;for(const Ge of X){const Z=new Date(Ge?.date).getTime();if(Number.isFinite(Z)){if(re!==null){const me=Math.round((Z-re)/864e5);he.push({dateMs:Z,dateLabel:new Date(Z).toLocaleDateString(),value:Math.max(0,me),valueLabel:`${Math.max(0,me)} days`})}re=Z}}return he}if(ae==="body_weight"){for(const re of X){const Ge=new Date(re?.date).getTime();if(!Number.isFinite(Ge))continue;const Z=typeof re?.body_weight_lbs=="number"&&Number.isFinite(re.body_weight_lbs)?re.body_weight_lbs:null;if(Z===null)continue;const me=Se(Z);he.push({dateMs:Ge,dateLabel:new Date(Ge).toLocaleDateString(),value:me,valueLabel:`${S(me,1)} ${y}`})}return he}if(H(ae)){for(const re of X){const Ge=new Date(re?.date).getTime();if(!Number.isFinite(Ge))continue;const Z=Array.isArray(re?.exercises)?re.exercises:[];if(Z.length===0||je!==Q&&!ie(re,je))continue;let me=0;if(ae==="volume"){let Ae=0;for(const nt of Z){const Je=String(nt?.name||"").trim();if(!Je||je!==Q&&Je!==je)continue;const xt=Se(nt?.weight),ct=U(nt);for(let at=0;at<ct;at++){const jt=ze(nt,at);jt>0&&(Ae+=xt*jt)}}me=Ae}if(ae==="top_weight"){let Ae=0,nt=!1;for(const Je of Z){const xt=String(Je?.name||"").trim();if(!xt||je!==Q&&xt!==je)continue;const ct=U(Je);if(ct<=0)continue;let at=!1;for(let Ct=0;Ct<ct;Ct++)if(ze(Je,Ct)>0){at=!0;break}if(!at)continue;const jt=Se(Je?.weight);jt>Ae&&(Ae=jt),nt=!0}if(!nt)continue;me=Ae}if(ae==="est_1rm"){let Ae=0,nt=!1;for(const Je of Z){const xt=String(Je?.name||"").trim();if(!xt||je!==Q&&xt!==je)continue;const ct=Se(Je?.weight),at=U(Je);for(let jt=0;jt<at;jt++){const Ct=ze(Je,jt);if(Ct<=0)continue;const Zt=ct*(1+Ct/30);Zt>Ae&&(Ae=Zt),nt=!0}}if(!nt)continue;me=Ae}if(ae==="completed_sets"){let Ae=0;for(const nt of Z){const Je=String(nt?.name||"").trim();if(!Je||je!==Q&&Je!==je)continue;const xt=Array.isArray(nt?.setsCompleted)?nt.setsCompleted:[];for(const ct of xt)ct&&(Ae+=1)}me=Ae}if(ae==="last_set_reps"){let Ae=null;for(const nt of Z){const Je=String(nt?.name||"").trim();if(!Je||je!==Q&&Je!==je)continue;const xt=U(nt);for(let ct=0;ct<xt;ct++){const at=ze(nt,ct);at>0&&(Ae=at)}}if(Ae===null)continue;me=Ae}const ke=new Date(Ge).toLocaleDateString(),Pe=ae==="volume"?`${S(me,0)} ${y}-reps`:ae==="top_weight"?`${S(me,1)} ${y}`:ae==="est_1rm"?`${S(me,1)} ${y}`:ae==="completed_sets"?`${S(me,0)} sets`:ae==="last_set_reps"?`${S(me,0)} reps`:`${S(me,0)}`;he.push({dateMs:Ge,dateLabel:ke,value:me,valueLabel:Pe})}return he}return[]},[T,je,l,ae]),Te=F.useMemo(()=>{if(ae!=="workouts_per_week")return[];const N=Array.isArray(T)?T:[],X=te(N),he=Z=>{const me=new Date(Z),Pe=(me.getDay()+6)%7,Ae=new Date(me.getFullYear(),me.getMonth(),me.getDate());return Ae.setDate(Ae.getDate()-Pe),Ae.setHours(0,0,0,0),Ae.getTime()},re=new Map;for(const Z of X){const me=new Date(Z?.date).getTime();if(!Number.isFinite(me)||(Array.isArray(Z?.exercises)?Z.exercises:[]).length===0)continue;const Pe=he(me);re.set(Pe,(re.get(Pe)||0)+1)}return Array.from(re.keys()).sort((Z,me)=>Z-me).map(Z=>{const me=Z+5184e5;return{keyLabel:new Date(Z).toLocaleDateString(),count:re.get(Z)||0,startMs:Z,endMs:me}})},[T,ae]);F.useEffect(()=>{if(St!==null){if(ae==="workouts_per_week"){(St<0||St>=Te.length)&&Qt(null);return}(St<0||St>=pe.length)&&Qt(null)}},[St,pe,Te,ae]);const ut=N=>{const X=N<=0?1:N;return[0,.25,.5,.75,1].map(re=>({value:X*re}))},Fe=(N,X,he)=>{if(!X||X.length===0)return m.jsx("div",{style:{color:"#aaa",textAlign:"center",marginTop:"1rem"},children:"No history in the selected range."});const re=640,Ge=220,Z=54,me=14,ke=14,Pe=34,Ae=Math.max(...X.map(Ve=>Ve.value),0),nt=Ae<=0?1:Ae,Je=re-Z-me,xt=Ge-ke-Pe,ct=Ve=>X.length===1?Z+Je/2:Z+Je*Ve/(X.length-1),at=Ve=>{const fn=Math.max(0,Math.min(nt,Ve))/nt;return ke+(1-fn)*xt},jt=X.map((Ve,Rt)=>`${ct(Rt)},${at(Ve.value)}`).join(" "),Ct=X[0]?.dateLabel||"",Zt=X[X.length-1]?.dateLabel||"",Dt=ut(Ae).map(Ve=>({value:Ve.value,y:at(Ve.value)})),gt=St!=null?X[St]:null,pt=(()=>{if(!gt)return null;const Ve=ct(St),Rt=at(gt.value),fn=gt.dateLabel,Nn=gt.valueLabel||S(gt.value,0),Fn=190,Un=44;let wn=Ve-Fn/2,zn=Rt-Un-10;const Ea=Z,hn=Z+Je-Fn;wn=Math.max(Ea,Math.min(hn,wn));const Nt=ke,Ht=ke+xt-Un;return zn<Nt&&(zn=Math.min(Ht,Rt+10)),{x:wn,y:zn,cx:Ve,cy:Rt,text1:fn,text2:Nn}})(),cn=18;return m.jsxs("div",{style:{marginTop:"0.75rem",backgroundColor:"#1a1a1a",borderRadius:"12px",border:"1px solid #333",padding:"1rem"},children:[m.jsx("div",{style:{fontWeight:"bold"},children:N}),m.jsxs("div",{style:{marginTop:"0.75rem"},children:[m.jsxs("svg",{viewBox:`0 0 ${re} ${Ge}`,width:"100%",height:"220",role:"img","aria-label":he,style:{display:"block",touchAction:"manipulation"},onClick:()=>Qt(null),children:[m.jsx("rect",{x:0,y:0,width:re,height:Ge,fill:"#000",opacity:"0.001"}),m.jsx("line",{x1:Z,y1:ke,x2:Z,y2:ke+xt,stroke:"#333",strokeWidth:"1"}),m.jsx("line",{x1:Z,y1:ke+xt,x2:Z+Je,y2:ke+xt,stroke:"#333",strokeWidth:"1"}),Dt.map((Ve,Rt)=>m.jsxs("g",{children:[m.jsx("line",{x1:Z,y1:Ve.y,x2:Z+Je,y2:Ve.y,stroke:"#2a2a2a",strokeWidth:"1"}),m.jsx("text",{x:8,y:Ve.y+4,fill:"#888",fontSize:"12",children:S(Ve.value,ae==="top_weight"||ae==="est_1rm"?1:0)})]},Rt)),m.jsx("polyline",{fill:"none",stroke:"#8b5cf6",strokeWidth:"2.5",points:jt}),X.map((Ve,Rt)=>{const fn=St===Rt;return m.jsxs("g",{children:[m.jsx("circle",{cx:ct(Rt),cy:at(Ve.value),r:cn,fill:"#000",opacity:"0.001",onClick:Nn=>{Nn.stopPropagation(),Qt(Rt)},style:{cursor:"pointer"}}),m.jsx("circle",{cx:ct(Rt),cy:at(Ve.value),r:fn?5:4,fill:"#8b5cf6"})]},`${Ve.dateMs}-${Rt}`)}),pt?m.jsxs("g",{children:[m.jsx("line",{x1:pt.cx,y1:pt.cy,x2:pt.cx,y2:pt.y+44,stroke:"#333",strokeWidth:"1"}),m.jsx("rect",{x:pt.x,y:pt.y,width:190,height:44,rx:10,ry:10,fill:"#121212",stroke:"#333",strokeWidth:"1"}),m.jsx("text",{x:pt.x+10,y:pt.y+18,fill:"#fff",fontSize:"12",children:pt.text1}),m.jsx("text",{x:pt.x+10,y:pt.y+34,fill:"#aaa",fontSize:"12",children:pt.text2})]}):null,m.jsx("text",{x:Z,y:Ge-10,fill:"#888",fontSize:"12",children:Ct}),m.jsx("text",{x:Z+Je,y:Ge-10,fill:"#888",fontSize:"12",textAnchor:"end",children:Zt})]}),m.jsx("div",{style:{marginTop:"0.5rem",color:"#aaa",fontSize:"0.9rem"},children:gt?m.jsxs("span",{children:["Selected: ",gt.dateLabel,"  ",gt.valueLabel]}):m.jsx("span",{children:"Tap a point to see details."})})]})]})},Ue=N=>{if(!N||N.length===0)return m.jsx("div",{style:{color:"#aaa",textAlign:"center",marginTop:"1rem"},children:"No history in the selected range."});const X=640,he=220,re=54,Ge=14,Z=14,me=34,ke=X-re-Ge,Pe=he-Z-me,Ae=Math.max(...N.map(gt=>gt.count),0),nt=Ae<=0?1:Ae,Je=8,xt=Math.max(6,(ke-Je*(N.length-1))/N.length),ct=gt=>{const cn=Math.max(0,Math.min(nt,gt))/nt;return Z+(1-cn)*Pe},at=ut(Ae).map(gt=>({value:gt.value,y:ct(gt.value)})),jt=N[0]?.keyLabel||"",Ct=N[N.length-1]?.keyLabel||"",Zt=St!=null?N[St]:null,Dt=(()=>{if(!Zt)return null;const pt=re+St*(xt+Je),cn=ct(Zt.count),Ve=pt+xt/2,Rt=cn,fn=Zt.keyLabel,Nn=`${Zt.count} workouts`,Fn=190,Un=44;let wn=Ve-Fn/2,zn=Rt-Un-10;const Ea=re,hn=re+ke-Fn;wn=Math.max(Ea,Math.min(hn,wn));const Nt=Z,Ht=Z+Pe-Un;return zn<Nt&&(zn=Math.min(Ht,Rt+10)),{x:wn,y:zn,cx:Ve,cy:Rt,text1:fn,text2:Nn}})();return m.jsxs("div",{style:{marginTop:"0.75rem",backgroundColor:"#1a1a1a",borderRadius:"12px",border:"1px solid #333",padding:"1rem"},children:[m.jsx("div",{style:{fontWeight:"bold"},children:"Workouts per week"}),m.jsxs("div",{style:{marginTop:"0.75rem"},children:[m.jsxs("svg",{viewBox:`0 0 ${X} ${he}`,width:"100%",height:"220",role:"img","aria-label":"Workouts per week chart",style:{display:"block",touchAction:"manipulation"},onClick:()=>Qt(null),children:[m.jsx("rect",{x:0,y:0,width:X,height:he,fill:"#000",opacity:"0.001"}),m.jsx("line",{x1:re,y1:Z,x2:re,y2:Z+Pe,stroke:"#333",strokeWidth:"1"}),m.jsx("line",{x1:re,y1:Z+Pe,x2:re+ke,y2:Z+Pe,stroke:"#333",strokeWidth:"1"}),at.map((gt,pt)=>m.jsxs("g",{children:[m.jsx("line",{x1:re,y1:gt.y,x2:re+ke,y2:gt.y,stroke:"#2a2a2a",strokeWidth:"1"}),m.jsx("text",{x:8,y:gt.y+4,fill:"#888",fontSize:"12",children:S(gt.value,0)})]},pt)),N.map((gt,pt)=>{const cn=re+pt*(xt+Je),Ve=ct(gt.count),Rt=Z+Pe-Ve,fn=St===pt;return m.jsxs("g",{children:[m.jsx("rect",{x:cn,y:Ve,width:xt,height:Rt,rx:6,ry:6,fill:fn?"#9f7bff":"#8b5cf6",opacity:fn?1:.9}),m.jsx("rect",{x:cn-8,y:Z,width:xt+16,height:Pe,fill:"#000",opacity:"0.001",onClick:Nn=>{Nn.stopPropagation(),Qt(pt)},style:{cursor:"pointer"}})]},`${gt.startMs}-${pt}`)}),Dt?m.jsxs("g",{children:[m.jsx("line",{x1:Dt.cx,y1:Dt.cy,x2:Dt.cx,y2:Dt.y+44,stroke:"#333",strokeWidth:"1"}),m.jsx("rect",{x:Dt.x,y:Dt.y,width:190,height:44,rx:10,ry:10,fill:"#121212",stroke:"#333",strokeWidth:"1"}),m.jsx("text",{x:Dt.x+10,y:Dt.y+18,fill:"#fff",fontSize:"12",children:Dt.text1}),m.jsx("text",{x:Dt.x+10,y:Dt.y+34,fill:"#aaa",fontSize:"12",children:Dt.text2})]}):null,m.jsx("text",{x:re,y:he-10,fill:"#888",fontSize:"12",children:jt}),m.jsx("text",{x:re+ke,y:he-10,fill:"#888",fontSize:"12",textAnchor:"end",children:Ct})]}),m.jsx("div",{style:{marginTop:"0.5rem",color:"#aaa",fontSize:"0.9rem"},children:Zt?m.jsxs("span",{children:["Selected: ",Zt.keyLabel,"  ",Zt.count," workouts"]}):m.jsx("span",{children:"Tap a bar to see details."})})]})]})},Jt=()=>{const N=H(ae),X=je===Q?"All exercises":je,he=N?ae==="volume"?`Volume (${X})`:ae==="top_weight"?`Top weight (${X})`:ae==="est_1rm"?`Estimated 1RM (${X})`:ae==="completed_sets"?`Completed sets (${X})`:ae==="last_set_reps"?`Last-set reps (${X})`:ft.label:ft.label;return m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"12px",padding:"1rem"},children:[m.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"Charts"}),m.jsx("div",{style:{color:"#aaa",fontSize:"0.9rem"},children:I}),m.jsxs("div",{style:{marginTop:"0.75rem",display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[m.jsxs("div",{style:{flex:"1 1 240px",minWidth:240},children:[m.jsx("div",{style:{color:"#aaa",fontSize:"0.85rem",marginBottom:"0.35rem"},children:"Chart type"}),m.jsx("select",{value:ae,onChange:re=>ot(re.target.value),style:{width:"100%",padding:"0.55rem 0.6rem",borderRadius:"8px",border:"1px solid #333",backgroundColor:"#121212",color:"#fff",boxSizing:"border-box"},children:Kn.map(re=>m.jsx("option",{value:re.value,children:re.label},re.value))})]}),N?m.jsxs("div",{style:{flex:"1 1 240px",minWidth:240},children:[m.jsx("div",{style:{color:"#aaa",fontSize:"0.85rem",marginBottom:"0.35rem"},children:"Exercise"}),m.jsxs("select",{value:je,onChange:re=>It(re.target.value),style:{width:"100%",padding:"0.55rem 0.6rem",borderRadius:"8px",border:"1px solid #333",backgroundColor:"#121212",color:"#fff",boxSizing:"border-box"},children:[m.jsx("option",{value:Q,children:"All exercises"}),yt.length===0?null:yt.map(re=>m.jsx("option",{value:re,children:re},re))]})]}):null]})]}),ae==="workouts_per_week"?Ue(Te):Fe(he,pe,`${he} chart`)]})},Wt=()=>T.length===0?m.jsx("p",{style:{color:"#aaa",textAlign:"center"},children:"No workouts match your filters."}):m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%"},children:T.map(N=>{const X=(Array.isArray(s)?s:[]).findIndex(Z=>(Z?.client_id||null)===(N?.client_id||null)),he=X!==-1?X:0,re=typeof N?.body_weight_lbs=="number"&&Number.isFinite(N.body_weight_lbs)?N.body_weight_lbs:null,Ge=_(N);return m.jsxs("div",{style:{position:"relative",backgroundColor:"#1a1a1a",borderRadius:"8px",padding:"1rem",textAlign:"left",boxSizing:"border-box",transition:"background-color 0.2s",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[m.jsx("button",{onClick:Z=>{Z.stopPropagation(),a(he)},style:{position:"absolute",top:"6px",right:"6px",background:"transparent",border:"none",color:"#ff5555",fontWeight:"bold",fontSize:"1.5rem",padding:"4px",cursor:"pointer",transition:"color 0.2s"},children:""}),m.jsx("h3",{style:{margin:"0 0 0.25rem 0"},children:j(N)}),m.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[m.jsx("div",{style:{margin:0,fontSize:"0.9rem",color:"#aaa"},children:new Date(N.date).toLocaleString()}),re!==null?m.jsxs("div",{style:{margin:0,fontSize:"0.9rem",color:"#aaa"},children:["Body weight: ",A(re)," ",y]}):null]}),(N.exercises||[]).map((Z,me)=>{const ke=U(Z),Pe=Array.isArray(Z?.setsCompleted)?Z.setsCompleted.filter(Boolean).length:0,Ae=A(Z.weight),nt=V(Z);return m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"0.25rem"},children:[m.jsx("span",{children:Z.name}),m.jsxs("span",{style:{color:"#aaa",fontSize:"0.9rem",textAlign:"right"},children:[Ae," ",y,"  ",Z.reps," reps | ",Pe,"/",ke," sets"]})]}),m.jsxs("div",{style:{color:"#aaa",fontSize:"0.9rem"},children:["reps: ",nt]})]},me)}),m.jsx("textarea",{ref:Z=>B(Ge,Z),placeholder:"Add notes.",value:N.notes||"",onChange:Z=>{R(he,Z.target.value),ne(Ge)},onFocus:()=>ne(Ge),style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"1px solid #333",backgroundColor:"#121212",color:"#fff",resize:"none",minHeight:"50px",overflow:"hidden",boxSizing:"border-box"}}),m.jsx("span",{style:{fontSize:"0.8rem",color:"#aaa",textAlign:"right"},children:c===he?"Editing...":"Saved"})]},Ge)})});return m.jsx("div",{style:{width:"100%",backgroundColor:"#121212",color:"#fff",boxSizing:"border-box",overflowX:"hidden"},children:m.jsxs("div",{style:{width:"100%",padding:"0 1rem",boxSizing:"border-box"},children:[m.jsx("h2",{style:{marginBottom:"0.75rem",textAlign:"center"},children:"Workout History"}),m.jsxs("div",{style:{backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"12px",padding:"1rem",marginBottom:"0.75rem"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"0.75rem"},children:[m.jsx("div",{style:{fontWeight:"bold"},children:"Filters"}),ce?m.jsx("button",{type:"button",onClick:G,style:{backgroundColor:"transparent",border:"1px solid #333",color:"#aaa",borderRadius:"10px",padding:"0.35rem 0.6rem",cursor:"pointer",fontSize:"0.9rem"},children:"Clear"}):null]}),m.jsxs("div",{style:{marginTop:"0.75rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[m.jsx("input",{value:P,onChange:N=>Y(N.target.value),placeholder:"Search workouts, exercises, notes",style:{width:"100%",padding:"0.6rem",borderRadius:"10px",border:"1px solid #333",backgroundColor:"#121212",color:"#fff",boxSizing:"border-box",outline:"none"}}),m.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[m.jsxs("div",{style:{flex:"1 1 220px",minWidth:220},children:[m.jsx("div",{style:{color:"#aaa",fontSize:"0.85rem",marginBottom:"0.35rem"},children:"Workout"}),m.jsxs("select",{value:se,onChange:N=>De(N.target.value),style:{width:"100%",padding:"0.55rem 0.6rem",borderRadius:"10px",border:"1px solid #333",backgroundColor:"#121212",color:"#fff",boxSizing:"border-box"},children:[m.jsx("option",{value:W,children:"All workouts"}),Ee.map(N=>m.jsx("option",{value:N,children:N},N))]})]}),m.jsxs("div",{style:{flex:"0 0 170px"},children:[m.jsx("div",{style:{color:"#aaa",fontSize:"0.85rem",marginBottom:"0.35rem"},children:"Range"}),m.jsxs("select",{value:String(ye),onChange:N=>oe(Number(N.target.value)),style:{width:"100%",padding:"0.55rem 0.6rem",borderRadius:"10px",border:"1px solid #333",backgroundColor:"#121212",color:"#fff",boxSizing:"border-box"},children:[m.jsx("option",{value:"7",children:"7 days"}),m.jsx("option",{value:"14",children:"14 days"}),m.jsx("option",{value:"30",children:"30 days"}),m.jsx("option",{value:"90",children:"90 days"}),m.jsx("option",{value:"180",children:"180 days"}),m.jsx("option",{value:"365",children:"365 days"}),m.jsx("option",{value:"3650",children:"All time"})]})]}),m.jsxs("div",{style:{flex:"0 0 170px"},children:[m.jsx("div",{style:{color:"#aaa",fontSize:"0.85rem",marginBottom:"0.35rem"},children:"Sort"}),m.jsxs("select",{value:wt,onChange:N=>J(N.target.value),style:{width:"100%",padding:"0.55rem 0.6rem",borderRadius:"10px",border:"1px solid #333",backgroundColor:"#121212",color:"#fff",boxSizing:"border-box"},children:[m.jsx("option",{value:Ne,children:"Newest first"}),m.jsx("option",{value:Xe,children:"Oldest first"})]})]})]}),m.jsxs("div",{style:{color:"#aaa",fontSize:"0.9rem"},children:["Showing ",T.length," of ",(Array.isArray(s)?s:[]).length]})]})]}),m.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"center",gap:"0.5rem",marginBottom:"1rem"},children:[m.jsx("button",{onClick:()=>p("Logs"),style:we(h==="Logs"),children:"Logs"}),m.jsx("button",{onClick:()=>p("Charts"),style:we(h==="Charts"),children:"Charts"})]}),h==="Logs"?Wt():Jt()]})})}function Tp({sessionEmailMasked:s,sessionEmailFull:a,isSignedIn:i,onSignOut:l,onRequestEmailChange:c,onVerifyEmailChangeCode:f,emailChangeBusy:h,emailChangeMessage:p,onRefreshAuthStatus:y,historyCount:v=0,onExportHistoryCsv:S,onDeleteAllHistory:A,onDeleteAccount:R,dangerBusy:j=!1,dangerMessage:U=""}){const[V,W]=F.useState(!1),[Q,P]=F.useState("request"),[Y,se]=F.useState(""),[De,ye]=F.useState(""),[oe,Ne]=F.useState(!1);F.useEffect(()=>{i||(W(!1),P("request"),se(""),ye(""),Ne(!1))},[i]),F.useEffect(()=>{Ne(!1)},[s,a]);const Xe={backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"12px",padding:"1rem"},wt={color:"#aaa"},J={backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"8px",padding:"0.5rem 0.9rem",cursor:"pointer"},te={width:"100%",marginTop:"0.6rem",padding:"0.75rem 1rem",backgroundColor:"#8b5cf6",color:"#fff",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"bold"},fe=ae=>({cursor:ae?"default":"pointer",opacity:ae?.7:1}),ve=i&&typeof c=="function"&&typeof y=="function"&&typeof f=="function",Ee=i&&typeof l=="function",T=()=>{W(!1),P("request"),se(""),ye("")},G=async()=>{const ae=String(Y||"").trim();ae&&(await c(ae),P("verify"))},ce=async()=>{const ae=String(Y||"").trim(),ot=String(De||"").trim();!ae||!ot||(await f(ae,ot),await y(),T())},be=typeof S=="function"&&Number(v||0)>0,ue=typeof A=="function"&&Number(v||0)>0,_=i&&typeof R=="function",B=typeof s=="string"?s:"",ee=typeof a=="string"?a:"",ne=ee.trim().length>0,we=B.trim().length>0,Se=!!(oe&&ne),ze=Se?ee:we?B:ee,yt=i&&ne,je=({size:ae=16})=>m.jsxs("svg",{width:ae,height:ae,viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",style:{display:"block"},children:[m.jsx("path",{d:"M2.2 12s3.6-7 9.8-7 9.8 7 9.8 7-3.6 7-9.8 7-9.8-7-9.8-7Z",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),m.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),It=({size:ae=16})=>m.jsxs("svg",{width:ae,height:ae,viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",style:{display:"block"},children:[m.jsx("path",{d:"M2.2 12s3.6-7 9.8-7c2.1 0 4 0.8 5.6 1.9",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),m.jsx("path",{d:"M21.8 12s-3.6 7-9.8 7c-2.1 0-4-0.8-5.6-1.9",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),m.jsx("path",{d:"M9.9 9.9a3 3 0 0 0 4.2 4.2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),m.jsx("path",{d:"M3 3l18 18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]});return m.jsxs("div",{style:{width:"100%",padding:"0.75rem 1rem 1.25rem",boxSizing:"border-box"},children:[m.jsx("div",{style:Xe,children:m.jsxs("div",{children:[m.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"Email"}),ve?m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{...wt,overflowWrap:"anywhere",display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:[m.jsx("span",{children:"Current:"}),m.jsx("span",{style:{color:"#aaa"},children:ze||""}),yt?m.jsx("button",{type:"button",onClick:()=>Ne(ae=>!ae),"aria-label":Se?"Hide email":"Show email",title:Se?"Hide email":"Show email",style:{backgroundColor:"transparent",border:"1px solid #333",color:"#aaa",borderRadius:"8px",width:"30px",height:"30px",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",padding:0,lineHeight:1},children:Se?m.jsx(It,{}):m.jsx(je,{})}):null]}),m.jsxs("div",{style:{marginTop:"0.75rem",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[Ee?m.jsx("button",{type:"button",onClick:()=>{window.confirm("Sign out of IronLoop on this device?")&&l()},disabled:h,style:{...J,...fe(h)},children:"Sign out"}):null,m.jsx("button",{onClick:()=>{V?T():(W(!0),P("request"),se(""),ye(""))},style:J,children:V?"Cancel":"Change email"}),m.jsx("button",{onClick:y,disabled:h,style:{...J,...fe(h)},children:"Refresh status"})]}),V&&m.jsxs("div",{style:{marginTop:"0.75rem"},children:[m.jsx("input",{value:Y,onChange:ae=>se(ae.target.value),placeholder:"new@email.com",style:{width:"100%",padding:"0.6rem",borderRadius:"8px",boxSizing:"border-box"},inputMode:"email",autoCapitalize:"none",autoCorrect:"off",disabled:h||Q==="verify"}),Q==="request"?m.jsx("button",{onClick:G,disabled:h||!String(Y||"").trim(),style:{...te,...fe(h||!String(Y||"").trim())},children:"Send code"}):m.jsxs(m.Fragment,{children:[m.jsx("div",{style:{marginTop:"0.6rem",...wt},children:"Enter the code sent to your new email."}),m.jsx("input",{value:De,onChange:ae=>ye(ae.target.value),placeholder:"Code",style:{width:"100%",marginTop:"0.6rem",padding:"0.6rem",borderRadius:"8px",boxSizing:"border-box"},inputMode:"numeric",autoCapitalize:"none",autoCorrect:"off",disabled:h}),m.jsx("button",{onClick:ce,disabled:h||!String(De||"").trim()||!String(Y||"").trim(),style:{...te,...fe(h||!String(De||"").trim()||!String(Y||"").trim())},children:"Confirm email change"}),m.jsx("button",{onClick:G,disabled:h||!String(Y||"").trim(),style:{width:"100%",marginTop:"0.6rem",padding:"0.6rem 1rem",backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"8px",cursor:h||!String(Y||"").trim()?"default":"pointer",opacity:h||!String(Y||"").trim()?.7:1},children:"Resend code"}),m.jsx("button",{onClick:()=>{P("request"),ye("")},disabled:h,style:{width:"100%",marginTop:"0.6rem",padding:"0.6rem 1rem",backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"8px",cursor:h?"default":"pointer",opacity:h?.7:1},children:"Change new email"})]})]}),p?m.jsx("div",{style:{marginTop:"0.75rem",color:"#aaa"},children:p}):null]}):m.jsx("div",{style:wt,children:"Sign in above to manage your email."})]})}),m.jsxs("div",{style:{...Xe,marginTop:"0.75rem"},children:[m.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"Export"}),m.jsx("div",{style:wt,children:"Download your workout history as a CSV file."}),m.jsxs("div",{style:{marginTop:"0.75rem"},children:[m.jsxs("button",{onClick:()=>{be&&S()},disabled:!be,style:{...te,...fe(!be),backgroundColor:be?"#8b5cf6":"#333"},children:["Export history (.csv)",Number(v||0)>0?` (${v})`:""]}),!be&&m.jsx("div",{style:{marginTop:"0.6rem",color:"#aaa"},children:"No workouts to export yet."})]})]}),m.jsxs("div",{style:{...Xe,marginTop:"0.75rem",border:"1px solid #552222"},children:[m.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.5rem",color:"#ff6b6b"},children:"Danger zone"}),m.jsx("div",{style:wt,children:"These actions are destructive and cannot be undone."}),m.jsxs("div",{style:{marginTop:"0.75rem",display:"flex",flexDirection:"column",gap:"0.6rem"},children:[m.jsx("button",{type:"button",onClick:async()=>{if(!ue||j)return;const ae=i?"Delete all workout history? This will remove history from this device and from your Supabase account. This cannot be undone.":"Delete all workout history from this device? This cannot be undone.";!window.confirm(ae)||!window.confirm("Are you sure?")||await A()},disabled:!ue||j,style:{width:"100%",padding:"0.7rem 1rem",backgroundColor:"transparent",border:"1px solid #ff6b6b",color:"#ff6b6b",borderRadius:"8px",cursor:!ue||j?"default":"pointer",opacity:!ue||j?.6:1,fontWeight:"bold"},children:"Delete all history"}),m.jsx("button",{type:"button",onClick:async()=>{!_||j||!window.confirm("Delete your account and all associated data? This will permanently remove your IronLoop data from Supabase. This cannot be undone.")||!window.confirm("Final confirmation: delete account. You will be signed out immediately.")||await R()},disabled:!_||j,style:{width:"100%",padding:"0.7rem 1rem",backgroundColor:"transparent",border:"1px solid #ff6b6b",color:"#ff6b6b",borderRadius:"8px",cursor:!_||j?"default":"pointer",opacity:!_||j?.6:1,fontWeight:"bold"},children:"Delete account"})]}),ue?null:m.jsx("div",{style:{marginTop:"0.6rem",color:"#aaa"},children:"No history to delete."}),i?null:m.jsx("div",{style:{marginTop:"0.6rem",color:"#aaa"},children:"Sign in to delete your account."}),U?m.jsx("div",{style:{marginTop:"0.75rem",color:"#aaa"},children:U}):null]})]})}function Dl(s,a){var i={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.indexOf(l)<0&&(i[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(s);c<l.length;c++)a.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(s,l[c])&&(i[l[c]]=s[l[c]]);return i}function Ap(s,a,i,l){function c(f){return f instanceof i?f:new i(function(h){h(f)})}return new(i||(i=Promise))(function(f,h){function p(S){try{v(l.next(S))}catch(A){h(A)}}function y(S){try{v(l.throw(S))}catch(A){h(A)}}function v(S){S.done?f(S.value):c(S.value).then(p,y)}v((l=l.apply(s,a||[])).next())})}const Op=s=>s?(...a)=>s(...a):(...a)=>fetch(...a);class vc extends Error{constructor(a,i="FunctionsError",l){super(a),this.name=i,this.context=l}}class jp extends vc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class pm extends vc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class vm extends vc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var sc;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(sc||(sc={}));class Cp{constructor(a,{headers:i={},customFetch:l,region:c=sc.Any}={}){this.url=a,this.headers=i,this.region=c,this.fetch=Op(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Ap(this,arguments,void 0,function*(i,l={}){var c;let f,h;try{const{headers:p,method:y,body:v,signal:S,timeout:A}=l;let R={},{region:j}=l;j||(j=this.region);const U=new URL(`${this.url}/${i}`);j&&j!=="any"&&(R["x-region"]=j,U.searchParams.set("forceFunctionRegion",j));let V;v&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(R["Content-Type"]="application/octet-stream",V=v):typeof v=="string"?(R["Content-Type"]="text/plain",V=v):typeof FormData<"u"&&v instanceof FormData?V=v:(R["Content-Type"]="application/json",V=JSON.stringify(v)):V=v;let W=S;A&&(h=new AbortController,f=setTimeout(()=>h.abort(),A),S?(W=h.signal,S.addEventListener("abort",()=>h.abort())):W=h.signal);const Q=yield this.fetch(U.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},R),this.headers),p),body:V,signal:W}).catch(De=>{throw new jp(De)}),P=Q.headers.get("x-relay-error");if(P&&P==="true")throw new pm(Q);if(!Q.ok)throw new vm(Q);let Y=((c=Q.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),se;return Y==="application/json"?se=yield Q.json():Y==="application/octet-stream"||Y==="application/pdf"?se=yield Q.blob():Y==="text/event-stream"?se=Q:Y==="multipart/form-data"?se=yield Q.formData():se=yield Q.text(),{data:se,error:null,response:Q}}catch(p){return{data:null,error:p,response:p instanceof vm||p instanceof pm?p.context:void 0}}finally{f&&clearTimeout(f)}})}}var Rp=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},kp=class{constructor(s){var a,i;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(i=s.isMaybeSingle)!==null&&i!==void 0?i:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{let h=null,p=null,y=null,v=f.status,S=f.statusText;if(f.ok){var A,R;if(i.method!=="HEAD"){var j;const Q=await f.text();Q===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((j=i.headers.get("Accept"))===null||j===void 0)&&j.includes("application/vnd.pgrst.plan+text"))?p=Q:p=JSON.parse(Q))}const V=(A=i.headers.get("Prefer"))===null||A===void 0?void 0:A.match(/count=(exact|planned|estimated)/),W=(R=f.headers.get("content-range"))===null||R===void 0?void 0:R.split("/");V&&W&&W.length>1&&(y=parseInt(W[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,y=null,v=406,S="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var U;const V=await f.text();try{h=JSON.parse(V),Array.isArray(h)&&f.status===404&&(p=[],h=null,v=200,S="OK")}catch{f.status===404&&V===""?(v=204,S="No Content"):h={message:V}}if(h&&i.isMaybeSingle&&(!(h==null||(U=h.details)===null||U===void 0)&&U.includes("0 rows"))&&(h=null,v=200,S="OK"),h&&i.shouldThrowOnError)throw new Rp(h)}return{error:h,data:p,count:y,status:v,statusText:S}});return this.shouldThrowOnError||(c=c.catch(f=>{var h;let p="";const y=f?.cause;if(y){var v,S,A,R;const U=(v=y?.message)!==null&&v!==void 0?v:"",V=(S=y?.code)!==null&&S!==void 0?S:"";p=`${(A=f?.name)!==null&&A!==void 0?A:"FetchError"}: ${f?.message}`,p+=`

Caused by: ${(R=y?.name)!==null&&R!==void 0?R:"Error"}: ${U}`,V&&(p+=` (${V})`),y?.stack&&(p+=`
${y.stack}`)}else{var j;p=(j=f?.stack)!==null&&j!==void 0?j:""}return{error:{message:`${(h=f?.name)!==null&&h!==void 0?h:"FetchError"}: ${f?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(s,a)}returns(){return this}overrideTypes(){return this}},Dp=class extends kp{select(s){let a=!1;const i=(s??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const f=c?`${c}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${s}.${a?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:i=a}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,a,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(f,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:f="text"}={}){var h;const p=[s?"analyze":null,a?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const bm=new RegExp("[,()]");var ui=class extends Dp{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const i=Array.from(new Set(a)).map(l=>typeof l=="string"&&bm.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${i})`),this}notIn(s,a){const i=Array.from(new Set(a)).map(l=>typeof l=="string"&&bm.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`not.in.(${i})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:i,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const f=i===void 0?"":`(${i})`;return this.url.searchParams.append(s,`${c}fts${f}.${a}`),this}match(s){return Object.entries(s).forEach(([a,i])=>{this.url.searchParams.append(a,`eq.${i}`)}),this}not(s,a,i){return this.url.searchParams.append(s,`not.${a}.${i}`),this}or(s,{foreignTable:a,referencedTable:i=a}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,i){return this.url.searchParams.append(s,`${a}.${i}`),this}},Np=class{constructor(s,{headers:a={},schema:i,fetch:l}){this.url=s,this.headers=new Headers(a),this.schema=i,this.fetch=l}select(s,a){const{head:i=!1,count:l}=a??{},c=i?"HEAD":"GET";let f=!1;const h=(s??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new ui({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:i=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new ui({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(p.length>0){const y=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new ui({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(s,{count:a}={}){var i;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new ui({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var a;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new ui({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Up=class Gm{constructor(a,{headers:i={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Np(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Gm(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,i={},{head:l=!1,get:c=!1,count:f}={}){var h;let p;const y=new URL(`${this.url}/rpc/${a}`);let v;l||c?(p=l?"HEAD":"GET",Object.entries(i).filter(([A,R])=>R!==void 0).map(([A,R])=>[A,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([A,R])=>{y.searchParams.append(A,R)})):(p="POST",v=i);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new ui({method:p,url:y,headers:S,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class zp{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const l=i.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let i=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(i+=`

Suggested solution: ${a.workaround}`),new Error(i)}static createWebSocket(a,i){const l=this.getWebSocketConstructor();return new l(a,i)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Mp="2.89.0",Bp=`realtime-js/${Mp}`,Vm="1.0.0",Lp="2.0.0",_m=Vm,lc=1e4,qp=1e3,Hp=100;var Wa;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Wa||(Wa={}));var en;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(en||(en={}));var Zn;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Zn||(Zn={}));var oc;(function(s){s.websocket="websocket"})(oc||(oc={}));var br;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(br||(br={}));class $p{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,i){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var i;return this._isArrayBuffer((i=a.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var i,l;const c=(l=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var i,l;const c=(l=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(a,i,l){var c,f;const h=a.topic,p=(c=a.ref)!==null&&c!==void 0?c:"",y=(f=a.join_ref)!==null&&f!==void 0?f:"",v=a.payload.event,S=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},A=Object.keys(S).length===0?"":JSON.stringify(S);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(A.length>255)throw new Error(`metadata length ${A.length} exceeds maximum of 255`);const R=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+p.length+h.length+v.length+A.length,j=new ArrayBuffer(this.HEADER_LENGTH+R);let U=new DataView(j),V=0;U.setUint8(V++,this.KINDS.userBroadcastPush),U.setUint8(V++,y.length),U.setUint8(V++,p.length),U.setUint8(V++,h.length),U.setUint8(V++,v.length),U.setUint8(V++,A.length),U.setUint8(V++,i),Array.from(y,Q=>U.setUint8(V++,Q.charCodeAt(0))),Array.from(p,Q=>U.setUint8(V++,Q.charCodeAt(0))),Array.from(h,Q=>U.setUint8(V++,Q.charCodeAt(0))),Array.from(v,Q=>U.setUint8(V++,Q.charCodeAt(0))),Array.from(A,Q=>U.setUint8(V++,Q.charCodeAt(0)));var W=new Uint8Array(j.byteLength+l.byteLength);return W.set(new Uint8Array(j),0),W.set(new Uint8Array(l),j.byteLength),W.buffer}decode(a,i){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return i(l)}if(typeof a=="string"){const l=JSON.parse(a),[c,f,h,p,y]=l;return i({join_ref:c,ref:f,topic:h,event:p,payload:y})}return i({})}_binaryDecode(a){const i=new DataView(a),l=i.getUint8(0),c=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,i,c)}_decodeUserBroadcast(a,i,l){const c=i.getUint8(1),f=i.getUint8(2),h=i.getUint8(3),p=i.getUint8(4);let y=this.HEADER_LENGTH+4;const v=l.decode(a.slice(y,y+c));y=y+c;const S=l.decode(a.slice(y,y+f));y=y+f;const A=l.decode(a.slice(y,y+h));y=y+h;const R=a.slice(y,a.byteLength),j=p===this.JSON_ENCODING?JSON.parse(l.decode(R)):R,U={type:this.BROADCAST_EVENT,event:S,payload:j};return h>0&&(U.meta=JSON.parse(A)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:U}}_isArrayBuffer(a){var i;return a instanceof ArrayBuffer||((i=a?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(a,i){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>i.includes(l)))}}class Ym{constructor(a,i){this.callback=a,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Tt||(Tt={}));const wm=(s,a,i={})=>{var l;const c=(l=i.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((f,h)=>(f[h]=Gp(h,s,a,c),f),{}):{}},Gp=(s,a,i,l)=>{const c=a.find(p=>p.name===s),f=c?.type,h=i[s];return f&&!l.includes(f)?Km(f,h):uc(h)},Km=(s,a)=>{if(s.charAt(0)==="_"){const i=s.slice(1,s.length);return Xp(a,i)}switch(s){case Tt.bool:return Vp(a);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return Yp(a);case Tt.json:case Tt.jsonb:return Kp(a);case Tt.timestamp:return Ip(a);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return uc(a);default:return uc(a)}},uc=s=>s,Vp=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Yp=s=>{if(typeof s=="string"){const a=parseFloat(s);if(!Number.isNaN(a))return a}return s},Kp=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},Xp=(s,a)=>{if(typeof s!="string")return s;const i=s.length-1,l=s[i];if(s[0]==="{"&&l==="}"){let f;const h=s.slice(1,i);try{f=JSON.parse("["+h+"]")}catch{f=h?h.split(","):[]}return f.map(p=>Km(a,p))}return s},Ip=s=>typeof s=="string"?s.replace(" ","T"):s,Xm=s=>{const a=new URL(s);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Zu{constructor(a,i,l={},c=lc){this.channel=a,this.event=i,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,i){var l;return this._hasReceived(a)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:i}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(i))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Sm;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Sm||(Sm={}));class ss{constructor(a,i){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:f,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ss.syncState(this.state,c,f,h),this.pendingDiffs.forEach(y=>{this.state=ss.syncDiff(this.state,y,f,h)}),this.pendingDiffs=[],p()}),this.channel._on(l.diff,{},c=>{const{onJoin:f,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=ss.syncDiff(this.state,c,f,h),p())}),this.onJoin((c,f,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:f,newPresences:h})}),this.onLeave((c,f,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:f,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,i,l,c){const f=this.cloneDeep(a),h=this.transformState(i),p={},y={};return this.map(f,(v,S)=>{h[v]||(y[v]=S)}),this.map(h,(v,S)=>{const A=f[v];if(A){const R=S.map(W=>W.presence_ref),j=A.map(W=>W.presence_ref),U=S.filter(W=>j.indexOf(W.presence_ref)<0),V=A.filter(W=>R.indexOf(W.presence_ref)<0);U.length>0&&(p[v]=U),V.length>0&&(y[v]=V)}else p[v]=S}),this.syncDiff(f,{joins:p,leaves:y},l,c)}static syncDiff(a,i,l,c){const{joins:f,leaves:h}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(f,(p,y)=>{var v;const S=(v=a[p])!==null&&v!==void 0?v:[];if(a[p]=this.cloneDeep(y),S.length>0){const A=a[p].map(j=>j.presence_ref),R=S.filter(j=>A.indexOf(j.presence_ref)<0);a[p].unshift(...R)}l(p,S,y)}),this.map(h,(p,y)=>{let v=a[p];if(!v)return;const S=y.map(A=>A.presence_ref);v=v.filter(A=>S.indexOf(A.presence_ref)<0),a[p]=v,c(p,v,y),v.length===0&&delete a[p]}),a}static map(a,i){return Object.getOwnPropertyNames(a).map(l=>i(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((i,l)=>{const c=a[l];return"metas"in c?i[l]=c.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):i[l]=c,i},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xm;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(xm||(xm={}));var ls;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(ls||(ls={}));var Sa;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Sa||(Sa={}));class di{constructor(a,i={config:{}},l){var c,f;if(this.topic=a,this.params=i,this.socket=l,this.bindings={},this.state=en.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Zu(this,Zn.join,this.params,this.timeout),this.rejoinTimer=new Ym(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=en.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=en.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zn.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new ss(this),this.broadcastEndpointURL=Xm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,i=this.timeout){var l,c,f;if(this.socket.isConnected()||this.socket.connect(),this.state==en.closed){const{config:{broadcast:h,presence:p,private:y}}=this.params,v=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(j=>j.filter))!==null&&c!==void 0?c:[],S=!!this.bindings[ls.PRESENCE]&&this.bindings[ls.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,A={},R={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:S}),postgres_changes:v,private:y};this.socket.accessTokenValue&&(A.access_token=this.socket.accessTokenValue),this._onError(j=>a?.(Sa.CHANNEL_ERROR,j)),this._onClose(()=>a?.(Sa.CLOSED)),this.updateJoinPayload(Object.assign({config:R},A)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:j})=>{var U;if(this.socket._isManualToken()||this.socket.setAuth(),j===void 0){a?.(Sa.SUBSCRIBED);return}else{const V=this.bindings.postgres_changes,W=(U=V?.length)!==null&&U!==void 0?U:0,Q=[];for(let P=0;P<W;P++){const Y=V[P],{filter:{event:se,schema:De,table:ye,filter:oe}}=Y,Ne=j&&j[P];if(Ne&&Ne.event===se&&di.isFilterValueEqual(Ne.schema,De)&&di.isFilterValueEqual(Ne.table,ye)&&di.isFilterValueEqual(Ne.filter,oe))Q.push(Object.assign(Object.assign({},Y),{id:Ne.id}));else{this.unsubscribe(),this.state=en.errored,a?.(Sa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Q,a&&a(Sa.SUBSCRIBED);return}}).receive("error",j=>{this.state=en.errored,a?.(Sa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{a?.(Sa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,i={}){return await this.send({type:"presence",event:"track",payload:a},i.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,i,l){return this.state===en.joined&&a===ls.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,i,l)}async httpSend(a,i,l={}){var c;if(i==null)return Promise.reject("Payload is required for httpSend()");const f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(p.status===202)return{success:!0};let y=p.statusText;try{const v=await p.json();y=v.error||v.message||y}catch{}return Promise.reject(new Error(y))}async send(a,i={}){var l,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:h}=a,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=v.body)===null||c===void 0?void 0:c.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var h,p,y;const v=this._push(a.type,a,i.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||y===void 0)&&y.ack)&&f("ok"),v.receive("ok",()=>f("ok")),v.receive("error",()=>f("error")),v.receive("timeout",()=>f("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=en.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Zu(this,Zn.leave,{},a),l.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=en.closed,this.bindings={}}async _fetchWithTimeout(a,i,l){const c=new AbortController,f=setTimeout(()=>c.abort(),l),h=await this.socket.fetch(a,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(f),h}_push(a,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Zu(this,a,i,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Hp){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(a,i,l){return i}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,i,l){var c,f;const h=a.toLocaleLowerCase(),{close:p,error:y,leave:v,join:S}=Zn;if(l&&[p,y,v,S].indexOf(h)>=0&&l!==this._joinRef())return;let R=this._onMessage(h,i,l);if(i&&!R)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(j=>{var U,V,W;return((U=j.filter)===null||U===void 0?void 0:U.event)==="*"||((W=(V=j.filter)===null||V===void 0?void 0:V.event)===null||W===void 0?void 0:W.toLocaleLowerCase())===h}).map(j=>j.callback(R,l)):(f=this.bindings[h])===null||f===void 0||f.filter(j=>{var U,V,W,Q,P,Y;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in j){const se=j.id,De=(U=j.filter)===null||U===void 0?void 0:U.event;return se&&((V=i.ids)===null||V===void 0?void 0:V.includes(se))&&(De==="*"||De?.toLocaleLowerCase()===((W=i.data)===null||W===void 0?void 0:W.type.toLocaleLowerCase()))}else{const se=(P=(Q=j?.filter)===null||Q===void 0?void 0:Q.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return se==="*"||se===((Y=i?.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===h}).map(j=>{if(typeof R=="object"&&"ids"in R){const U=R.data,{schema:V,table:W,commit_timestamp:Q,type:P,errors:Y}=U;R=Object.assign(Object.assign({},{schema:V,table:W,commit_timestamp:Q,eventType:P,new:{},old:{},errors:Y}),this._getPayloadRecords(U))}j.callback(R,l)})}_isClosed(){return this.state===en.closed}_isJoined(){return this.state===en.joined}_isJoining(){return this.state===en.joining}_isLeaving(){return this.state===en.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,i,l){const c=a.toLocaleLowerCase(),f={type:c,filter:i,callback:l};return this.bindings[c]?this.bindings[c].push(f):this.bindings[c]=[f],this}_off(a,i){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var f;return!(((f=c.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===l&&di.isEqual(c.filter,i))})),this}static isEqual(a,i){if(Object.keys(a).length!==Object.keys(i).length)return!1;for(const l in a)if(a[l]!==i[l])return!1;return!0}static isFilterValueEqual(a,i){return(a??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Zn.close,{},a)}_onError(a){this._on(Zn.error,{},i=>a(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=en.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const i={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(i.new=wm(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(i.old=wm(a.columns,a.old_record)),i}}const Fu=()=>{},Tl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qp=[1e3,2e3,5e3,1e4],Jp=1e4,Wp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zp{constructor(a,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lc,this.transport=null,this.heartbeatIntervalMs=Tl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fu,this.ref=0,this.reconnectTimer=null,this.vsn=_m,this.logger=Fu,this.conn=null,this.sendBuffer=[],this.serializer=new $p,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...f)=>c(...f):(...f)=>fetch(...f),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${a}/${oc.websocket}`,this.httpEndpoint=Xm(a),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zp.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const i=a.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const i=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const a=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,i,l){this.logger(a,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Wa.connecting:return br.Connecting;case Wa.open:return br.Open;case Wa.closing:return br.Closing;default:return br.Closed}}isConnected(){return this.connectionState()===br.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,i={config:{}}){const l=`realtime:${a}`,c=this.getChannels().find(f=>f.topic===l);if(c)return c;{const f=new di(`realtime:${a}`,i,this);return this.channels.push(f),f}}push(a){const{topic:i,event:l,payload:c,ref:f}=a,h=()=>{this.encode(a,p=>{var y;(y=this.conn)===null||y===void 0||y.send(p)})};this.log("push",`${i} ${l} (${f})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(qp,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Tl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let i=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${a}"`),i.unsubscribe())}_remove(a){this.channels=this.channels.filter(i=>i.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:f,ref:h}=i,p=h?`(${h})`:"",y=f.status||"";this.log("receive",`${y} ${l} ${c} ${p}`.trim(),f),this.channels.filter(v=>v._isMember(l)).forEach(v=>v._trigger(c,f,h)),this._triggerStateCallbacks("message",i)})}_clearTimer(a){var i;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===Wa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wa.open||this.conn.readyState===Wa.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var i;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Zn.error))}_appendParams(a,i){if(Object.keys(i).length===0)return a;const l=a.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${a}${l}${c}`}_workerObjectUrl(a){let i;if(a)i=a;else{const l=new Blob([Wp],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(a,i=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(a=null){let i,l=!1;if(a)i=a,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(c=>{const f={access_token:i,version:Bp};i&&c.updateJoinPayload(f),c.joinedOnce&&c._isJoined()&&c._push(Zn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${a}`,i)})}_triggerStateCallbacks(a,i){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(i)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Ym(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Tl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var i,l,c,f,h,p,y,v,S,A,R,j;switch(this.transport=(i=a?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=a?.timeout)!==null&&l!==void 0?l:lc,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:Tl.HEARTBEAT_INTERVAL,this.worker=(f=a?.worker)!==null&&f!==void 0?f:!1,this.accessToken=(h=a?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=a?.heartbeatCallback)!==null&&p!==void 0?p:Fu,this.vsn=(y=a?.vsn)!==null&&y!==void 0?y:_m,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=a?.reconnectAfterMs)!==null&&v!==void 0?v:(U=>Qp[U-1]||Jp),this.vsn){case Vm:this.encode=(S=a?.encode)!==null&&S!==void 0?S:((U,V)=>V(JSON.stringify(U))),this.decode=(A=a?.decode)!==null&&A!==void 0?A:((U,V)=>V(JSON.parse(U)));break;case Lp:this.encode=(R=a?.encode)!==null&&R!==void 0?R:this.serializer.encode.bind(this.serializer),this.decode=(j=a?.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var os=class extends Error{constructor(s,a){super(s),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Fp(s,a,i){const l=new URL(a,s);if(i)for(const[c,f]of Object.entries(i))f!==void 0&&l.searchParams.set(c,f);return l.toString()}async function Pp(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function e0(s){const a=s.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:c,body:f,headers:h}){const p=Fp(s.baseUrl,l,c),y=await Pp(s.auth),v=await a(p,{method:i,headers:{...f?{"Content-Type":"application/json"}:{},...y,...h},body:f?JSON.stringify(f):void 0}),S=await v.text(),A=(v.headers.get("content-type")||"").includes("application/json"),R=A&&S?JSON.parse(S):S;if(!v.ok){const j=A?R:void 0,U=j?.error;throw new os(U?.message??`Request failed with status ${v.status}`,{status:v.status,icebergType:U?.type,icebergCode:U?.code,details:j})}return{status:v.status,headers:v.headers,data:R}}}}function Al(s){return s.join("")}var t0=class{constructor(s,a=""){this.client=s,this.prefix=a}async listNamespaces(s){const a=s?{parent:Al(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(s,a){const i={namespace:s.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Al(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Al(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Al(s.namespace)}`}),!0}catch(a){if(a instanceof os&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(s,a){try{return await this.createNamespace(s,a)}catch(i){if(i instanceof os&&i.status===409)return;throw i}}};function ai(s){return s.join("")}var n0=class{constructor(s,a="",i){this.client=s,this.prefix=a,this.accessDelegation=i}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ai(s.namespace)}/tables`})).data.identifiers}async createTable(s,a){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ai(s.namespace)}/tables`,body:a,headers:i})).data.metadata}async updateTable(s,a){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ai(s.namespace)}/tables/${s.name}`,body:a});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(s,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ai(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(s){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ai(s.namespace)}/tables/${s.name}`,headers:a})).data.metadata}async tableExists(s){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ai(s.namespace)}/tables/${s.name}`,headers:a}),!0}catch(i){if(i instanceof os&&i.status===404)return!1;throw i}}async createTableIfNotExists(s,a){try{return await this.createTable(s,a)}catch(i){if(i instanceof os&&i.status===409)return await this.loadTable({namespace:s.namespace,name:a.name});throw i}}},a0=class{constructor(s){let a="v1";s.catalogName&&(a+=`/${s.catalogName}`);const i=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=e0({baseUrl:i,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new t0(this.client,a),this.tableOps=new n0(this.client,a,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,a){return this.namespaceOps.createNamespace(s,a)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,a){return this.tableOps.createTable(s,a)}async updateTable(s,a){return this.tableOps.updateTable(s,a)}async dropTable(s,a){await this.tableOps.dropTable(s,a)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,a){return this.namespaceOps.createNamespaceIfNotExists(s,a)}async createTableIfNotExists(s,a){return this.tableOps.createTableIfNotExists(s,a)}},Nl=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function Ut(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var r0=class extends Nl{constructor(s,a,i){super(s),this.name="StorageApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cc=class extends Nl{constructor(s,a){super(s),this.name="StorageUnknownError",this.originalError=a}};const bc=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),i0=()=>Response,fc=s=>{if(Array.isArray(s))return s.map(i=>fc(i));if(typeof s=="function"||s!==Object(s))return s;const a={};return Object.entries(s).forEach(([i,l])=>{const c=i.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));a[c]=fc(l)}),a},s0=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},l0=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function us(s){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},us(s)}function o0(s,a){if(us(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var l=i.call(s,a);if(us(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function u0(s){var a=o0(s,"string");return us(a)=="symbol"?a:a+""}function c0(s,a,i){return(a=u0(a))in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i,s}function Em(s,a){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),i.push.apply(i,l)}return i}function Re(s){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?Em(Object(i),!0).forEach(function(l){c0(s,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Em(Object(i)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(i,l))})}return s}const Pu=s=>{var a;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(a=s.error)===null||a===void 0?void 0:a.message)||JSON.stringify(s)},f0=async(s,a,i)=>{s instanceof await i0()&&!i?.noResolveJson?s.json().then(l=>{const c=s.status||500,f=l?.statusCode||c+"";a(new r0(Pu(l),c,f))}).catch(l=>{a(new cc(Pu(l),l))}):a(new cc(Pu(s),s))},d0=(s,a,i,l)=>{const c={method:s,headers:a?.headers||{}};return s==="GET"||!l?c:(s0(l)?(c.headers=Re({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(l)):c.body=l,a?.duplex&&(c.duplex=a.duplex),Re(Re({},c),i))};async function ms(s,a,i,l,c,f){return new Promise((h,p)=>{s(i,d0(a,l,c,f)).then(y=>{if(!y.ok)throw y;return l?.noResolveJson?y:y.json()}).then(y=>h(y)).catch(y=>f0(y,p,l))})}async function cs(s,a,i,l){return ms(s,"GET",a,i,l)}async function Wn(s,a,i,l,c){return ms(s,"POST",a,l,c,i)}async function dc(s,a,i,l,c){return ms(s,"PUT",a,l,c,i)}async function h0(s,a,i,l){return ms(s,"HEAD",a,Re(Re({},i),{},{noResolveJson:!0}),l)}async function _c(s,a,i,l,c){return ms(s,"DELETE",a,l,c,i)}var m0=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a}then(s,a){return this.execute().then(s,a)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Ut(a))return{data:null,error:a};throw a}}};let Im;Im=Symbol.toStringTag;var y0=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a,this[Im]="BlobDownloadBuilder",this.promise=null}asStream(){return new m0(this.downloadFn,this.shouldThrowOnError)}then(s,a){return this.getPromise().then(s,a)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Ut(a))return{data:null,error:a};throw a}}};const g0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var p0=class{constructor(s,a={},i,l){this.shouldThrowOnError=!1,this.url=s,this.headers=a,this.bucketId=i,this.fetch=bc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,a,i,l){var c=this;try{let f;const h=Re(Re({},Tm),l);let p=Re(Re({},c.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const y=h.metadata;typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),y&&f.append("metadata",c.encodeMetadata(y)),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.has("cacheControl")||f.append("cacheControl",h.cacheControl),y&&!f.has("metadata")&&f.append("metadata",c.encodeMetadata(y))):(f=i,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,y&&(p["x-metadata"]=c.toBase64(c.encodeMetadata(y))),(typeof ReadableStream<"u"&&f instanceof ReadableStream||f&&typeof f=="object"&&"pipe"in f&&typeof f.pipe=="function")&&!h.duplex&&(h.duplex="half")),l?.headers&&(p=Re(Re({},p),l.headers));const v=c._removeEmptyFolders(a),S=c._getFinalPath(v),A=await(s=="PUT"?dc:Wn)(c.fetch,`${c.url}/object/${S}`,f,Re({headers:p},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:v,id:A.Id,fullPath:A.Key},error:null}}catch(f){if(c.shouldThrowOnError)throw f;if(Ut(f))return{data:null,error:f};throw f}}async upload(s,a,i){return this.uploadOrUpdate("POST",s,a,i)}async uploadToSignedUrl(s,a,i,l){var c=this;const f=c._removeEmptyFolders(s),h=c._getFinalPath(f),p=new URL(c.url+`/object/upload/sign/${h}`);p.searchParams.set("token",a);try{let y;const v=Re({upsert:Tm.upsert},l),S=Re(Re({},c.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&i instanceof Blob?(y=new FormData,y.append("cacheControl",v.cacheControl),y.append("",i)):typeof FormData<"u"&&i instanceof FormData?(y=i,y.append("cacheControl",v.cacheControl)):(y=i,S["cache-control"]=`max-age=${v.cacheControl}`,S["content-type"]=v.contentType),{data:{path:f,fullPath:(await dc(c.fetch,p.toString(),y,{headers:S})).Key},error:null}}catch(y){if(c.shouldThrowOnError)throw y;if(Ut(y))return{data:null,error:y};throw y}}async createSignedUploadUrl(s,a){var i=this;try{let l=i._getFinalPath(s);const c=Re({},i.headers);a?.upsert&&(c["x-upsert"]="true");const f=await Wn(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:c}),h=new URL(i.url+f.url),p=h.searchParams.get("token");if(!p)throw new Nl("No token returned by API");return{data:{signedUrl:h.toString(),path:s,token:p},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}}async update(s,a,i){return this.uploadOrUpdate("PUT",s,a,i)}async move(s,a,i){var l=this;try{return{data:await Wn(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:s,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:l.headers}),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ut(c))return{data:null,error:c};throw c}}async copy(s,a,i){var l=this;try{return{data:{path:(await Wn(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:s,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ut(c))return{data:null,error:c};throw c}}async createSignedUrl(s,a,i){var l=this;try{let c=l._getFinalPath(s),f=await Wn(l.fetch,`${l.url}/object/sign/${c}`,Re({expiresIn:a},i?.transform?{transform:i.transform}:{}),{headers:l.headers});const h=i?.download?`&download=${i.download===!0?"":i.download}`:"";return f={signedUrl:encodeURI(`${l.url}${f.signedURL}${h}`)},{data:f,error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ut(c))return{data:null,error:c};throw c}}async createSignedUrls(s,a,i){var l=this;try{const c=await Wn(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:a,paths:s},{headers:l.headers}),f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(h=>Re(Re({},h),{},{signedUrl:h.signedURL?encodeURI(`${l.url}${h.signedURL}${f}`):null})),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ut(c))return{data:null,error:c};throw c}}download(s,a){const i=typeof a?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(a?.transform||{}),c=l?`?${l}`:"",f=this._getFinalPath(s),h=()=>cs(this.fetch,`${this.url}/${i}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new y0(h,this.shouldThrowOnError)}async info(s){var a=this;const i=a._getFinalPath(s);try{return{data:fc(await cs(a.fetch,`${a.url}/object/info/${i}`,{headers:a.headers})),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}}async exists(s){var a=this;const i=a._getFinalPath(s);try{return await h0(a.fetch,`${a.url}/object/${i}`,{headers:a.headers}),{data:!0,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ut(l)&&l instanceof cc){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}}getPublicUrl(s,a){const i=this._getFinalPath(s),l=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&l.push(c);const f=typeof a?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(a?.transform||{});h!==""&&l.push(h);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${p}`)}}}async remove(s){var a=this;try{return{data:await _c(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:s},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}}async list(s,a,i){var l=this;try{const c=Re(Re(Re({},g0),a),{},{prefix:s||""});return{data:await Wn(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},i),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ut(c))return{data:null,error:c};throw c}}async listV2(s,a){var i=this;try{const l=Re({},s);return{data:await Wn(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},a),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}};const Qm="2.89.0",Jm={"X-Client-Info":`storage-js/${Qm}`};var v0=class{constructor(s,a={},i,l){this.shouldThrowOnError=!1;const c=new URL(s);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Re(Re({},Jm),a),this.fetch=bc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var a=this;try{const i=a.listBucketOptionsToQueryString(s);return{data:await cs(a.fetch,`${a.url}/bucket${i}`,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}}async getBucket(s){var a=this;try{return{data:await cs(a.fetch,`${a.url}/bucket/${s}`,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}}async createBucket(s,a={public:!1}){var i=this;try{return{data:await Wn(i.fetch,`${i.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}}async updateBucket(s,a){var i=this;try{return{data:await dc(i.fetch,`${i.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}}async emptyBucket(s){var a=this;try{return{data:await Wn(a.fetch,`${a.url}/bucket/${s}/empty`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}}async deleteBucket(s){var a=this;try{return{data:await _c(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(s){const a={};return s&&("limit"in s&&(a.limit=String(s.limit)),"offset"in s&&(a.offset=String(s.offset)),s.search&&(a.search=s.search),s.sortColumn&&(a.sortColumn=s.sortColumn),s.sortOrder&&(a.sortOrder=s.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},b0=class{constructor(s,a={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Re(Re({},Jm),a),this.fetch=bc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var a=this;try{return{data:await Wn(a.fetch,`${a.url}/bucket`,{name:s},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}}async listBuckets(s){var a=this;try{const i=new URLSearchParams;s?.limit!==void 0&&i.set("limit",s.limit.toString()),s?.offset!==void 0&&i.set("offset",s.offset.toString()),s?.sortColumn&&i.set("sortColumn",s.sortColumn),s?.sortOrder&&i.set("sortOrder",s.sortOrder),s?.search&&i.set("search",s.search);const l=i.toString(),c=l?`${a.url}/bucket?${l}`:`${a.url}/bucket`;return{data:await cs(a.fetch,c,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}}async deleteBucket(s){var a=this;try{return{data:await _c(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}}from(s){var a=this;if(!l0(s))throw new Nl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new a0({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(c,f){const h=c[f];return typeof h!="function"?h:async(...p)=>{try{return{data:await h.apply(c,p),error:null}}catch(y){if(l)throw y;return{data:null,error:y}}}}})}};const wc={"X-Client-Info":`storage-js/${Qm}`,"Content-Type":"application/json"};var Wm=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function kn(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var ec=class extends Wm{constructor(s,a,i){super(s),this.name="StorageVectorsApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_0=class extends Wm{constructor(s,a){super(s),this.name="StorageVectorsUnknownError",this.originalError=a}};const Sc=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),w0=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Am=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),S0=async(s,a,i)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!i?.noResolveJson){const l=s.status||500,c=s;if(typeof c.json=="function")c.json().then(f=>{const h=f?.statusCode||f?.code||l+"";a(new ec(Am(f),l,h))}).catch(()=>{const f=l+"";a(new ec(c.statusText||`HTTP ${l} error`,l,f))});else{const f=l+"";a(new ec(c.statusText||`HTTP ${l} error`,l,f))}}else a(new _0(Am(s),s))},x0=(s,a,i,l)=>{const c={method:s,headers:a?.headers||{}};return l?(w0(l)?(c.headers=Re({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(l)):c.body=l,Re(Re({},c),i)):c};async function E0(s,a,i,l,c,f){return new Promise((h,p)=>{s(i,x0(a,l,c,f)).then(y=>{if(!y.ok)throw y;if(l?.noResolveJson)return y;const v=y.headers.get("content-type");return!v||!v.includes("application/json")?{}:y.json()}).then(y=>h(y)).catch(y=>S0(y,p,l))})}async function Dn(s,a,i,l,c){return E0(s,"POST",a,l,c,i)}var T0=class{constructor(s,a={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Re(Re({},wc),a),this.fetch=Sc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var a=this;try{return{data:await Dn(a.fetch,`${a.url}/CreateIndex`,s,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}}async getIndex(s,a){var i=this;try{return{data:await Dn(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:s,indexName:a},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(kn(l))return{data:null,error:l};throw l}}async listIndexes(s){var a=this;try{return{data:await Dn(a.fetch,`${a.url}/ListIndexes`,s,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}}async deleteIndex(s,a){var i=this;try{return{data:await Dn(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:s,indexName:a},{headers:i.headers})||{},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(kn(l))return{data:null,error:l};throw l}}},A0=class{constructor(s,a={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Re(Re({},wc),a),this.fetch=Sc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var a=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Dn(a.fetch,`${a.url}/PutVectors`,s,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}}async getVectors(s){var a=this;try{return{data:await Dn(a.fetch,`${a.url}/GetVectors`,s,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}}async listVectors(s){var a=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await Dn(a.fetch,`${a.url}/ListVectors`,s,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}}async queryVectors(s){var a=this;try{return{data:await Dn(a.fetch,`${a.url}/QueryVectors`,s,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}}async deleteVectors(s){var a=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Dn(a.fetch,`${a.url}/DeleteVectors`,s,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}}},O0=class{constructor(s,a={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Re(Re({},wc),a),this.fetch=Sc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var a=this;try{return{data:await Dn(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}}async getBucket(s){var a=this;try{return{data:await Dn(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:s},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}}async listBuckets(s={}){var a=this;try{return{data:await Dn(a.fetch,`${a.url}/ListVectorBuckets`,s,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}}async deleteBucket(s){var a=this;try{return{data:await Dn(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}}},j0=class extends O0{constructor(s,a={}){super(s,a.headers||{},a.fetch)}from(s){return new C0(this.url,this.headers,s,this.fetch)}async createBucket(s){var a=()=>super.createBucket,i=this;return a().call(i,s)}async getBucket(s){var a=()=>super.getBucket,i=this;return a().call(i,s)}async listBuckets(s={}){var a=()=>super.listBuckets,i=this;return a().call(i,s)}async deleteBucket(s){var a=()=>super.deleteBucket,i=this;return a().call(i,s)}},C0=class extends T0{constructor(s,a,i,l){super(s,a,l),this.vectorBucketName=i}async createIndex(s){var a=()=>super.createIndex,i=this;return a().call(i,Re(Re({},s),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(s={}){var a=()=>super.listIndexes,i=this;return a().call(i,Re(Re({},s),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(s){var a=()=>super.getIndex,i=this;return a().call(i,i.vectorBucketName,s)}async deleteIndex(s){var a=()=>super.deleteIndex,i=this;return a().call(i,i.vectorBucketName,s)}index(s){return new R0(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},R0=class extends A0{constructor(s,a,i,l,c){super(s,a,c),this.vectorBucketName=i,this.indexName=l}async putVectors(s){var a=()=>super.putVectors,i=this;return a().call(i,Re(Re({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(s){var a=()=>super.getVectors,i=this;return a().call(i,Re(Re({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(s={}){var a=()=>super.listVectors,i=this;return a().call(i,Re(Re({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(s){var a=()=>super.queryVectors,i=this;return a().call(i,Re(Re({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(s){var a=()=>super.deleteVectors,i=this;return a().call(i,Re(Re({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},k0=class extends v0{constructor(s,a={},i,l){super(s,a,i,l)}from(s){return new p0(this.url,this.headers,s,this.fetch)}get vectors(){return new j0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new b0(this.url+"/iceberg",this.headers,this.fetch)}};const Zm="2.89.0",ci=30*1e3,hc=3,tc=hc*ci,D0="http://localhost:9999",N0="supabase.auth.token",U0={"X-Client-Info":`gotrue-js/${Zm}`},mc="X-Supabase-Api-Version",Fm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,M0=600*1e3;class fs extends Error{constructor(a,i,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function _e(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class B0 extends fs{constructor(a,i,l){super(a,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function L0(s){return _e(s)&&s.name==="AuthApiError"}class _r extends fs{constructor(a,i){super(a),this.name="AuthUnknownError",this.originalError=i}}class xa extends fs{constructor(a,i,l,c){super(a,l,c),this.name=i,this.status=l}}class Rn extends xa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function q0(s){return _e(s)&&s.name==="AuthSessionMissingError"}class ri extends xa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ol extends xa{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class jl extends xa{constructor(a,i=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function H0(s){return _e(s)&&s.name==="AuthImplicitGrantRedirectError"}class Om extends xa{constructor(a,i=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $0 extends xa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class yc extends xa{constructor(a,i){super(a,"AuthRetryableFetchError",i,void 0)}}function nc(s){return _e(s)&&s.name==="AuthRetryableFetchError"}class jm extends xa{constructor(a,i,l){super(a,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class gc extends xa{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cm=` 	
\r=`.split(""),G0=(()=>{const s=new Array(128);for(let a=0;a<s.length;a+=1)s[a]=-1;for(let a=0;a<Cm.length;a+=1)s[Cm[a].charCodeAt(0)]=-2;for(let a=0;a<Cl.length;a+=1)s[Cl[a].charCodeAt(0)]=a;return s})();function Rm(s,a,i){if(s!==null)for(a.queue=a.queue<<8|s,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;i(Cl[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;i(Cl[l]),a.queuedBits-=6}}function Pm(s,a,i){const l=G0[s];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)i(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function km(s){const a=[],i=h=>{a.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},f=h=>{K0(h,l,i)};for(let h=0;h<s.length;h+=1)Pm(s.charCodeAt(h),c,f);return a.join("")}function V0(s,a){if(s<=127){a(s);return}else if(s<=2047){a(192|s>>6),a(128|s&63);return}else if(s<=65535){a(224|s>>12),a(128|s>>6&63),a(128|s&63);return}else if(s<=1114111){a(240|s>>18),a(128|s>>12&63),a(128|s>>6&63),a(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Y0(s,a){for(let i=0;i<s.length;i+=1){let l=s.charCodeAt(i);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(s.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}V0(l,a)}}function K0(s,a,i){if(a.utf8seq===0){if(s<=127){i(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=s&31;else if(a.utf8seq===3)a.codepoint=s&15;else if(a.utf8seq===4)a.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|s&63,a.utf8seq-=1,a.utf8seq===0&&i(a.codepoint)}}function hi(s){const a=[],i={queue:0,queuedBits:0},l=c=>{a.push(c)};for(let c=0;c<s.length;c+=1)Pm(s.charCodeAt(c),i,l);return new Uint8Array(a)}function X0(s){const a=[];return Y0(s,i=>a.push(i)),new Uint8Array(a)}function wr(s){const a=[],i={queue:0,queuedBits:0},l=c=>{a.push(c)};return s.forEach(c=>Rm(c,i,l)),Rm(null,i,l),a.join("")}function I0(s){return Math.round(Date.now()/1e3)+s}function Q0(){return Symbol("auth-callback")}const on=()=>typeof window<"u"&&typeof document<"u",gr={tested:!1,writable:!1},ey=()=>{if(!on())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gr.tested)return gr.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),gr.tested=!0,gr.writable=!0}catch{gr.tested=!0,gr.writable=!1}return gr.writable};function J0(s){const a={},i=new URL(s);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,f)=>{a[f]=c})}catch{}return i.searchParams.forEach((l,c)=>{a[c]=l}),a}const ty=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),W0=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",fi=async(s,a,i)=>{await s.setItem(a,JSON.stringify(i))},pr=async(s,a)=>{const i=await s.getItem(a);if(!i)return null;try{return JSON.parse(i)}catch{return i}},ln=async(s,a)=>{await s.removeItem(a)};class Ul{constructor(){this.promise=new Ul.promiseConstructor((a,i)=>{this.resolve=a,this.reject=i})}}Ul.promiseConstructor=Promise;function ac(s){const a=s.split(".");if(a.length!==3)throw new gc("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!z0.test(a[l]))throw new gc("JWT not in base64url format");return{header:JSON.parse(km(a[0])),payload:JSON.parse(km(a[1])),signature:hi(a[2]),raw:{header:a[0],payload:a[1]}}}async function Z0(s){return await new Promise(a=>{setTimeout(()=>a(null),s)})}function F0(s,a){return new Promise((l,c)=>{(async()=>{for(let f=0;f<1/0;f++)try{const h=await s(f);if(!a(f,null,h)){l(h);return}}catch(h){if(!a(f,h)){c(h);return}}})()})}function P0(s){return("0"+s.toString(16)).substr(-2)}function ev(){const a=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let c="";for(let f=0;f<56;f++)c+=i.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(a),Array.from(a,P0).join("")}async function tv(s){const i=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(l);return Array.from(c).map(f=>String.fromCharCode(f)).join("")}async function nv(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const i=await tv(s);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ii(s,a,i=!1){const l=ev();let c=l;i&&(c+="/PASSWORD_RECOVERY"),await fi(s,`${a}-code-verifier`,c);const f=await nv(l);return[f,l===f?"plain":"s256"]}const av=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rv(s){const a=s.headers.get(mc);if(!a||!a.match(av))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function iv(s){if(!s)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(s<=a)throw new Error("JWT has expired")}function sv(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function si(s){if(!lv.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rc(){const s={};return new Proxy(s,{get:(a,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ov(s,a){return new Proxy(s,{get:(i,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const f=l.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,c)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(i,l,c)}})}function Dm(s){return JSON.parse(JSON.stringify(s))}const vr=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),uv=[502,503,504];async function Nm(s){var a;if(!W0(s))throw new yc(vr(s),0);if(uv.includes(s.status))throw new yc(vr(s),s.status);let i;try{i=await s.json()}catch(f){throw new _r(vr(f),f)}let l;const c=rv(s);if(c&&c.getTime()>=Fm["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new jm(vr(i),s.status,((a=i.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new Rn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((f,h)=>f&&typeof h=="string",!0))throw new jm(vr(i),s.status,i.weak_password.reasons);throw new B0(vr(i),s.status||500,l)}const cv=(s,a,i,l)=>{const c={method:s,headers:a?.headers||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),i))};async function Ce(s,a,i,l){var c;const f=Object.assign({},l?.headers);f[mc]||(f[mc]=Fm["2024-01-01"].name),l?.jwt&&(f.Authorization=`Bearer ${l.jwt}`);const h=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",y=await fv(s,a,i+p,{headers:f,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(y):{data:Object.assign({},y),error:null}}async function fv(s,a,i,l,c,f){const h=cv(a,l,c,f);let p;try{p=await s(i,Object.assign({},h))}catch(y){throw console.error(y),new yc(vr(y),0)}if(p.ok||await Nm(p),l?.noResolveJson)return p;try{return await p.json()}catch(y){await Nm(y)}}function Jn(s){var a;let i=null;mv(s)&&(i=Object.assign({},s),s.expires_at||(i.expires_at=I0(s.expires_in)));const l=(a=s.user)!==null&&a!==void 0?a:s;return{data:{session:i,user:l},error:null}}function Um(s){const a=Jn(s);return!a.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(a.data.weak_password=s.weak_password),a}function Za(s){var a;return{data:{user:(a=s.user)!==null&&a!==void 0?a:s},error:null}}function dv(s){return{data:s,error:null}}function hv(s){const{action_link:a,email_otp:i,hashed_token:l,redirect_to:c,verification_type:f}=s,h=Dl(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:a,email_otp:i,hashed_token:l,redirect_to:c,verification_type:f},y=Object.assign({},h);return{data:{properties:p,user:y},error:null}}function zm(s){return s}function mv(s){return s.access_token&&s.refresh_token&&s.expires_in}const ic=["global","local","others"];class yv{constructor({url:a="",headers:i={},fetch:l}){this.url=a,this.headers=i,this.fetch=ty(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,i=ic[0]){if(ic.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ic.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(_e(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,i={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Za})}catch(l){if(_e(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:i}=a,l=Dl(a,["options"]),c=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:hv,redirectTo:i?.redirectTo})}catch(i){if(_e(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(a){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Za})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async listUsers(a){var i,l,c,f,h,p,y;try{const v={nextPage:null,lastPage:0,total:0},S=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(f=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:zm});if(S.error)throw S.error;const A=await S.json(),R=(h=S.headers.get("x-total-count"))!==null&&h!==void 0?h:0,j=(y=(p=S.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&y!==void 0?y:[];return j.length>0&&(j.forEach(U=>{const V=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),W=JSON.parse(U.split(";")[1].split("=")[1]);v[`${W}Page`]=V}),v.total=parseInt(R)),{data:Object.assign(Object.assign({},A),v),error:null}}catch(v){if(_e(v))return{data:{users:[]},error:v};throw v}}async getUserById(a){si(a);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Za})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async updateUserById(a,i){si(a);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:i,headers:this.headers,xform:Za})}catch(l){if(_e(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,i=!1){si(a);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:i},xform:Za})}catch(l){if(_e(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){si(a.userId);try{const{data:i,error:l}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:l}}catch(i){if(_e(i))return{data:null,error:i};throw i}}async _deleteFactor(a){si(a.userId),si(a.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}}async _listOAuthClients(a){var i,l,c,f,h,p,y;try{const v={nextPage:null,lastPage:0,total:0},S=await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(f=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:zm});if(S.error)throw S.error;const A=await S.json(),R=(h=S.headers.get("x-total-count"))!==null&&h!==void 0?h:0,j=(y=(p=S.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&y!==void 0?y:[];return j.length>0&&(j.forEach(U=>{const V=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),W=JSON.parse(U.split(";")[1].split("=")[1]);v[`${W}Page`]=V}),v.total=parseInt(R)),{data:Object.assign(Object.assign({},A),v),error:null}}catch(v){if(_e(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(a){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async _getOAuthClient(a){try{return await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async _updateOAuthClient(a,i){try{return await Ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(_e(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(a){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(_e(i))return{data:null,error:i};throw i}}}function Mm(s={}){return{getItem:a=>s[a]||null,setItem:(a,i)=>{s[a]=i},removeItem:a=>{delete s[a]}}}const li={debug:!!(globalThis&&ey()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ny extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class gv extends ny{}async function pv(s,a,i){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),li.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await i()}finally{li.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(a===0)throw li.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new gv(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(li.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function vv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ay(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function bv(s){return parseInt(s,16)}function _v(s){const a=new TextEncoder().encode(s);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function wv(s){var a;const{chainId:i,domain:l,expirationTime:c,issuedAt:f=new Date,nonce:h,notBefore:p,requestId:y,resources:v,scheme:S,uri:A,version:R}=s;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!A)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(R!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${R}`);if(!((a=s.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const j=ay(s.address),U=S?`${S}://${l}`:l,V=s.statement?`${s.statement}
`:"",W=`${U} wants you to sign in with your Ethereum account:
${j}

${V}`;let Q=`URI: ${A}
Version: ${R}
Chain ID: ${i}${h?`
Nonce: ${h}`:""}
Issued At: ${f.toISOString()}`;if(c&&(Q+=`
Expiration Time: ${c.toISOString()}`),p&&(Q+=`
Not Before: ${p.toISOString()}`),y&&(Q+=`
Request ID: ${y}`),v){let P=`
Resources:`;for(const Y of v){if(!Y||typeof Y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Y}`);P+=`
- ${Y}`}Q+=P}return`${W}
${Q}`}class Xt extends Error{constructor({message:a,code:i,cause:l,name:c}){var f;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(f=c??(l instanceof Error?l.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=i}}class Rl extends Xt{constructor(a,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:a}),this.name="WebAuthnUnknownError",this.originalError=i}}function Sv({error:s,options:a}){var i,l,c;const{publicKey:f}=a;if(!f)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Xt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((i=f.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Xt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(a.mediation==="conditional"&&((l=f.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Xt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=f.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Xt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Xt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Xt({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return f.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Xt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Xt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(ry(h)){if(f.rp.id!==h)return new Xt({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new Xt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Xt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function xv({error:s,options:a}){const{publicKey:i}=a;if(!i)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Xt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Xt({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const l=window.location.hostname;if(ry(l)){if(i.rpId!==l)return new Xt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Xt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class Ev{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Tv=new Ev;function Av(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:a,user:i,excludeCredentials:l}=s,c=Dl(s,["challenge","user","excludeCredentials"]),f=hi(a).buffer,h=Object.assign(Object.assign({},i),{id:hi(i.id).buffer}),p=Object.assign(Object.assign({},c),{challenge:f,user:h});if(l&&l.length>0){p.excludeCredentials=new Array(l.length);for(let y=0;y<l.length;y++){const v=l[y];p.excludeCredentials[y]=Object.assign(Object.assign({},v),{id:hi(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return p}function Ov(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:a,allowCredentials:i}=s,l=Dl(s,["challenge","allowCredentials"]),c=hi(a).buffer,f=Object.assign(Object.assign({},l),{challenge:c});if(i&&i.length>0){f.allowCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const p=i[h];f.allowCredentials[h]=Object.assign(Object.assign({},p),{id:hi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function jv(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const i=s;return{id:s.id,rawId:s.id,response:{attestationObject:wr(new Uint8Array(s.response.attestationObject)),clientDataJSON:wr(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Cv(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const i=s,l=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:wr(new Uint8Array(c.authenticatorData)),clientDataJSON:wr(new Uint8Array(c.clientDataJSON)),signature:wr(new Uint8Array(c.signature)),userHandle:c.userHandle?wr(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function ry(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Bm(){var s,a;return!!(on()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Rv(s){try{const a=await navigator.credentials.create(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Rl("Browser returned unexpected credential type",a)}:{data:null,error:new Rl("Empty credential response",a)}}catch(a){return{data:null,error:Sv({error:a,options:s})}}}async function kv(s){try{const a=await navigator.credentials.get(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Rl("Browser returned unexpected credential type",a)}:{data:null,error:new Rl("Empty credential response",a)}}catch(a){return{data:null,error:xv({error:a,options:s})}}}const Dv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Nv={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function kl(...s){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),i=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of s)if(c)for(const f in c){const h=c[f];if(h!==void 0)if(Array.isArray(h))l[f]=h;else if(i(h))l[f]=h;else if(a(h)){const p=l[f];a(p)?l[f]=kl(p,h):l[f]=kl(h)}else l[f]=h}return l}function Uv(s,a){return kl(Dv,s,a||{})}function zv(s,a){return kl(Nv,s,a||{})}class Mv{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:i,friendlyName:l,signal:c},f){try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:a,webauthn:i});if(!h)return{data:null,error:p};const y=c??Tv.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${l}`),v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=Uv(h.webauthn.credential_options.publicKey,f?.create),{data:S,error:A}=await Rv({publicKey:v,signal:y});return S?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:S}},error:null}:{data:null,error:A}}case"request":{const v=zv(h.webauthn.credential_options.publicKey,f?.request),{data:S,error:A}=await kv(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:y}));return S?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:S}},error:null}:{data:null,error:A}}}}catch(h){return _e(h)?{data:null,error:h}:{data:null,error:new _r("Unexpected error in challenge",h)}}}async _verify({challengeId:a,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!i)return{data:null,error:new fs("rpId is required for WebAuthn authentication")};try{if(!Bm())return{data:null,error:new _r("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:a,webauthn:{rpId:i,rpOrigins:l},signal:c},{request:f});if(!h)return{data:null,error:p};const{webauthn:y}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:y.type,rpId:i,rpOrigins:l,credential_response:y.credential_response}})}catch(h){return _e(h)?{data:null,error:h}:{data:null,error:new _r("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!i)return{data:null,error:new fs("rpId is required for WebAuthn registration")};try{if(!Bm())return{data:null,error:new _r("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(S=>{var A;return(A=S.data)===null||A===void 0?void 0:A.all.find(R=>R.factor_type==="webauthn"&&R.friendly_name===a&&R.status!=="unverified")}).then(S=>S?this.client.mfa.unenroll({factorId:S?.id}):void 0),{data:null,error:p};const{data:y,error:v}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:c},{create:f});return y?this._verify({factorId:h.id,challengeId:y.challengeId,webauthn:{rpId:i,rpOrigins:l,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:v}}catch(h){return _e(h)?{data:null,error:h}:{data:null,error:new _r("Unexpected error in register",h)}}}}vv();const Bv={url:D0,storageKey:N0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:U0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Lm(s,a,i){return await i()}const oi={};class ds{get jwks(){var a,i;return(i=(a=oi[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(a){oi[this.storageKey]=Object.assign(Object.assign({},oi[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,i;return(i=(a=oi[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){oi[this.storageKey]=Object.assign(Object.assign({},oi[this.storageKey]),{cachedAt:a})}constructor(a){var i,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const f=Object.assign(Object.assign({},Bv),a);if(this.storageKey=f.storageKey,this.instanceID=(i=ds.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,ds.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.instanceID>0&&on()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=f.persistSession,this.autoRefreshToken=f.autoRefreshToken,this.admin=new yv({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=ty(f.fetch),this.lock=f.lock||Lm,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,this.throwOnError=f.throwOnError,f.lock?this.lock=f.lock:this.persistSession&&on()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=pv:this.lock=Lm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Mv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:ey()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mm(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=Mm(this.memoryStorage)),on()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Zm}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let i={},l="none";if(on()&&(i=J0(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),on()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:f}=await this._getSessionFromURL(i,l);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),H0(f)){const y=(a=f.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:f}}return await this._removeSession(),{error:f}}const{session:h,redirectType:p}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return _e(i)?this._returnResult({error:i}):this._returnResult({error:new _r("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var i,l,c;try{const f=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=a?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Jn}),{data:h,error:p}=f;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const y=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(f){if(_e(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signUp(a){var i,l,c;try{let f;if("email"in a){const{email:S,password:A,options:R}=a;let j=null,U=null;this.flowType==="pkce"&&([j,U]=await ii(this.storage,this.storageKey)),f=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:R?.emailRedirectTo,body:{email:S,password:A,data:(i=R?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:R?.captchaToken},code_challenge:j,code_challenge_method:U},xform:Jn})}else if("phone"in a){const{phone:S,password:A,options:R}=a;f=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:A,data:(l=R?.data)!==null&&l!==void 0?l:{},channel:(c=R?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:R?.captchaToken}},xform:Jn})}else throw new Ol("You must provide either an email or phone number and a password");const{data:h,error:p}=f;if(p||!h)return await ln(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const y=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(f){if(await ln(this.storage,`${this.storageKey}-code-verifier`),_e(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithPassword(a){try{let i;if("email"in a){const{email:f,password:h,options:p}=a;i=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Um})}else if("phone"in a){const{phone:f,password:h,options:p}=a;i=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Um})}else throw new Ol("You must provide either an email or phone number and a password");const{data:l,error:c}=i;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const f=new ri;return this._returnResult({data:{user:null,session:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(i){if(_e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(a){var i,l,c,f;return await this._handleProviderSignIn(a.provider,{redirectTo:(i=a.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(f=a.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:i}=a;switch(i){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(a){var i,l,c,f,h,p,y,v,S,A,R;let j,U;if("message"in a)j=a.message,U=a.signature;else{const{chain:V,wallet:W,statement:Q,options:P}=a;let Y;if(on())if(typeof W=="object")Y=W;else{const Xe=window;if("ethereum"in Xe&&typeof Xe.ethereum=="object"&&"request"in Xe.ethereum&&typeof Xe.ethereum.request=="function")Y=Xe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof W!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=W}const se=new URL((i=P?.url)!==null&&i!==void 0?i:window.location.href),De=await Y.request({method:"eth_requestAccounts"}).then(Xe=>Xe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!De||De.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ye=ay(De[0]);let oe=(l=P?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!oe){const Xe=await Y.request({method:"eth_chainId"});oe=bv(Xe)}const Ne={domain:se.host,address:ye,statement:Q,uri:se.href,version:"1",chainId:oe,nonce:(c=P?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(f=P?.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=P?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(y=P?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(v=P?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(S=P?.signInWithEthereum)===null||S===void 0?void 0:S.resources};j=wv(Ne),U=await Y.request({method:"personal_sign",params:[_v(j),ye]})}try{const{data:V,error:W}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:U},!((A=a.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(R=a.options)===null||R===void 0?void 0:R.captchaToken}}:null),xform:Jn});if(W)throw W;if(!V||!V.session||!V.user){const Q=new ri;return this._returnResult({data:{user:null,session:null},error:Q})}return V.session&&(await this._saveSession(V.session),await this._notifyAllSubscribers("SIGNED_IN",V.session)),this._returnResult({data:Object.assign({},V),error:W})}catch(V){if(_e(V))return this._returnResult({data:{user:null,session:null},error:V});throw V}}async signInWithSolana(a){var i,l,c,f,h,p,y,v,S,A,R,j;let U,V;if("message"in a)U=a.message,V=a.signature;else{const{chain:W,wallet:Q,statement:P,options:Y}=a;let se;if(on())if(typeof Q=="object")se=Q;else{const ye=window;if("solana"in ye&&typeof ye.solana=="object"&&("signIn"in ye.solana&&typeof ye.solana.signIn=="function"||"signMessage"in ye.solana&&typeof ye.solana.signMessage=="function"))se=ye.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Q!="object"||!Y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");se=Q}const De=new URL((i=Y?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in se&&se.signIn){const ye=await se.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Y?.signInWithSolana),{version:"1",domain:De.host,uri:De.href}),P?{statement:P}:null));let oe;if(Array.isArray(ye)&&ye[0]&&typeof ye[0]=="object")oe=ye[0];else if(ye&&typeof ye=="object"&&"signedMessage"in ye&&"signature"in ye)oe=ye;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in oe&&"signature"in oe&&(typeof oe.signedMessage=="string"||oe.signedMessage instanceof Uint8Array)&&oe.signature instanceof Uint8Array)U=typeof oe.signedMessage=="string"?oe.signedMessage:new TextDecoder().decode(oe.signedMessage),V=oe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in se)||typeof se.signMessage!="function"||!("publicKey"in se)||typeof se!="object"||!se.publicKey||!("toBase58"in se.publicKey)||typeof se.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");U=[`${De.host} wants you to sign in with your Solana account:`,se.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${De.href}`,`Issued At: ${(c=(l=Y?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((f=Y?.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${Y.signInWithSolana.notBefore}`]:[],...!((h=Y?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${Y.signInWithSolana.expirationTime}`]:[],...!((p=Y?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${Y.signInWithSolana.chainId}`]:[],...!((y=Y?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${Y.signInWithSolana.nonce}`]:[],...!((v=Y?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${Y.signInWithSolana.requestId}`]:[],...!((A=(S=Y?.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||A===void 0)&&A.length?["Resources",...Y.signInWithSolana.resources.map(oe=>`- ${oe}`)]:[]].join(`
`);const ye=await se.signMessage(new TextEncoder().encode(U),"utf8");if(!ye||!(ye instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");V=ye}}try{const{data:W,error:Q}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:U,signature:wr(V)},!((R=a.options)===null||R===void 0)&&R.captchaToken?{gotrue_meta_security:{captcha_token:(j=a.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Jn});if(Q)throw Q;if(!W||!W.session||!W.user){const P=new ri;return this._returnResult({data:{user:null,session:null},error:P})}return W.session&&(await this._saveSession(W.session),await this._notifyAllSubscribers("SIGNED_IN",W.session)),this._returnResult({data:Object.assign({},W),error:Q})}catch(W){if(_e(W))return this._returnResult({data:{user:null,session:null},error:W});throw W}}async _exchangeCodeForSession(a){const i=await pr(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new $0;const{data:f,error:h}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:Jn});if(await ln(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!f||!f.session||!f.user){const p=new ri;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign(Object.assign({},f),{redirectType:c??null}),error:h})}catch(f){if(await ln(this.storage,`${this.storageKey}-code-verifier`),_e(f))return this._returnResult({data:{user:null,session:null,redirectType:null},error:f});throw f}}async signInWithIdToken(a){try{const{options:i,provider:l,token:c,access_token:f,nonce:h}=a,p=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:f,nonce:h,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Jn}),{data:y,error:v}=p;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!y||!y.session||!y.user){const S=new ri;return this._returnResult({data:{user:null,session:null},error:S})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:v})}catch(i){if(_e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(a){var i,l,c,f,h;try{if("email"in a){const{email:p,options:y}=a;let v=null,S=null;this.flowType==="pkce"&&([v,S]=await ii(this.storage,this.storageKey));const{error:A}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(i=y?.data)!==null&&i!==void 0?i:{},create_user:(l=y?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:S},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:A})}if("phone"in a){const{phone:p,options:y}=a,{data:v,error:S}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(c=y?.data)!==null&&c!==void 0?c:{},create_user:(f=y?.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(h=y?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:S})}throw new Ol("You must provide either an email or phone number.")}catch(p){if(await ln(this.storage,`${this.storageKey}-code-verifier`),_e(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(a){var i,l;try{let c,f;"options"in a&&(c=(i=a.options)===null||i===void 0?void 0:i.redirectTo,f=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:p}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:f}}),redirectTo:c,xform:Jn});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const y=h.session,v=h.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(c){if(_e(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var i,l,c,f,h;try{let p=null,y=null;this.flowType==="pkce"&&([p,y]=await ii(this.storage,this.storageKey));const v=await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(i=a.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:y}),headers:this.headers,xform:dv});return!((f=v.data)===null||f===void 0)&&f.url&&on()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(p){if(await ln(this.storage,`${this.storageKey}-code-verifier`),_e(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)throw l;if(!i)throw new Rn;const{error:c}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(_e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const i=`${this.url}/resend`;if("email"in a){const{email:l,type:c,options:f}=a,{error:h}=await Ce(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:l,type:c,options:f}=a,{data:h,error:p}=await Ce(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:f?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new Ol("You must provide either an email or phone number and a type")}catch(i){if(_e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(a,i){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await a(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const i=await pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?a=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<tc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const h=await pr(this.userStorage,this.storageKey+"-user");h?.user?a.user=h.user:a.user=rc()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=ov(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:f}=await this._callRefreshToken(a.refresh_token);return f?this._returnResult({data:{session:null},error:f}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(a){try{return a?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Za}):await this._useSession(async i=>{var l,c,f;const{data:h,error:p}=i;if(p)throw p;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rn}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0,xform:Za})})}catch(i){if(_e(i))return q0(i)&&(await this._removeSession(),await ln(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(a,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,i))}async _updateUser(a,i={}){try{return await this._useSession(async l=>{const{data:c,error:f}=l;if(f)throw f;if(!c.session)throw new Rn;const h=c.session;let p=null,y=null;this.flowType==="pkce"&&a.email!=null&&([p,y]=await ii(this.storage,this.storageKey));const{data:v,error:S}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:p,code_challenge_method:y}),jwt:h.access_token,xform:Za});if(S)throw S;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(await ln(this.storage,`${this.storageKey}-code-verifier`),_e(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Rn;const i=Date.now()/1e3;let l=i,c=!0,f=null;const{payload:h}=ac(a.access_token);if(h.exp&&(l=h.exp,c=l<=i),c){const{data:p,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p)return{data:{user:null,session:null},error:null};f=p}else{const{data:p,error:y}=await this._getUser(a.access_token);if(y)throw y;f={access_token:a.access_token,refresh_token:a.refresh_token,user:p.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return this._returnResult({data:{user:f.user,session:f},error:null})}catch(i){if(_e(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async i=>{var l;if(!a){const{data:h,error:p}=i;if(p)throw p;a=(l=h.session)!==null&&l!==void 0?l:void 0}if(!a?.refresh_token)throw new Rn;const{data:c,error:f}=await this._callRefreshToken(a.refresh_token);return f?this._returnResult({data:{user:null,session:null},error:f}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(_e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(a,i){try{if(!on())throw new jl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new jl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Om("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Om("No code detected.");const{data:P,error:Y}=await this._exchangeCodeForSession(a.code);if(Y)throw Y;const se=new URL(window.location.href);return se.searchParams.delete("code"),window.history.replaceState(window.history.state,"",se.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:f,refresh_token:h,expires_in:p,expires_at:y,token_type:v}=a;if(!f||!p||!h||!v)throw new jl("No session defined in URL");const S=Math.round(Date.now()/1e3),A=parseInt(p);let R=S+A;y&&(R=parseInt(y));const j=R-S;j*1e3<=ci&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${A}s`);const U=R-A;S-U>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",U,R,S):S-U<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",U,R,S);const{data:V,error:W}=await this._getUser(f);if(W)throw W;const Q={provider_token:l,provider_refresh_token:c,access_token:f,expires_in:A,expires_at:R,refresh_token:h,token_type:v,user:V.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:Q,redirectType:a.type},error:null})}catch(l){if(_e(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const i=await pr(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&i)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:c,error:f}=i;if(f)return this._returnResult({error:f});const h=(l=c.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:p}=await this.admin.signOut(h,a);if(p&&!(L0(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return a!=="others"&&(await this._removeSession(),await ln(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const i=Q0(),l={id:i,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async i=>{var l,c;try{const{data:{session:f},error:h}=i;if(h)throw h;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",a,"session",f)}catch(f){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",f),console.error(f)}})}async resetPasswordForEmail(a,i={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ii(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(f){if(await ln(this.storage,`${this.storageKey}-code-verifier`),_e(f))return this._returnResult({data:null,error:f});throw f}}async getUserIdentities(){var a;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=i.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var i;try{const{data:l,error:c}=await this._useSession(async f=>{var h,p,y,v,S;const{data:A,error:R}=f;if(R)throw R;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=a.options)===null||p===void 0?void 0:p.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",j,{headers:this.headers,jwt:(S=(v=A.session)===null||v===void 0?void 0:v.access_token)!==null&&S!==void 0?S:void 0})});if(c)throw c;return on()&&!(!((i=a.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:a.provider,url:l?.url},error:null})}catch(l){if(_e(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async i=>{var l;try{const{error:c,data:{session:f}}=i;if(c)throw c;const{options:h,provider:p,token:y,access_token:v,nonce:S}=a,A=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=f?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:p,id_token:y,access_token:v,nonce:S,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Jn}),{data:R,error:j}=A;return j?this._returnResult({data:{user:null,session:null},error:j}):!R||!R.session||!R.user?this._returnResult({data:{user:null,session:null},error:new ri}):(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("USER_UPDATED",R.session)),this._returnResult({data:R,error:j}))}catch(c){if(await ln(this.storage,`${this.storageKey}-code-verifier`),_e(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async i=>{var l,c;const{data:f,error:h}=i;if(h)throw h;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(a){const i=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await F0(async c=>(c>0&&await Z0(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Jn})),(c,f)=>{const h=200*Math.pow(2,c);return f&&nc(f)&&Date.now()+h-l<ci})}catch(l){if(this._debug(i,"error",l),_e(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",i,"url",l),on()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await pr(this.storage,this.storageKey);if(c&&this.userStorage){let h=await pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await fi(this.userStorage,this.storageKey+"-user",h)),c.user=(a=h?.user)!==null&&a!==void 0?a:rc()}else if(c&&!c.user&&!c.user){const h=await pr(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await ln(this.storage,this.storageKey+"-user"),await fi(this.storage,this.storageKey,c)):c.user=rc()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const f=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<tc;if(this._debug(l,`session has${f?"":" not"} expired with margin of ${tc}s`),f){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),nc(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(c.access_token);!p&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var i,l;if(!a)throw new Rn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Ul;const{data:f,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!f.session)throw new Rn;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const p={data:f.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(f){if(this._debug(c,"error",f),_e(f)){const h={data:null,error:f};return nc(f)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(f),f}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,i,l=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:i});const f=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(a,i)}catch(y){f.push(y)}});if(await Promise.all(h),f.length>0){for(let p=0;p<f.length;p+=1)console.error(f[p]);throw f[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await ln(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},a),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await fi(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const f=Dm(c);await fi(this.storage,this.storageKey,f)}else{const c=Dm(i);await fi(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ln(this.storage,this.storageKey),await ln(this.storage,this.storageKey+"-code-verifier"),await ln(this.storage,this.storageKey+"-user"),this.userStorage&&await ln(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&on()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),ci);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-a)/ci);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${ci}ms, refresh threshold is ${hc} ticks`),c<=hc&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof ny)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!on()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const i=`#_onVisibilityChanged(${a})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,i,l){const c=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[f,h]=await ii(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(p.toString())}if(l?.queryParams){const f=new URLSearchParams(l.queryParams);c.push(f.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async i=>{var l;const{data:c,error:f}=i;return f?this._returnResult({data:null,error:f}):await Ce(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(a){try{return await this._useSession(async i=>{var l,c;const{data:f,error:h}=i;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:v}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(l=f?.session)===null||l===void 0?void 0:l.access_token});return v?this._returnResult({data:null,error:v}):(a.factorType==="totp"&&y.type==="totp"&&(!((c=y?.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:f}=i;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?jv(a.webauthn.credential_response):Cv(a.webauthn.credential_response)})}:{code:a.code}),{data:p,error:y}=await Ce(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:y}))})}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:f}=i;if(f)return this._returnResult({data:null,error:f});const h=await Ce(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Av(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Ov(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(a){const{data:i,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:i.id,code:a.code})}async _listFactors(){var a;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const f of(a=i?.factors)!==null&&a!==void 0?a:[])c.all.push(f),f.status==="verified"&&c[f.factor_type].push(f);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,i;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=ac(l.access_token);let h=null;f.aal&&(h=f.aal);let p=h;((i=(a=l.user.factors)===null||a===void 0?void 0:a.filter(S=>S.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const v=f.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;return c?this._returnResult({data:null,error:c}):l?await Ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new Rn})})}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(a,i){try{return await this._useSession(async l=>{const{data:{session:c},error:f}=l;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new Rn});const h=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&on()&&!i?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(_e(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,i){try{return await this._useSession(async l=>{const{data:{session:c},error:f}=l;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new Rn});const h=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&on()&&!i?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(_e(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;return l?this._returnResult({data:null,error:l}):i?await Ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Rn})})}catch(a){if(_e(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;return c?this._returnResult({data:null,error:c}):l?(await Ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rn})})}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(a,i={keys:[]}){let l=i.keys.find(p=>p.kid===a);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(p=>p.kid===a),l&&this.jwks_cached_at+M0>c)return l;const{data:f,error:h}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=c,l=f.keys.find(p=>p.kid===a),!l)?null:l}async getClaims(a,i={}){try{let l=a;if(!l){const{data:j,error:U}=await this.getSession();if(U||!j.session)return this._returnResult({data:null,error:U});l=j.session.access_token}const{header:c,payload:f,signature:h,raw:{header:p,payload:y}}=ac(l);i?.allowExpired||iv(f.exp);const v=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!v){const{error:j}=await this.getUser(l);if(j)throw j;return{data:{claims:f,header:c,signature:h},error:null}}const S=sv(c.alg),A=await crypto.subtle.importKey("jwk",v,S,!0,["verify"]);if(!await crypto.subtle.verify(S,A,h,X0(`${p}.${y}`)))throw new gc("Invalid JWT signature");return{data:{claims:f,header:c,signature:h},error:null}}catch(l){if(_e(l))return this._returnResult({data:null,error:l});throw l}}}ds.nextInstanceID={};const Lv=ds,qv="2.89.0";let is="";typeof Deno<"u"?is="deno":typeof document<"u"?is="web":typeof navigator<"u"&&navigator.product==="ReactNative"?is="react-native":is="node";const Hv={"X-Client-Info":`supabase-js-${is}/${qv}`},$v={headers:Hv},Gv={schema:"public"},Vv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yv={};function hs(s){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},hs(s)}function Kv(s,a){if(hs(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var l=i.call(s,a);if(hs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function Xv(s){var a=Kv(s,"string");return hs(a)=="symbol"?a:a+""}function Iv(s,a,i){return(a=Xv(a))in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i,s}function qm(s,a){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),i.push.apply(i,l)}return i}function Bt(s){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?qm(Object(i),!0).forEach(function(l){Iv(s,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):qm(Object(i)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(i,l))})}return s}const Qv=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),Jv=()=>Headers,Wv=(s,a,i)=>{const l=Qv(i),c=Jv();return async(f,h)=>{var p;const y=(p=await a())!==null&&p!==void 0?p:s;let v=new c(h?.headers);return v.has("apikey")||v.set("apikey",s),v.has("Authorization")||v.set("Authorization",`Bearer ${y}`),l(f,Bt(Bt({},h),{},{headers:v}))}};function Zv(s){return s.endsWith("/")?s:s+"/"}function Fv(s,a){var i,l;const{db:c,auth:f,realtime:h,global:p}=s,{db:y,auth:v,realtime:S,global:A}=a,R={db:Bt(Bt({},y),c),auth:Bt(Bt({},v),f),realtime:Bt(Bt({},S),h),storage:{},global:Bt(Bt(Bt({},A),p),{},{headers:Bt(Bt({},(i=A?.headers)!==null&&i!==void 0?i:{}),(l=p?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?R.accessToken=s.accessToken:delete R.accessToken,R}function Pv(s){const a=s?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Zv(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var eb=class extends Lv{constructor(s){super(s)}},tb=class{constructor(s,a,i){var l,c;this.supabaseUrl=s,this.supabaseKey=a;const f=Pv(s);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,p={db:Gv,realtime:Yv,auth:Bt(Bt({},Vv),{},{storageKey:h}),global:$v},y=Fv(i??{},p);if(this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(S,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=y.auth)!==null&&v!==void 0?v:{},this.headers,y.global.fetch)}this.fetch=Wv(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Bt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(S=>this.realtime.setAuth(S)).catch(S=>console.warn("Failed to set initial Realtime auth token:",S)),this.rest=new Up(new URL("rest/v1",f).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new k0(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Cp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,a={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,a,i)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,a,i;if(s.accessToken)return await s.accessToken();const{data:l}=await s.auth.getSession();return(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:i,storage:l,userStorage:c,storageKey:f,flowType:h,lock:p,debug:y,throwOnError:v},S,A){const R={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eb({url:this.authUrl.href,headers:Bt(Bt({},R),S),storageKey:f,autoRefreshToken:s,persistSession:a,detectSessionInUrl:i,storage:l,userStorage:c,flowType:h,lock:p,debug:y,throwOnError:v,fetch:A,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new Zp(this.realtimeUrl.href,Bt(Bt({},s),{},{params:Bt(Bt({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a?.access_token)})}_handleTokenChanged(s,a,i){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const nb=(s,a,i)=>new tb(s,a,i);function ab(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const a=s.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}ab()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rb="https://bpxypuklucesntwietez.supabase.co",ib="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJweHlwdWtsdWNlc250d2lldGV6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcyMDIzOTcsImV4cCI6MjA4Mjc3ODM5N30.mYtIqqFsXWWclh0nhRAurtUPoRBRT63bVtgWePvDKpc",Kt=nb(rb,ib,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1,storage:window.localStorage,storageKey:"ironloop-auth"}});function Hm({children:s}){return m.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:m.jsx("div",{style:{width:"100%",maxWidth:"700px"},children:s})})}function sb({size:s=18}){return m.jsx("svg",{width:s,height:s,viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:m.jsx("path",{fill:"currentColor",d:"M12 12a4.2 4.2 0 1 0-4.2-4.2A4.2 4.2 0 0 0 12 12Zm0 2c-4.1 0-7.5 2.2-7.5 4.8V21h15v-2.2c0-2.6-3.4-4.8-7.5-4.8Z"})})}function lb(){const s=()=>{let x=localStorage.getItem("deviceId");return x||(x=crypto.randomUUID(),localStorage.setItem("deviceId",x)),x},a=F.useMemo(()=>s(),[]),i="templatesUpdatedAt",l=()=>localStorage.getItem(i)!==null,c=()=>{const x=localStorage.getItem(i),k=x?Number(x):0;return Number.isFinite(k)?k:0},f=x=>{localStorage.setItem(i,String(x))},h="workoutTemplatesV2",p="ironloop:units:v1",y=()=>{try{const x=localStorage.getItem(p);if(x==="kg"||x==="lb")return x}catch{}return"lb"},[v,S]=F.useState(()=>y());F.useEffect(()=>{try{localStorage.setItem(p,v)}catch{}},[v]);const A=()=>{try{for(let x=localStorage.length-1;x>=0;x--){const k=localStorage.key(x);k&&k.startsWith("sb-")&&k.includes("auth-token")&&localStorage.removeItem(k)}}catch(x){console.error("Failed clearing Supabase auth keys:",x)}},[R,j]=F.useState(null),U=R?.user?.id||null,[V,W]=F.useState("Workout"),[Q,P]=F.useState(!1),Y="ironloop:firstVisitSeen:v1",[se,De]=F.useState(!1);F.useEffect(()=>{try{localStorage.getItem(Y)==="true"||De(!0)}catch{De(!1)}},[]);const ye=()=>{try{localStorage.setItem(Y,"true")}catch{}},[oe,Ne]=F.useState(null),[Xe,wt]=F.useState(""),[J,te]=F.useState(""),[fe,ve]=F.useState("email"),[Ee,T]=F.useState(""),[G,ce]=F.useState(!1),[be,ue]=F.useState(""),[_,B]=F.useState(!1),[ee,ne]=F.useState(""),we=44.1,Se=[{name:"Squats",weight:40,reps:5,sets:5,setsCompleted:[!1,!1,!1,!1,!1]},{name:"Bench Press",weight:40,reps:5,sets:5,setsCompleted:[!1,!1,!1,!1,!1]},{name:"Mid Row",weight:40,reps:15,sets:3,setsCompleted:[!1,!1,!1]},{name:"Lat Pulldown",weight:40,reps:15,sets:3,setsCompleted:[!1,!1,!1]}],ze=[{name:"Squats",weight:40,reps:5,sets:5,setsCompleted:[!1,!1,!1,!1,!1]},{name:"Shoulder Press",weight:40,reps:5,sets:5,setsCompleted:[!1,!1,!1,!1,!1]},{name:"Back Extension",weight:0,reps:12,sets:3,setsCompleted:[!1,!1,!1]},{name:"Lat Pulldown",weight:40,reps:15,sets:3,setsCompleted:[!1,!1,!1]}],yt=[{name:"Squats",weight:we,reps:5,sets:5,setsCompleted:[!1,!1,!1,!1,!1]},{name:"Bench Press",weight:we,reps:5,sets:5,setsCompleted:[!1,!1,!1,!1,!1]},{name:"Mid Row",weight:we,reps:15,sets:3,setsCompleted:[!1,!1,!1]},{name:"Lat Pulldown",weight:we,reps:15,sets:3,setsCompleted:[!1,!1,!1]}],je=[{name:"Squats",weight:we,reps:5,sets:5,setsCompleted:[!1,!1,!1,!1,!1]},{name:"Shoulder Press",weight:we,reps:5,sets:5,setsCompleted:[!1,!1,!1,!1,!1]},{name:"Back Extension",weight:0,reps:12,sets:3,setsCompleted:[!1,!1,!1]},{name:"Lat Pulldown",weight:we,reps:15,sets:3,setsCompleted:[!1,!1,!1]}],It=x=>(Array.isArray(x)?x:[]).map(M=>{const K=Number(M?.sets??0)||0,le=Array.isArray(M?.setsCompleted)?M.setsCompleted:[],He=K>0?Array.from({length:K},(rt,tt)=>!!le[tt]):[];return{name:M?.name??"Exercise",reps:Number(M?.reps??0)||0,sets:K||0,weight:M?.weight===""?"":Number(M?.weight??0)||0,setsCompleted:He}}),ae=x=>{const k=typeof x?.name=="string"?x.name:"";return{id:String(x?.id||crypto.randomUUID()),name:k,exercises:It(x?.exercises)}},ot=x=>{const M=(Array.isArray(x?.workouts)?x.workouts:[]).map(ae);return M.length===0?{workouts:[{id:"w_a",name:"Workout A",exercises:It(Se)},{id:"w_b",name:"Workout B",exercises:It(ze)}]}:{workouts:M}},St=x=>ot(x==="kg"?{workouts:[{id:"w_a",name:"Workout A",exercises:yt},{id:"w_b",name:"Workout B",exercises:je}]}:{workouts:[{id:"w_a",name:"Workout A",exercises:Se},{id:"w_b",name:"Workout B",exercises:ze}]}),Qt=()=>{const x=localStorage.getItem("workoutAExercises"),k=localStorage.getItem("workoutBExercises"),M=x?JSON.parse(x):Se,K=k?JSON.parse(k):ze;return ot({workouts:[{id:"w_a",name:"Workout A",exercises:M},{id:"w_b",name:"Workout B",exercises:K}]})},Kn=x=>{const k=localStorage.getItem(h);if(k)try{return ot(JSON.parse(k))}catch{}const M=localStorage.getItem("workoutAExercises"),K=localStorage.getItem("workoutBExercises");return M||K?Qt():St(x)},[ft,H]=F.useState(()=>Kn(v)),I="nextWorkoutId",ie=(x,k)=>{const M=Array.isArray(k)?k:[];if(M.length===0)return"w_a";const K=M.findIndex(le=>le.id===x);return K===-1?M[0]?.id||"w_a":M[(K+1)%M.length]?.id||M[0]?.id||"w_a"},pe=()=>{const x=ft?.workouts||[],k=localStorage.getItem(I);if(k&&x.some(K=>K.id===k))return k;try{const K=localStorage.getItem("history"),le=K?JSON.parse(K):[],rt=(Array.isArray(le)&&le.length>0?le[0]:null)?.template_id||null;if(rt&&x.some(tt=>tt.id===rt))return ie(rt,x)}catch{}const M=localStorage.getItem("lastWorkoutId");return M&&x.some(K=>K.id===M)?ie(M,x):x[0]?.id||"w_a"},[Te,ut]=F.useState(()=>pe()),[Fe,Ue]=F.useState(()=>{const x=localStorage.getItem("history");return x?JSON.parse(x):[]});F.useEffect(()=>{localStorage.setItem(h,JSON.stringify(ft))},[ft]),F.useEffect(()=>{localStorage.setItem("history",JSON.stringify(Fe))},[Fe]),F.useEffect(()=>{const x=ft?.workouts||[];if(x.length===0)return;if(!x.some(M=>M.id===Te)){const M=x[0].id;ut(M);try{localStorage.setItem(I,M)}catch{}}},[ft]);const Jt=F.useRef(!1);F.useEffect(()=>{const x=ft?.workouts||[];if(x.length===0)return;const k=localStorage.getItem(I);if(!k||!x.some(M=>M.id===k)){const M=pe();ut(M);try{localStorage.setItem(I,M)}catch{}Jt.current=!0;return}Jt.current||(ut(k),Jt.current=!0)},[ft]),F.useEffect(()=>{if(!oe)return;(ft?.workouts||[]).some(M=>M.id===oe)||Ne(null)},[ft]);const Wt=x=>Array.isArray(x)&&x.every(k=>k===!1),N=(x,k)=>{const M=Array.isArray(x)?x:[],K=Array.isArray(k)?k:[];if(M.length!==K.length)return!1;for(let le=0;le<M.length;le++){const He=M[le]||{},rt=K[le]||{};if((He.name||"")!==(rt.name||"")||Number(He.reps||0)!==Number(rt.reps||0)||Number(He.sets||0)!==Number(rt.sets||0)||Number(He.weight||0)!==Number(rt.weight||0)||!Wt(He.setsCompleted)||!Wt(rt.setsCompleted))return!1;const tt=Array.isArray(He.setsCompleted)?He.setsCompleted.length:0,Be=Array.isArray(rt.setsCompleted)?rt.setsCompleted.length:0;if(tt!==Be)return!1}return!0},X=(x,k)=>(Array.isArray(x?.workouts)?x.workouts:[]).find(K=>String(K?.id)===String(k))||null,he=(x,k)=>{const M=X(x,"w_a"),K=X(x,"w_b");if(!M||!K||(M?.name||"")!=="Workout A"||(K?.name||"")!=="Workout B")return!1;const le=Array.isArray(M?.exercises)?M.exercises:[],He=Array.isArray(K?.exercises)?K.exercises:[];return k==="kg"?N(le,yt)&&N(He,je):N(le,Se)&&N(He,ze)},re=F.useRef(v);F.useEffect(()=>{const x=re.current,k=v;if(x!==k){if(U){re.current=k;return}if((Fe||[]).length>0){re.current=k;return}if(x==="lb"&&k==="kg"&&he(ft,"lb")){const M=St("kg");H(M),ut("w_a"),localStorage.setItem("lastWorkoutId","w_a"),localStorage.setItem(I,"w_a")}if(x==="kg"&&k==="lb"&&he(ft,"kg")){const M=St("lb");H(M),ut("w_a"),localStorage.setItem("lastWorkoutId","w_a"),localStorage.setItem(I,"w_a")}re.current=k}},[v]);const Ge=F.useMemo(()=>{const x=ft?.workouts||[];return x.find(k=>k.id===Te)||x[0]||null},[ft,Te]),Z=Ge?.exercises||[],me=x=>(Array.isArray(x)?x:[]).map(M=>{if(!M||typeof M!="object")return M;const K={...M};return"repsBySet"in K&&delete K.repsBySet,K}),ke=x=>{const k=me(x);H(M=>({workouts:(M?.workouts||[]).map(He=>He.id!==Te?He:{...He,exercises:k})}))},Pe=x=>{let k=!1;return{updated:x.map(K=>K?.client_id?K:(k=!0,{...K,client_id:crypto.randomUUID()})),changed:k}},Ae=(x,k)=>{const M=new Map;for(const le of k)le?.client_id&&M.set(le.client_id,le);for(const le of x)le?.client_id&&!M.has(le.client_id)&&M.set(le.client_id,le);const K=Array.from(M.values());return K.sort((le,He)=>new Date(He.date).getTime()-new Date(le.date).getTime()),K};F.useEffect(()=>{(async()=>{const{data:M}=await Kt.auth.getSession();j(M.session||null)})();const{data:k}=Kt.auth.onAuthStateChange((M,K)=>{j(K||null)});return()=>k?.subscription?.unsubscribe?.()},[]);const nt=async x=>{const{data:k,error:M}=await Kt.from("workouts").select("id, client_id, workout_type, template_id, performed_at, exercises, notes, body_weight_lbs").eq("user_id",x).order("performed_at",{ascending:!1});return M?(console.error("Supabase select failed:",M),[]):(k||[]).map(K=>({client_id:K.client_id||String(K.id),type:K.workout_type||"",template_id:K.template_id||null,date:K.performed_at,exercises:K.exercises||[],notes:K.notes||"",body_weight_lbs:typeof K.body_weight_lbs=="number"&&Number.isFinite(K.body_weight_lbs)?K.body_weight_lbs:K.body_weight_lbs===null||K.body_weight_lbs===void 0?null:Number(K.body_weight_lbs)||null})).filter(K=>!!K.client_id)},Je=async x=>{const k=await Kt.from("workout_templates").select("templates, updated_at, workout_a, workout_b").eq("user_id",x).maybeSingle();if(!k.error)return k.data||null;const M=String(k.error?.message||"");if(!(M.toLowerCase().includes("column")&&M.toLowerCase().includes("templates")))return console.error("Templates select failed:",k.error),null;const le=await Kt.from("workout_templates").select("workout_a, workout_b, updated_at").eq("user_id",x).maybeSingle();return le.error?(console.error("Templates select failed:",le.error),null):le.data||null},xt=x=>{const k=x?.workouts||[],M=k[0]?.exercises||It(Se),K=k[1]?.exercises||It(ze);return{workout_a:M,workout_b:K}},ct=async(x,k,M)=>{const K=ot(k),le=xt(K),He={user_id:x,templates:K,workout_a:le.workout_a,workout_b:le.workout_b,updated_at:M||new Date().toISOString()},rt=await Kt.from("workout_templates").upsert(He,{onConflict:"user_id"});if(!rt.error)return;const tt=String(rt.error?.message||"");if(!(tt.toLowerCase().includes("column")&&tt.toLowerCase().includes("templates"))){console.error("Templates upsert failed:",rt.error);return}const Sn={user_id:x,workout_a:le.workout_a,workout_b:le.workout_b,updated_at:M||new Date().toISOString()},$e=await Kt.from("workout_templates").upsert(Sn,{onConflict:"user_id"});$e.error&&console.error("Templates upsert failed:",$e.error)},at=F.useRef(!1),jt=F.useRef(!1);F.useEffect(()=>{if(!U)return;(async()=>{try{const{updated:k,changed:M}=Pe(Fe),K=M?k:Fe;M&&Ue(k);try{await Kt.rpc("claim_workouts",{p_device_id:a})}catch{}const le=`supabaseUploadedHistory:${U}:${a}`;if(!(localStorage.getItem(le)==="true")){const We=(K||[]).filter(et=>et&&et.client_id).map(et=>({user_id:U,device_id:a,client_id:et.client_id,workout_type:et.type||"",template_id:et.template_id||null,performed_at:et.date,exercises:et.exercises||[],notes:et.notes||"",body_weight_lbs:typeof et.body_weight_lbs=="number"&&Number.isFinite(et.body_weight_lbs)?et.body_weight_lbs:null}));if(We.length>0){const{error:et}=await Kt.from("workouts").upsert(We,{onConflict:"client_id"});et?console.error("Supabase local history upload failed:",et):localStorage.setItem(le,"true")}else localStorage.setItem(le,"true")}const rt=await nt(U),tt=Ae(K||[],rt);Ue(tt),at.current=!1;const Be=await Je(U),Sn=l(),$e=Sn?c():0,dt=ot(ft);if(Be){const We=Be.updated_at?new Date(Be.updated_at).getTime():0;let et=null;if(Be.templates&&typeof Be.templates=="object"?et=ot(Be.templates):Be.workout_a||Be.workout_b?et=ot({workouts:[{id:"w_a",name:"Workout A",exercises:Be.workout_a||[]},{id:"w_b",name:"Workout B",exercises:Be.workout_b||[]}]}):et=ot(null),!Sn)jt.current=!0,H(et),f(We||Date.now()),at.current=!0;else if((We||0)>=($e||0))jt.current=!0,H(et),f(We||Date.now()),at.current=!0;else{const aa=new Date().toISOString();await ct(U,dt,aa),f(Date.now()),at.current=!0}}else{const We=new Date().toISOString();await ct(U,dt,We),f(Date.now()),at.current=!0}T(""),ve("email"),te("")}catch(k){console.error("Login sync failed:",k)}})()},[U]);const Ct=F.useRef(null);F.useEffect(()=>{if(U&&at.current){if(jt.current){jt.current=!1;return}return Ct.current&&clearTimeout(Ct.current),f(Date.now()),Ct.current=setTimeout(()=>{const x=ot(ft);ct(U,x,new Date().toISOString())},700),()=>{Ct.current&&clearTimeout(Ct.current)}}},[U,ft]);const Zt=async()=>{T("");const x=Xe.trim();if(!x){T("Enter an email address.");return}const{error:k}=await Kt.auth.signInWithOtp({email:x,options:{shouldCreateUser:!0}});if(k){T(k.message);return}ve("code"),T("Enter the code sent to your email.")},Dt=async()=>{T("");const x=Xe.trim(),k=J.trim();if(!x){T("Enter an email address.");return}if(!k){T("Enter the code from your email.");return}const{error:M}=await Kt.auth.verifyOtp({email:x,token:k,type:"email"});if(M){T(M.message);return}},gt=async()=>{try{await Kt.auth.signOut({scope:"local"})}catch(x){console.error("signOut error:",x)}A(),j(null),T(""),ve("email"),te(""),at.current=!1,jt.current=!1,window.location.reload()},pt=x=>{if(!x||typeof x!="string")return"";const k=x.indexOf("@");if(k===-1)return"*****";const M=x.slice(0,k),K=x.slice(k+1),le=K.lastIndexOf("."),He=le===-1?K:K.slice(0,le),rt=le===-1?"":K.slice(le),tt=($e,dt,We,et="*")=>{if(!$e)return"";if($e.length<=dt+We)return et.repeat(Math.max(1,$e.length));const aa=$e.slice(0,dt),Fa="",Sr=Math.max(1,$e.length-dt-We);return aa+et.repeat(Sr)+Fa},Be=tt(M,2,0),Sn=tt(He,2,0);return`${Be}@${Sn}${rt}`},cn={width:"100%",padding:"0.75rem 1rem",backgroundColor:"#8b5cf6",color:"#fff",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"bold"},Ve={width:"100%",padding:"0.6rem",borderRadius:"8px",boxSizing:"border-box"},Rt=()=>{const x=ft?.workouts||[];if(x.length===0)return null;const k=x.findIndex(le=>le.id===Te),K=x[(k+1)%x.length]?.id||null;if(K){ut(K);try{localStorage.setItem(I,K)}catch{}}return K},fn=async(x,k=null)=>{const M=Ge?.id||Te,K=Ge?.name||"",le=typeof k=="number"&&Number.isFinite(k)?k:null,He={client_id:crypto.randomUUID(),type:K,template_id:M,date:new Date,exercises:(x||[]).map(tt=>({...tt})),notes:"",body_weight_lbs:le};if(Ue(tt=>[He,...tt||[]]),localStorage.setItem("lastWorkoutId",M),U)try{const{error:tt}=await Kt.from("workouts").insert({user_id:U,device_id:a,client_id:He.client_id,workout_type:K||"",template_id:M,performed_at:He.date,exercises:He.exercises,notes:"",body_weight_lbs:le});tt&&console.error("Supabase insert failed:",tt)}catch(tt){console.error("Supabase insert failed:",tt)}const rt=(x||[]).map(tt=>{const Be={...tt||{}};"repsBySet"in Be&&delete Be.repsBySet;const Sn=Be.sets||(Be.setsCompleted?Be.setsCompleted.length:0);return{...Be,setsCompleted:Array(Sn).fill(!1)}});ke(rt),Rt()},Nn=async(x,k)=>{if(Ue(M=>{const K=[...M||[]];return K[x]?(K[x]={...K[x],notes:k},K):M}),!!U)try{const K=Fe[x]?.client_id;if(!K)return;const{error:le}=await Kt.from("workouts").update({notes:k}).eq("user_id",U).eq("client_id",K);le&&console.error("Supabase notes update failed:",le)}catch(M){console.error("Supabase notes update failed:",M)}},Fn=async x=>{if(!window.confirm("Are you sure you want to delete this workout?"))return;const M=Fe[x];if(Ue(K=>(K||[]).filter((le,He)=>He!==x)),!!U)try{const K=M?.client_id;if(!K)return;const{error:le}=await Kt.from("workouts").delete().eq("user_id",U).eq("client_id",K);le&&console.error("Supabase delete failed:",le)}catch(K){console.error("Supabase delete failed:",K)}},Un=async()=>{try{const{data:x}=await Kt.auth.getSession();j(x.session||null),ue("")}catch{}},wn=async x=>{const k=String(x||"").trim();if(ue(""),!U){ue("Sign in first.");return}if(!k){ue("Enter a new email address.");return}if(k.includes(" ")){ue("Email addresses cannot contain spaces.");return}const M=String(R?.user?.email||"").trim();if(M&&M.toLowerCase()===k.toLowerCase()){ue("That is already your current email.");return}ce(!0);try{const{error:K}=await Kt.auth.updateUser({email:k});ue(K?K.message||"Email update failed.":"Enter the code sent to your new email.")}catch(K){console.error("Email update failed:",K),ue("Email update failed.")}finally{ce(!1)}},zn=async(x,k)=>{const M=String(x||"").trim(),K=String(k||"").trim();if(ue(""),!U){ue("Sign in first.");return}if(!M){ue("Enter a new email address.");return}if(!K){ue("Enter the code from your email.");return}ce(!0);try{const{error:le}=await Kt.auth.verifyOtp({email:M,token:K,type:"email_change"});le?ue(le.message||"Code verification failed."):(ue("Email updated."),await Un())}catch(le){console.error("Email change code verify failed:",le),ue("Code verification failed.")}finally{ce(!1)}},Ea=()=>{const x=Array.isArray(Fe)?Fe:[];if(x.length===0){window.alert("No workouts to export yet.");return}const k=$e=>{if($e==null)return"";const dt=String($e),We=dt.includes(",")||dt.includes('"')||dt.includes(`
`)||dt.includes("\r"),et=dt.replace(/"/g,'""');return We?`"${et}"`:et},M=$e=>{try{return new Date($e).toISOString()}catch{return""}},K=$e=>(Array.isArray($e)?$e:[]).map(We=>We?"1":"0").join("|"),le=$e=>{const dt=Array.isArray($e)?$e:[];let We=0;for(const et of dt)et&&(We+=1);return We},He=["workout_client_id","performed_at_iso","workout_name","template_id","exercise_index","exercise_name","reps","sets_planned","weight_lb","sets_completed_count","sets_planned_count","sets_completed_pattern","notes","weight_storage_unit","body_weight_lb"],rt=[];for(const $e of x){const dt=$e?.client_id||"",We=M($e?.date),et=$e?.type||"",aa=$e?.template_id||"",Fa=$e?.notes||"",Sr=typeof $e?.body_weight_lbs=="number"&&Number.isFinite($e.body_weight_lbs)?$e.body_weight_lbs:"",Aa=Array.isArray($e?.exercises)?$e.exercises:[];for(let ra=0;ra<Aa.length;ra++){const Ft=Aa[ra]||{},mn=Number(Ft?.reps??0)||0,yi=Number(Ft?.sets??0)||0,Ml=Ft?.weight===""||Ft?.weight===null||Ft?.weight===void 0?"":Number(Ft?.weight??0)||0,Pa=Array.isArray(Ft?.setsCompleted)?Ft.setsCompleted:[],ys=le(Pa),xr=Pa.length||yi,Bl=K(Pa);rt.push([k(dt),k(We),k(et),k(aa),k(ra),k(Ft?.name??""),k(mn),k(yi),k(Ml),k(ys),k(xr),k(Bl),k(Fa),k("lb"),k(Sr)].join(","))}Aa.length===0&&rt.push([k(dt),k(We),k(et),k(aa),k(""),k(""),k(""),k(""),k(""),k(""),k(""),k(""),k(Fa),k("lb"),k(Sr)].join(","))}const tt=[He.join(","),...rt].join(`\r
`),Sn=`ironloop-history-exercises-${new Date().toISOString().slice(0,10)}.csv`;try{const $e=new Blob([tt],{type:"text/csv;charset=utf-8"}),dt=URL.createObjectURL($e),We=document.createElement("a");We.href=dt,We.download=Sn,We.style.display="none",document.body.appendChild(We),We.click(),setTimeout(()=>{URL.revokeObjectURL(dt),document.body.removeChild(We)},250)}catch($e){console.error("CSV export failed:",$e),window.alert("Export failed.")}},hn=()=>{try{localStorage.setItem("history",JSON.stringify([]))}catch{}try{localStorage.removeItem(h),localStorage.removeItem(i),localStorage.removeItem("workoutAExercises"),localStorage.removeItem("workoutBExercises"),localStorage.removeItem("lastWorkoutId"),localStorage.removeItem(I)}catch{}},Nt=async()=>{if(!_){ne(""),B(!0);try{if(U){const{error:x}=await Kt.from("workouts").delete().eq("user_id",U);x&&console.error("Supabase history delete failed:",x);try{const k=`supabaseUploadedHistory:${U}:${a}`;localStorage.removeItem(k)}catch{}}Ue([]);try{localStorage.setItem("history",JSON.stringify([]))}catch{}ne("History deleted.")}catch(x){console.error("Delete all history failed:",x),ne("Delete failed.")}finally{B(!1)}}},Ht=async()=>{if(!_){if(!U){ne("Sign in first.");return}ne(""),B(!0);try{const{data:x,error:k}=await Kt.functions.invoke("delete-account",{body:{}});if(k){console.error("Delete account function failed:",k),ne("Account deletion failed."),B(!1);return}if(!x||x.ok!==!0){console.error("Delete account function unexpected response:",x),ne("Account deletion failed."),B(!1);return}hn(),A();try{window.alert("Your account and all associated data have been permanently deleted.")}catch{}window.location.reload()}catch(x){console.error("Delete account failed:",x),ne("Account deletion failed."),B(!1)}}},Ta=()=>m.jsx(Hm,{children:m.jsx("div",{style:{width:"100%",padding:"1.25rem 1rem 2rem",boxSizing:"border-box",display:"flex",justifyContent:"center"},children:m.jsx("button",{onClick:()=>P(!0),style:{background:"transparent",border:"none",color:"#aaa",cursor:"pointer",textDecoration:"underline",padding:"0.25rem 0.5rem"},children:"FAQ"})})}),mi=()=>{const x={margin:"0 0 1.5rem 0"},k={margin:"0 0 0.5rem 0"},M={margin:"0.5rem 0"};return m.jsx("div",{style:{width:"100%",padding:"0 1rem 2rem",boxSizing:"border-box",display:"flex",justifyContent:"center"},children:m.jsxs("div",{style:{width:"100%",maxWidth:"700px",textAlign:"left"},children:[m.jsx("div",{style:{marginTop:"1rem"},children:m.jsx("button",{onClick:()=>P(!1),style:{backgroundColor:"#1a1a1a",border:"1px solid #333",color:"#fff",borderRadius:"8px",padding:"0.5rem 0.9rem",cursor:"pointer"},children:"Back"})}),m.jsx("h2",{style:{textAlign:"center",margin:"1rem 0"},children:"FAQ"}),m.jsxs("div",{style:{color:"#fff",lineHeight:1.6},children:[m.jsxs("div",{style:x,children:[m.jsx("h3",{style:k,children:"How do I add IronLoop to my iPhone's home screen?"}),m.jsx("p",{style:M,children:"You can add IronLoop to your home screen using Safari."}),m.jsxs("ol",{style:{margin:"0.5rem 0 0.5rem 1.25rem"},children:[m.jsx("li",{children:"Open Safari on your iPhone"}),m.jsx("li",{children:"Go to the IronLoop website"}),m.jsx("li",{children:"Tap the button with 3 dots in the bottom right, then the Share button (the square with the upward arrow)"}),m.jsx("li",{children:"Tap More, then Add to Home Screen"}),m.jsx("li",{children:"Tap Add to confirm"})]}),m.jsx("p",{style:M,children:"IronLoop will now appear like a regular app on your home screen and can be launched by tapping the icon."})]}),m.jsxs("div",{style:x,children:[m.jsx("h3",{style:k,children:"Does it work on other browsers or devices?"}),m.jsx("p",{style:M,children:"IronLoop works in modern browsers on mobile and desktop, but looks best on a phone screen."})]}),m.jsxs("div",{style:x,children:[m.jsx("h3",{style:k,children:"Do I need an account to use IronLoop?"}),m.jsx("p",{style:M,children:"No. You can use IronLoop without signing in."})]}),m.jsxs("div",{style:x,children:[m.jsx("h3",{style:k,children:"What happens if I dont sign in?"}),m.jsx("p",{style:M,children:"If you stay signed out:"}),m.jsxs("ul",{style:{margin:"0.5rem 0 0.5rem 1.25rem"},children:[m.jsx("li",{children:"Your workout templates and history are stored locally in your browser"}),m.jsx("li",{children:"Everything works offline"})]}),m.jsx("p",{style:M,children:"If your browser storage is cleared or you switch devices, that local data may be lost."})]}),m.jsxs("div",{style:x,children:[m.jsx("h3",{style:k,children:"What happens when I sign in?"}),m.jsx("p",{style:M,children:"When you sign in with email:"}),m.jsxs("ul",{style:{margin:"0.5rem 0 0.5rem 1.25rem"},children:[m.jsx("li",{children:"Your workouts and templates are saved to the cloud"}),m.jsx("li",{children:"Your data syncs across devices"}),m.jsx("li",{children:"You can switch phones or browsers without losing history"})]}),m.jsx("p",{style:M,children:"Signing in is optional and can be done at any time."})]}),m.jsxs("div",{style:x,children:[m.jsx("h3",{style:k,children:"Is my data private?"}),m.jsxs("p",{style:M,children:["IronLoop does not sell or share your data.",m.jsx("br",{}),"If you sign in, your data is stored securely and associated only with your account. If you do not sign in, your data never leaves your device."]})]}),m.jsxs("div",{style:x,children:[m.jsx("h3",{style:k,children:"Can IronLoop work offline?"}),m.jsxs("p",{style:M,children:["Yes.",m.jsx("br",{}),"IronLoop is designed to work offline. You can start workouts, complete sets, and log sessions without an internet connection. If you are signed in, your data will sync the next time youre online."]})]}),m.jsxs("div",{style:{margin:"0"},children:[m.jsx("h3",{style:k,children:"Still have a question?"}),m.jsx("p",{style:M,children:"DM @stinkeater on discord"})]})]})]})})},zl=()=>{if(!se)return null;const x=()=>{ye(),De(!1)},k=()=>{ye(),De(!1),P(!0)};return m.jsx("div",{role:"dialog","aria-modal":"true",style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",zIndex:9999},onClick:x,children:m.jsxs("div",{style:{width:"100%",maxWidth:"520px",backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"12px",padding:"1rem",boxSizing:"border-box",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},onClick:M=>M.stopPropagation(),children:[m.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:"Quick tip"}),m.jsxs("div",{style:{color:"#aaa",marginTop:"0.5rem",lineHeight:1.5,textAlign:"center",maxWidth:"420px",marginLeft:"auto",marginRight:"auto"},children:["If you add IronLoop to your iPhone's home screen, it will launch like an app and perform better.",m.jsx("br",{}),m.jsx("br",{}),"Check out the FAQ for instructions."]}),m.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1rem",justifyContent:"center",width:"100%",flexWrap:"wrap"},children:[m.jsx("button",{onClick:x,style:{backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"8px",padding:"0.6rem 1rem",cursor:"pointer"},children:"Not now"}),m.jsx("button",{onClick:k,style:{backgroundColor:"#8b5cf6",border:"none",color:"#fff",borderRadius:"8px",padding:"0.6rem 1rem",cursor:"pointer",fontWeight:"bold"},children:"Open FAQ"})]})]})})};return m.jsxs("div",{style:{minHeight:"100dvh",width:"100%",backgroundColor:"#121212",color:"#fff",overflowX:"hidden"},children:[m.jsx(zl,{}),m.jsx("h1",{className:"ironloop-title",style:{textAlign:"center",margin:"1rem 0"},children:"IronLoop"}),U?null:m.jsx("div",{style:{width:"100%",padding:"1rem",backgroundColor:"#1a1a1a",boxSizing:"border-box",display:"flex",justifyContent:"center"},children:fe==="email"?m.jsxs("form",{onSubmit:x=>{x.preventDefault(),Zt()},style:{width:"100%",maxWidth:"420px",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[m.jsx("input",{value:Xe,onChange:x=>wt(x.target.value),placeholder:"you@example.com",style:Ve}),m.jsx("button",{type:"submit",style:cn,children:"Send code to sign in"}),Ee&&m.jsx("div",{style:{color:"#aaa",textAlign:"center"},children:Ee})]}):m.jsxs("form",{onSubmit:x=>{x.preventDefault(),Dt()},style:{width:"100%",maxWidth:"420px",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[m.jsx("input",{value:J,onChange:x=>te(x.target.value),placeholder:"Enter code",style:Ve}),m.jsx("button",{type:"submit",style:cn,children:"Verify code"}),Ee&&m.jsx("div",{style:{color:"#aaa",textAlign:"center"},children:Ee})]})}),m.jsx("div",{style:{width:"100%",padding:"0.75rem 1rem",boxSizing:"border-box",display:"flex",justifyContent:"center",gap:"0.5rem",flexWrap:"nowrap"},children:["Workout","History","Customize","Account"].map(x=>{const k=V===x,M=x==="Account";return m.jsx("button",{onClick:()=>{P(!1),W(x),x!=="Customize"&&Ne(null)},"aria-label":M?"Account":x,title:M?"Account":void 0,style:{backgroundColor:k?"#8b5cf6":"#1a1a1a",color:"#fff",borderRadius:"8px",padding:M?"0.5rem 0.65rem":"0.5rem 0.75rem",display:"inline-flex",alignItems:"center",justifyContent:"center",border:"none",cursor:"pointer",whiteSpace:"nowrap",fontSize:"0.95rem"},children:M?m.jsx(sb,{}):x},x)})}),m.jsx("div",{style:{width:"100%"},children:Q?m.jsx(mi,{}):m.jsxs(m.Fragment,{children:[m.jsxs(Hm,{children:[V==="Workout"&&m.jsx(Sp,{workouts:ft.workouts,currentWorkoutId:Te,setCurrentWorkoutId:x=>{ut(x);try{localStorage.setItem(I,x)}catch{}},currentWorkoutName:Ge?.name||"Workout",exercises:Z,setExercises:ke,finishWorkout:fn,preferredUnit:v}),V==="History"&&m.jsx(Ep,{history:Fe,deleteWorkout:Fn,updateWorkoutNotes:Nn,preferredUnit:v}),V==="Customize"&&m.jsx(xp,{workouts:ft.workouts,setWorkouts:x=>H({workouts:x.map(ae)}),selectedWorkoutId:oe,setSelectedWorkoutId:Ne,preferredUnit:v,setPreferredUnit:S}),V==="Account"&&m.jsx(Tp,{preferredUnit:v,setPreferredUnit:S,isSignedIn:!!U,sessionEmailMasked:pt(R?.user?.email||""),sessionEmailFull:R?.user?.email||"",onSignOut:gt,onRequestEmailChange:wn,onVerifyEmailChangeCode:zn,emailChangeBusy:G,emailChangeMessage:be,onRefreshAuthStatus:Un,historyCount:(Array.isArray(Fe)?Fe:[]).length,onExportHistoryCsv:Ea,onDeleteAllHistory:Nt,onDeleteAccount:Ht,dangerBusy:_,dangerMessage:ee})]}),m.jsx(Ta,{})]})})]})}wp.createRoot(document.getElementById("root")).render(m.jsx(hp.StrictMode,{children:m.jsx(lb,{})}));
