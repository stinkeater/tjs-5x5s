(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(c){if(c.ep)return;c.ep=!0;const f=r(c);fetch(c.href,f)}})();function Uy(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var To={exports:{}},Tr={};var Fd;function ov(){if(Fd)return Tr;Fd=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(s,c,f){var d=null;if(f!==void 0&&(d=""+f),c.key!==void 0&&(d=""+c.key),"key"in c){f={};for(var g in c)g!=="key"&&(f[g]=c[g])}else f=c;return c=f.ref,{$$typeof:l,type:s,key:d,ref:c!==void 0?c:null,props:f}}return Tr.Fragment=a,Tr.jsx=r,Tr.jsxs=r,Tr}var ey;function cv(){return ey||(ey=1,To.exports=ov()),To.exports}var x=cv(),Ao={exports:{}},ce={};var ty;function fv(){if(ty)return ce;ty=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function k(b){return b===null||typeof b!="object"?null:(b=T&&b[T]||b["@@iterator"],typeof b=="function"?b:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,G={};function J(b,B,X){this.props=b,this.context=B,this.refs=G,this.updater=X||N}J.prototype.isReactComponent={},J.prototype.setState=function(b,B){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,B,"setState")},J.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function L(){}L.prototype=J.prototype;function U(b,B,X){this.props=b,this.context=B,this.refs=G,this.updater=X||N}var $=U.prototype=new L;$.constructor=U,H($,J.prototype),$.isPureReactComponent=!0;var ee=Array.isArray;function Z(){}var Y={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function Ae(b,B,X){var W=X.ref;return{$$typeof:l,type:b,key:B,ref:W!==void 0?W:null,props:X}}function Ge(b,B){return Ae(b.type,B,b.props)}function Ze(b){return typeof b=="object"&&b!==null&&b.$$typeof===l}function it(b){var B={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(X){return B[X]})}var rt=/\/+/g;function Pt(b,B){return typeof b=="object"&&b!==null&&b.key!=null?it(""+b.key):B.toString(36)}function xt(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(Z,Z):(b.status="pending",b.then(function(B){b.status==="pending"&&(b.status="fulfilled",b.value=B)},function(B){b.status==="pending"&&(b.status="rejected",b.reason=B)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function j(b,B,X,W,ue){var de=typeof b;(de==="undefined"||de==="boolean")&&(b=null);var _e=!1;if(b===null)_e=!0;else switch(de){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(b.$$typeof){case l:case a:_e=!0;break;case w:return _e=b._init,j(_e(b._payload),B,X,W,ue)}}if(_e)return ue=ue(b),_e=W===""?"."+Pt(b,0):W,ee(ue)?(X="",_e!=null&&(X=_e.replace(rt,"$&/")+"/"),j(ue,B,X,"",function(ua){return ua})):ue!=null&&(Ze(ue)&&(ue=Ge(ue,X+(ue.key==null||b&&b.key===ue.key?"":(""+ue.key).replace(rt,"$&/")+"/")+_e)),B.push(ue)),1;_e=0;var ut=W===""?".":W+":";if(ee(b))for(var Le=0;Le<b.length;Le++)W=b[Le],de=ut+Pt(W,Le),_e+=j(W,B,X,de,ue);else if(Le=k(b),typeof Le=="function")for(b=Le.call(b),Le=0;!(W=b.next()).done;)W=W.value,de=ut+Pt(W,Le++),_e+=j(W,B,X,de,ue);else if(de==="object"){if(typeof b.then=="function")return j(xt(b),B,X,W,ue);throw B=String(b),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return _e}function K(b,B,X){if(b==null)return b;var W=[],ue=0;return j(b,W,"","",function(de){return B.call(X,de,ue++)}),W}function re(b){if(b._status===-1){var B=b._result;B=B(),B.then(function(X){(b._status===0||b._status===-1)&&(b._status=1,b._result=X)},function(X){(b._status===0||b._status===-1)&&(b._status=2,b._result=X)}),b._status===-1&&(b._status=0,b._result=B)}if(b._status===1)return b._result.default;throw b._result}var me=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},Ee={map:K,forEach:function(b,B,X){K(b,function(){B.apply(this,arguments)},X)},count:function(b){var B=0;return K(b,function(){B++}),B},toArray:function(b){return K(b,function(B){return B})||[]},only:function(b){if(!Ze(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return ce.Activity=E,ce.Children=Ee,ce.Component=J,ce.Fragment=r,ce.Profiler=c,ce.PureComponent=U,ce.StrictMode=s,ce.Suspense=y,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ce.__COMPILER_RUNTIME={__proto__:null,c:function(b){return Y.H.useMemoCache(b)}},ce.cache=function(b){return function(){return b.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(b,B,X){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var W=H({},b.props),ue=b.key;if(B!=null)for(de in B.key!==void 0&&(ue=""+B.key),B)!ne.call(B,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&B.ref===void 0||(W[de]=B[de]);var de=arguments.length-2;if(de===1)W.children=X;else if(1<de){for(var _e=Array(de),ut=0;ut<de;ut++)_e[ut]=arguments[ut+2];W.children=_e}return Ae(b.type,ue,W)},ce.createContext=function(b){return b={$$typeof:d,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},ce.createElement=function(b,B,X){var W,ue={},de=null;if(B!=null)for(W in B.key!==void 0&&(de=""+B.key),B)ne.call(B,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ue[W]=B[W]);var _e=arguments.length-2;if(_e===1)ue.children=X;else if(1<_e){for(var ut=Array(_e),Le=0;Le<_e;Le++)ut[Le]=arguments[Le+2];ue.children=ut}if(b&&b.defaultProps)for(W in _e=b.defaultProps,_e)ue[W]===void 0&&(ue[W]=_e[W]);return Ae(b,de,ue)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(b){return{$$typeof:g,render:b}},ce.isValidElement=Ze,ce.lazy=function(b){return{$$typeof:w,_payload:{_status:-1,_result:b},_init:re}},ce.memo=function(b,B){return{$$typeof:v,type:b,compare:B===void 0?null:B}},ce.startTransition=function(b){var B=Y.T,X={};Y.T=X;try{var W=b(),ue=Y.S;ue!==null&&ue(X,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Z,me)}catch(de){me(de)}finally{B!==null&&X.types!==null&&(B.types=X.types),Y.T=B}},ce.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ce.use=function(b){return Y.H.use(b)},ce.useActionState=function(b,B,X){return Y.H.useActionState(b,B,X)},ce.useCallback=function(b,B){return Y.H.useCallback(b,B)},ce.useContext=function(b){return Y.H.useContext(b)},ce.useDebugValue=function(){},ce.useDeferredValue=function(b,B){return Y.H.useDeferredValue(b,B)},ce.useEffect=function(b,B){return Y.H.useEffect(b,B)},ce.useEffectEvent=function(b){return Y.H.useEffectEvent(b)},ce.useId=function(){return Y.H.useId()},ce.useImperativeHandle=function(b,B,X){return Y.H.useImperativeHandle(b,B,X)},ce.useInsertionEffect=function(b,B){return Y.H.useInsertionEffect(b,B)},ce.useLayoutEffect=function(b,B){return Y.H.useLayoutEffect(b,B)},ce.useMemo=function(b,B){return Y.H.useMemo(b,B)},ce.useOptimistic=function(b,B){return Y.H.useOptimistic(b,B)},ce.useReducer=function(b,B,X){return Y.H.useReducer(b,B,X)},ce.useRef=function(b){return Y.H.useRef(b)},ce.useState=function(b){return Y.H.useState(b)},ce.useSyncExternalStore=function(b,B,X){return Y.H.useSyncExternalStore(b,B,X)},ce.useTransition=function(){return Y.H.useTransition()},ce.version="19.2.0",ce}var ny;function Io(){return ny||(ny=1,Ao.exports=fv()),Ao.exports}var xe=Io();const hv=Uy(xe);var Oo={exports:{}},Ar={},Ro={exports:{}},xo={};var ay;function dv(){return ay||(ay=1,(function(l){function a(j,K){var re=j.length;j.push(K);e:for(;0<re;){var me=re-1>>>1,Ee=j[me];if(0<c(Ee,K))j[me]=K,j[re]=Ee,re=me;else break e}}function r(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var K=j[0],re=j.pop();if(re!==K){j[0]=re;e:for(var me=0,Ee=j.length,b=Ee>>>1;me<b;){var B=2*(me+1)-1,X=j[B],W=B+1,ue=j[W];if(0>c(X,re))W<Ee&&0>c(ue,X)?(j[me]=ue,j[W]=re,me=W):(j[me]=X,j[B]=re,me=B);else if(W<Ee&&0>c(ue,re))j[me]=ue,j[W]=re,me=W;else break e}}return K}function c(j,K){var re=j.sortIndex-K.sortIndex;return re!==0?re:j.id-K.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();l.unstable_now=function(){return d.now()-g}}var y=[],v=[],w=1,E=null,T=3,k=!1,N=!1,H=!1,G=!1,J=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function $(j){for(var K=r(v);K!==null;){if(K.callback===null)s(v);else if(K.startTime<=j)s(v),K.sortIndex=K.expirationTime,a(y,K);else break;K=r(v)}}function ee(j){if(H=!1,$(j),!N)if(r(y)!==null)N=!0,Z||(Z=!0,it());else{var K=r(v);K!==null&&xt(ee,K.startTime-j)}}var Z=!1,Y=-1,ne=5,Ae=-1;function Ge(){return G?!0:!(l.unstable_now()-Ae<ne)}function Ze(){if(G=!1,Z){var j=l.unstable_now();Ae=j;var K=!0;try{e:{N=!1,H&&(H=!1,L(Y),Y=-1),k=!0;var re=T;try{t:{for($(j),E=r(y);E!==null&&!(E.expirationTime>j&&Ge());){var me=E.callback;if(typeof me=="function"){E.callback=null,T=E.priorityLevel;var Ee=me(E.expirationTime<=j);if(j=l.unstable_now(),typeof Ee=="function"){E.callback=Ee,$(j),K=!0;break t}E===r(y)&&s(y),$(j)}else s(y);E=r(y)}if(E!==null)K=!0;else{var b=r(v);b!==null&&xt(ee,b.startTime-j),K=!1}}break e}finally{E=null,T=re,k=!1}K=void 0}}finally{K?it():Z=!1}}}var it;if(typeof U=="function")it=function(){U(Ze)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,Pt=rt.port2;rt.port1.onmessage=Ze,it=function(){Pt.postMessage(null)}}else it=function(){J(Ze,0)};function xt(j,K){Y=J(function(){j(l.unstable_now())},K)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(j){j.callback=null},l.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<j?Math.floor(1e3/j):5},l.unstable_getCurrentPriorityLevel=function(){return T},l.unstable_next=function(j){switch(T){case 1:case 2:case 3:var K=3;break;default:K=T}var re=T;T=K;try{return j()}finally{T=re}},l.unstable_requestPaint=function(){G=!0},l.unstable_runWithPriority=function(j,K){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var re=T;T=j;try{return K()}finally{T=re}},l.unstable_scheduleCallback=function(j,K,re){var me=l.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?me+re:me):re=me,j){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=re+Ee,j={id:w++,callback:K,priorityLevel:j,startTime:re,expirationTime:Ee,sortIndex:-1},re>me?(j.sortIndex=re,a(v,j),r(y)===null&&j===r(v)&&(H?(L(Y),Y=-1):H=!0,xt(ee,re-me))):(j.sortIndex=Ee,a(y,j),N||k||(N=!0,Z||(Z=!0,it()))),j},l.unstable_shouldYield=Ge,l.unstable_wrapCallback=function(j){var K=T;return function(){var re=T;T=K;try{return j.apply(this,arguments)}finally{T=re}}}})(xo)),xo}var iy;function yv(){return iy||(iy=1,Ro.exports=dv()),Ro.exports}var Co={exports:{}},mt={};var ry;function gv(){if(ry)return mt;ry=1;var l=Io();function a(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(y,v,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:E==null?null:""+E,children:y,containerInfo:v,implementation:w}}var d=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mt.createPortal=function(y,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(a(299));return f(y,v,null,w)},mt.flushSync=function(y){var v=d.T,w=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=v,s.p=w,s.d.f()}},mt.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(y,v))},mt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},mt.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var w=v.as,E=g(w,v.crossOrigin),T=typeof v.integrity=="string"?v.integrity:void 0,k=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?s.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:k}):w==="script"&&s.d.X(y,{crossOrigin:E,integrity:T,fetchPriority:k,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},mt.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=g(v.as,v.crossOrigin);s.d.M(y,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(y)},mt.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,E=g(w,v.crossOrigin);s.d.L(y,w,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},mt.preloadModule=function(y,v){if(typeof y=="string")if(v){var w=g(v.as,v.crossOrigin);s.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(y)},mt.requestFormReset=function(y){s.d.r(y)},mt.unstable_batchedUpdates=function(y,v){return y(v)},mt.useFormState=function(y,v,w){return d.H.useFormState(y,v,w)},mt.useFormStatus=function(){return d.H.useHostTransitionStatus()},mt.version="19.2.0",mt}var ly;function mv(){if(ly)return Co.exports;ly=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Co.exports=gv(),Co.exports}var sy;function vv(){if(sy)return Ar;sy=1;var l=yv(),a=Io(),r=mv();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(s(188))}function v(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var u=n.return;if(u===null)break;var o=u.alternate;if(o===null){if(i=u.return,i!==null){n=i;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===n)return y(u),e;if(o===i)return y(u),t;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=u,i=o;else{for(var h=!1,m=u.child;m;){if(m===n){h=!0,n=u,i=o;break}if(m===i){h=!0,i=u,n=o;break}m=m.sibling}if(!h){for(m=o.child;m;){if(m===n){h=!0,n=o,i=u;break}if(m===i){h=!0,i=o,n=u;break}m=m.sibling}if(!h)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),Ae=Symbol.for("react.activity"),Ge=Symbol.for("react.memo_cache_sentinel"),Ze=Symbol.iterator;function it(e){return e===null||typeof e!="object"?null:(e=Ze&&e[Ze]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Symbol.for("react.client.reference");function Pt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===rt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case J:return"Profiler";case G:return"StrictMode";case ee:return"Suspense";case Z:return"SuspenseList";case Ae:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case U:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:Pt(e.type)||"Memo";case ne:t=e._payload,e=e._init;try{return Pt(e(t))}catch{}}return null}var xt=Array.isArray,j=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},me=[],Ee=-1;function b(e){return{current:e}}function B(e){0>Ee||(e.current=me[Ee],me[Ee]=null,Ee--)}function X(e,t){Ee++,me[Ee]=e.current,e.current=t}var W=b(null),ue=b(null),de=b(null),_e=b(null);function ut(e,t){switch(X(de,t),X(ue,e),X(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Sd(t),e=Ed(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(W),X(W,e)}function Le(){B(W),B(ue),B(de)}function ua(e){e.memoizedState!==null&&X(_e,e);var t=W.current,n=Ed(t,e.type);t!==n&&(X(ue,e),X(W,n))}function Un(e){ue.current===e&&(B(W),B(ue)),_e.current===e&&(B(_e),_r._currentValue=re)}var Ft,Dn;function Ct(e){if(Ft===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ft=t&&t[1]||"",Dn=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+e+Dn}var ji=!1;function ki(e,t){if(!e||ji)return"";ji=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(C){var R=C}Reflect.construct(e,[],q)}else{try{q.call()}catch(C){R=C}e.call(q.prototype)}}else{try{throw Error()}catch(C){R=C}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(C){if(C&&R&&typeof C.stack=="string")return[C.stack,R.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),h=o[0],m=o[1];if(h&&m){var p=h.split(`
`),O=m.split(`
`);for(u=i=0;i<p.length&&!p[i].includes("DetermineComponentFrameRoot");)i++;for(;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;if(i===p.length||u===O.length)for(i=p.length-1,u=O.length-1;1<=i&&0<=u&&p[i]!==O[u];)u--;for(;1<=i&&0<=u;i--,u--)if(p[i]!==O[u]){if(i!==1||u!==1)do if(i--,u--,0>u||p[i]!==O[u]){var z=`
`+p[i].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=i&&0<=u);break}}}finally{ji=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ct(n):""}function ss(e,t){switch(e.tag){case 26:case 27:case 5:return Ct(e.type);case 16:return Ct("Lazy");case 13:return e.child!==t&&t!==null?Ct("Suspense Fallback"):Ct("Suspense");case 19:return Ct("SuspenseList");case 0:case 15:return ki(e.type,!1);case 11:return ki(e.type.render,!1);case 1:return ki(e.type,!0);case 31:return Ct("Activity");default:return""}}function Mr(e){try{var t="",n=null;do t+=ss(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Ua=Object.prototype.hasOwnProperty,Da=l.unstable_scheduleCallback,Ui=l.unstable_cancelCallback,us=l.unstable_shouldYield,os=l.unstable_requestPaint,vt=l.unstable_now,cs=l.unstable_getCurrentPriorityLevel,Br=l.unstable_ImmediatePriority,D=l.unstable_UserBlockingPriority,V=l.unstable_NormalPriority,Q=l.unstable_LowPriority,P=l.unstable_IdlePriority,oe=l.log,De=l.unstable_setDisableYieldValue,_t=null,He=null;function Ve(e){if(typeof oe=="function"&&De(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(_t,e)}catch{}}var Ie=Math.clz32?Math.clz32:jt,$t=Math.log,zn=Math.LN2;function jt(e){return e>>>=0,e===0?32:31-($t(e)/zn|0)|0}var ze=256,Nn=262144,za=4194304;function fn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qr(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var u=0,o=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var m=i&134217727;return m!==0?(i=m&~o,i!==0?u=fn(i):(h&=m,h!==0?u=fn(h):n||(n=m&~e,n!==0&&(u=fn(n))))):(m=i&~o,m!==0?u=fn(m):h!==0?u=fn(h):n||(n=i&~e,n!==0&&(u=fn(n)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:u}function Di(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Iy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nc(){var e=za;return za<<=1,(za&62914560)===0&&(za=4194304),e}function fs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wy(e,t,n,i,u,o){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var m=e.entanglements,p=e.expirationTimes,O=e.hiddenUpdates;for(n=h&~n;0<n;){var z=31-Ie(n),q=1<<z;m[z]=0,p[z]=-1;var R=O[z];if(R!==null)for(O[z]=null,z=0;z<R.length;z++){var C=R[z];C!==null&&(C.lane&=-536870913)}n&=~q}i!==0&&ac(e,i,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(h&~t))}function ac(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ie(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function ic(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ie(n),u=1<<i;u&t|e[i]&t&&(e[i]|=t),n&=~u}}function rc(e,t){var n=t&-t;return n=(n&42)!==0?1:hs(n),(n&(e.suspendedLanes|t))!==0?0:n}function hs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ds(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lc(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:Xd(e.type))}function sc(e,t){var n=K.p;try{return K.p=e,t()}finally{K.p=n}}var Mn=Math.random().toString(36).slice(2),ot="__reactFiber$"+Mn,wt="__reactProps$"+Mn,Na="__reactContainer$"+Mn,ys="__reactEvents$"+Mn,Py="__reactListeners$"+Mn,Fy="__reactHandles$"+Mn,uc="__reactResources$"+Mn,Ni="__reactMarker$"+Mn;function gs(e){delete e[ot],delete e[wt],delete e[ys],delete e[Py],delete e[Fy]}function Ma(e){var t=e[ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Na]||n[ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jd(e);e!==null;){if(n=e[ot])return n;e=jd(e)}return t}e=n,n=e.parentNode}return null}function Ba(e){if(e=e[ot]||e[Na]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Mi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function qa(e){var t=e[uc];return t||(t=e[uc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[Ni]=!0}var oc=new Set,cc={};function oa(e,t){La(e,t),La(e+"Capture",t)}function La(e,t){for(cc[e]=t,e=0;e<t.length;e++)oc.add(t[e])}var eg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fc={},hc={};function tg(e){return Ua.call(hc,e)?!0:Ua.call(fc,e)?!1:eg.test(e)?hc[e]=!0:(fc[e]=!0,!1)}function Lr(e,t,n){if(tg(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Hr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function hn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ng(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(h){n=""+h,o.call(this,h)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ms(e){if(!e._valueTracker){var t=dc(e)?"checked":"value";e._valueTracker=ng(e,t,""+e[t])}}function yc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=dc(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function $r(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ag=/[\n"\\]/g;function Vt(e){return e.replace(ag,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function vs(e,t,n,i,u,o,h,m){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?ps(e,h,Gt(t)):n!=null?ps(e,h,Gt(n)):i!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.name=""+Gt(m):e.removeAttribute("name")}function gc(e,t,n,i,u,o,h,m){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){ms(e);return}n=n!=null?""+Gt(n):"",t=t!=null?""+Gt(t):n,m||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=m?e.checked:!!i,e.defaultChecked=!!i,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),ms(e)}function ps(e,t,n){t==="number"&&$r(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ha(e,t,n,i){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Gt(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function mc(e,t,n){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Gt(n):""}function vc(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(s(92));if(xt(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Gt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),ms(e)}function $a(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ig=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pc(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||ig.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function bc(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&n[u]!==i&&pc(e,u,i)}else for(var o in t)t.hasOwnProperty(o)&&pc(e,o,t[o])}function bs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gr(e){return lg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function dn(){}var _s=null;function ws(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ga=null,Va=null;function _c(e){var t=Ba(e);if(t&&(e=t.stateNode)){var n=e[wt]||null;e:switch(e=t.stateNode,t.type){case"input":if(vs(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var u=i[wt]||null;if(!u)throw Error(s(90));vs(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&yc(i)}break e;case"textarea":mc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ha(e,!!n.multiple,t,!1)}}}var Ss=!1;function wc(e,t,n){if(Ss)return e(t,n);Ss=!0;try{var i=e(t);return i}finally{if(Ss=!1,(Ga!==null||Va!==null)&&(Cl(),Ga&&(t=Ga,e=Va,Va=Ga=null,_c(t),e)))for(t=0;t<e.length;t++)_c(e[t])}}function Bi(e,t){var n=e.stateNode;if(n===null)return null;var i=n[wt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if(yn)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){Es=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{Es=!1}var Bn=null,Ts=null,Vr=null;function Sc(){if(Vr)return Vr;var e,t=Ts,n=t.length,i,u="value"in Bn?Bn.value:Bn.textContent,o=u.length;for(e=0;e<n&&t[e]===u[e];e++);var h=n-e;for(i=1;i<=h&&t[n-i]===u[o-i];i++);return Vr=u.slice(e,1<i?1-i:void 0)}function Yr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kr(){return!0}function Ec(){return!1}function St(e){function t(n,i,u,o,h){this._reactName=n,this._targetInst=u,this.type=i,this.nativeEvent=o,this.target=h,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(o):o[m]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Kr:Ec,this.isPropagationStopped=Ec,this}return E(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),t}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xr=St(ca),Li=E({},ca,{view:0,detail:0}),sg=St(Li),As,Os,Hi,Jr=E({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hi&&(Hi&&e.type==="mousemove"?(As=e.screenX-Hi.screenX,Os=e.screenY-Hi.screenY):Os=As=0,Hi=e),As)},movementY:function(e){return"movementY"in e?e.movementY:Os}}),Tc=St(Jr),ug=E({},Jr,{dataTransfer:0}),og=St(ug),cg=E({},Li,{relatedTarget:0}),Rs=St(cg),fg=E({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),hg=St(fg),dg=E({},ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yg=St(dg),gg=E({},ca,{data:0}),Ac=St(gg),mg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pg[e])?!!t[e]:!1}function xs(){return bg}var _g=E({},Li,{key:function(e){if(e.key){var t=mg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(e){return e.type==="keypress"?Yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wg=St(_g),Sg=E({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oc=St(Sg),Eg=E({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),Tg=St(Eg),Ag=E({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),Og=St(Ag),Rg=E({},Jr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xg=St(Rg),Cg=E({},ca,{newState:0,oldState:0}),jg=St(Cg),kg=[9,13,27,32],Cs=yn&&"CompositionEvent"in window,$i=null;yn&&"documentMode"in document&&($i=document.documentMode);var Ug=yn&&"TextEvent"in window&&!$i,Rc=yn&&(!Cs||$i&&8<$i&&11>=$i),xc=" ",Cc=!1;function jc(e,t){switch(e){case"keyup":return kg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ya=!1;function Dg(e,t){switch(e){case"compositionend":return kc(t);case"keypress":return t.which!==32?null:(Cc=!0,xc);case"textInput":return e=t.data,e===xc&&Cc?null:e;default:return null}}function zg(e,t){if(Ya)return e==="compositionend"||!Cs&&jc(e,t)?(e=Sc(),Vr=Ts=Bn=null,Ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rc&&t.locale!=="ko"?null:t.data;default:return null}}var Ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ng[e.type]:t==="textarea"}function Dc(e,t,n,i){Ga?Va?Va.push(i):Va=[i]:Ga=i,t=Ml(t,"onChange"),0<t.length&&(n=new Xr("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Gi=null,Vi=null;function Mg(e){md(e,0)}function Qr(e){var t=Mi(e);if(yc(t))return e}function zc(e,t){if(e==="change")return t}var Nc=!1;if(yn){var js;if(yn){var ks="oninput"in document;if(!ks){var Mc=document.createElement("div");Mc.setAttribute("oninput","return;"),ks=typeof Mc.oninput=="function"}js=ks}else js=!1;Nc=js&&(!document.documentMode||9<document.documentMode)}function Bc(){Gi&&(Gi.detachEvent("onpropertychange",qc),Vi=Gi=null)}function qc(e){if(e.propertyName==="value"&&Qr(Vi)){var t=[];Dc(t,Vi,e,ws(e)),wc(Mg,t)}}function Bg(e,t,n){e==="focusin"?(Bc(),Gi=t,Vi=n,Gi.attachEvent("onpropertychange",qc)):e==="focusout"&&Bc()}function qg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qr(Vi)}function Lg(e,t){if(e==="click")return Qr(t)}function Hg(e,t){if(e==="input"||e==="change")return Qr(t)}function $g(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:$g;function Yi(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var u=n[i];if(!Ua.call(t,u)||!kt(e[u],t[u]))return!1}return!0}function Lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hc(e,t){var n=Lc(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lc(n)}}function $c(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$c(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=$r(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$r(e.document)}return t}function Us(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Gg=yn&&"documentMode"in document&&11>=document.documentMode,Ka=null,Ds=null,Ki=null,zs=!1;function Vc(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zs||Ka==null||Ka!==$r(i)||(i=Ka,"selectionStart"in i&&Us(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ki&&Yi(Ki,i)||(Ki=i,i=Ml(Ds,"onSelect"),0<i.length&&(t=new Xr("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ka)))}function fa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xa={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},Ns={},Yc={};yn&&(Yc=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function ha(e){if(Ns[e])return Ns[e];if(!Xa[e])return e;var t=Xa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yc)return Ns[e]=t[n];return e}var Kc=ha("animationend"),Xc=ha("animationiteration"),Jc=ha("animationstart"),Vg=ha("transitionrun"),Yg=ha("transitionstart"),Kg=ha("transitioncancel"),Qc=ha("transitionend"),Zc=new Map,Ms="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ms.push("scrollEnd");function en(e,t){Zc.set(e,t),oa(t,[e])}var Zr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yt=[],Ja=0,Bs=0;function Ir(){for(var e=Ja,t=Bs=Ja=0;t<e;){var n=Yt[t];Yt[t++]=null;var i=Yt[t];Yt[t++]=null;var u=Yt[t];Yt[t++]=null;var o=Yt[t];if(Yt[t++]=null,i!==null&&u!==null){var h=i.pending;h===null?u.next=u:(u.next=h.next,h.next=u),i.pending=u}o!==0&&Ic(n,u,o)}}function Wr(e,t,n,i){Yt[Ja++]=e,Yt[Ja++]=t,Yt[Ja++]=n,Yt[Ja++]=i,Bs|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function qs(e,t,n,i){return Wr(e,t,n,i),Pr(e)}function da(e,t){return Wr(e,null,null,t),Pr(e)}function Ic(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var u=!1,o=e.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-Ie(n),e=o.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=n|536870912),o):null}function Pr(e){if(50<dr)throw dr=0,Ju=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Qa={};function Xg(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,i){return new Xg(e,t,n,i)}function Ls(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gn(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Wc(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fr(e,t,n,i,u,o){var h=0;if(i=e,typeof e=="function")Ls(e)&&(h=1);else if(typeof e=="string")h=Wm(e,n,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ae:return e=Ut(31,n,t,u),e.elementType=Ae,e.lanes=o,e;case H:return ya(n.children,u,o,t);case G:h=8,u|=24;break;case J:return e=Ut(12,n,t,u|2),e.elementType=J,e.lanes=o,e;case ee:return e=Ut(13,n,t,u),e.elementType=ee,e.lanes=o,e;case Z:return e=Ut(19,n,t,u),e.elementType=Z,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:h=10;break e;case L:h=9;break e;case $:h=11;break e;case Y:h=14;break e;case ne:h=16,i=null;break e}h=29,n=Error(s(130,e===null?"null":typeof e,"")),i=null}return t=Ut(h,n,t,u),t.elementType=e,t.type=i,t.lanes=o,t}function ya(e,t,n,i){return e=Ut(7,e,i,t),e.lanes=n,e}function Hs(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function Pc(e){var t=Ut(18,null,null,0);return t.stateNode=e,t}function $s(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Fc=new WeakMap;function Kt(e,t){if(typeof e=="object"&&e!==null){var n=Fc.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Mr(t)},Fc.set(e,t),t)}return{value:e,source:t,stack:Mr(t)}}var Za=[],Ia=0,el=null,Xi=0,Xt=[],Jt=0,qn=null,sn=1,un="";function mn(e,t){Za[Ia++]=Xi,Za[Ia++]=el,el=e,Xi=t}function ef(e,t,n){Xt[Jt++]=sn,Xt[Jt++]=un,Xt[Jt++]=qn,qn=e;var i=sn;e=un;var u=32-Ie(i)-1;i&=~(1<<u),n+=1;var o=32-Ie(t)+u;if(30<o){var h=u-u%5;o=(i&(1<<h)-1).toString(32),i>>=h,u-=h,sn=1<<32-Ie(t)+u|n<<u|i,un=o+e}else sn=1<<o|n<<u|i,un=e}function Gs(e){e.return!==null&&(mn(e,1),ef(e,1,0))}function Vs(e){for(;e===el;)el=Za[--Ia],Za[Ia]=null,Xi=Za[--Ia],Za[Ia]=null;for(;e===qn;)qn=Xt[--Jt],Xt[Jt]=null,un=Xt[--Jt],Xt[Jt]=null,sn=Xt[--Jt],Xt[Jt]=null}function tf(e,t){Xt[Jt++]=sn,Xt[Jt++]=un,Xt[Jt++]=qn,sn=t.id,un=t.overflow,qn=e}var ct=null,Me=null,be=!1,Ln=null,Qt=!1,Ys=Error(s(519));function Hn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ji(Kt(t,e)),Ys}function nf(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ot]=e,t[wt]=i,n){case"dialog":ge("cancel",t),ge("close",t);break;case"iframe":case"object":case"embed":ge("load",t);break;case"video":case"audio":for(n=0;n<gr.length;n++)ge(gr[n],t);break;case"source":ge("error",t);break;case"img":case"image":case"link":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"input":ge("invalid",t),gc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ge("invalid",t);break;case"textarea":ge("invalid",t),vc(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||_d(t.textContent,n)?(i.popover!=null&&(ge("beforetoggle",t),ge("toggle",t)),i.onScroll!=null&&ge("scroll",t),i.onScrollEnd!=null&&ge("scrollend",t),i.onClick!=null&&(t.onclick=dn),t=!0):t=!1,t||Hn(e,!0)}function af(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:ct=ct.return}}function Wa(e){if(e!==ct)return!1;if(!be)return af(e),be=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||uo(e.type,e.memoizedProps)),n=!n),n&&Me&&Hn(e),af(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Me=Cd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Me=Cd(e)}else t===27?(t=Me,ea(e.type)?(e=yo,yo=null,Me=e):Me=t):Me=ct?It(e.stateNode.nextSibling):null;return!0}function ga(){Me=ct=null,be=!1}function Ks(){var e=Ln;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),Ln=null),e}function Ji(e){Ln===null?Ln=[e]:Ln.push(e)}var Xs=b(null),ma=null,vn=null;function $n(e,t,n){X(Xs,t._currentValue),t._currentValue=n}function pn(e){e._currentValue=Xs.current,B(Xs)}function Js(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Qs(e,t,n,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var h=u.child;o=o.firstContext;e:for(;o!==null;){var m=o;o=u;for(var p=0;p<t.length;p++)if(m.context===t[p]){o.lanes|=n,m=o.alternate,m!==null&&(m.lanes|=n),Js(o.return,n,e),i||(h=null);break e}o=m.next}}else if(u.tag===18){if(h=u.return,h===null)throw Error(s(341));h.lanes|=n,o=h.alternate,o!==null&&(o.lanes|=n),Js(h,n,e),h=null}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===e){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}}function Pa(e,t,n,i){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var h=u.alternate;if(h===null)throw Error(s(387));if(h=h.memoizedProps,h!==null){var m=u.type;kt(u.pendingProps.value,h.value)||(e!==null?e.push(m):e=[m])}}else if(u===_e.current){if(h=u.alternate,h===null)throw Error(s(387));h.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(_r):e=[_r])}u=u.return}e!==null&&Qs(t,e,n,i),t.flags|=262144}function tl(e){for(e=e.firstContext;e!==null;){if(!kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function va(e){ma=e,vn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return rf(ma,e)}function nl(e,t){return ma===null&&va(e),rf(e,t)}function rf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},vn===null){if(e===null)throw Error(s(308));vn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vn=vn.next=t;return n}var Jg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Qg=l.unstable_scheduleCallback,Zg=l.unstable_NormalPriority,We={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zs(){return{controller:new Jg,data:new Map,refCount:0}}function Qi(e){e.refCount--,e.refCount===0&&Qg(Zg,function(){e.controller.abort()})}var Zi=null,Is=0,Fa=0,ei=null;function Ig(e,t){if(Zi===null){var n=Zi=[];Is=0,Fa=Fu(),ei={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Is++,t.then(lf,lf),t}function lf(){if(--Is===0&&Zi!==null){ei!==null&&(ei.status="fulfilled");var e=Zi;Zi=null,Fa=0,ei=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Wg(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),i}var sf=j.S;j.S=function(e,t){Yh=vt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ig(e,t),sf!==null&&sf(e,t)};var pa=b(null);function Ws(){var e=pa.current;return e!==null?e:Ue.pooledCache}function al(e,t){t===null?X(pa,pa.current):X(pa,t.pool)}function uf(){var e=Ws();return e===null?null:{parent:We._currentValue,pool:e}}var ti=Error(s(460)),Ps=Error(s(474)),il=Error(s(542)),rl={then:function(){}};function of(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(dn,dn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hf(e),e;default:if(typeof t.status=="string")t.then(dn,dn);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hf(e),e}throw _a=t,ti}}function ba(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(_a=n,ti):n}}var _a=null;function ff(){if(_a===null)throw Error(s(459));var e=_a;return _a=null,e}function hf(e){if(e===ti||e===il)throw Error(s(483))}var ni=null,Ii=0;function ll(e){var t=Ii;return Ii+=1,ni===null&&(ni=[]),cf(ni,e,t)}function Wi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function sl(e,t){throw t.$$typeof===T?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function df(e){function t(S,_){if(e){var A=S.deletions;A===null?(S.deletions=[_],S.flags|=16):A.push(_)}}function n(S,_){if(!e)return null;for(;_!==null;)t(S,_),_=_.sibling;return null}function i(S){for(var _=new Map;S!==null;)S.key!==null?_.set(S.key,S):_.set(S.index,S),S=S.sibling;return _}function u(S,_){return S=gn(S,_),S.index=0,S.sibling=null,S}function o(S,_,A){return S.index=A,e?(A=S.alternate,A!==null?(A=A.index,A<_?(S.flags|=67108866,_):A):(S.flags|=67108866,_)):(S.flags|=1048576,_)}function h(S){return e&&S.alternate===null&&(S.flags|=67108866),S}function m(S,_,A,M){return _===null||_.tag!==6?(_=Hs(A,S.mode,M),_.return=S,_):(_=u(_,A),_.return=S,_)}function p(S,_,A,M){var ae=A.type;return ae===H?z(S,_,A.props.children,M,A.key):_!==null&&(_.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ne&&ba(ae)===_.type)?(_=u(_,A.props),Wi(_,A),_.return=S,_):(_=Fr(A.type,A.key,A.props,null,S.mode,M),Wi(_,A),_.return=S,_)}function O(S,_,A,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=$s(A,S.mode,M),_.return=S,_):(_=u(_,A.children||[]),_.return=S,_)}function z(S,_,A,M,ae){return _===null||_.tag!==7?(_=ya(A,S.mode,M,ae),_.return=S,_):(_=u(_,A),_.return=S,_)}function q(S,_,A){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Hs(""+_,S.mode,A),_.return=S,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case k:return A=Fr(_.type,_.key,_.props,null,S.mode,A),Wi(A,_),A.return=S,A;case N:return _=$s(_,S.mode,A),_.return=S,_;case ne:return _=ba(_),q(S,_,A)}if(xt(_)||it(_))return _=ya(_,S.mode,A,null),_.return=S,_;if(typeof _.then=="function")return q(S,ll(_),A);if(_.$$typeof===U)return q(S,nl(S,_),A);sl(S,_)}return null}function R(S,_,A,M){var ae=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return ae!==null?null:m(S,_,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case k:return A.key===ae?p(S,_,A,M):null;case N:return A.key===ae?O(S,_,A,M):null;case ne:return A=ba(A),R(S,_,A,M)}if(xt(A)||it(A))return ae!==null?null:z(S,_,A,M,null);if(typeof A.then=="function")return R(S,_,ll(A),M);if(A.$$typeof===U)return R(S,_,nl(S,A),M);sl(S,A)}return null}function C(S,_,A,M,ae){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return S=S.get(A)||null,m(_,S,""+M,ae);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return S=S.get(M.key===null?A:M.key)||null,p(_,S,M,ae);case N:return S=S.get(M.key===null?A:M.key)||null,O(_,S,M,ae);case ne:return M=ba(M),C(S,_,A,M,ae)}if(xt(M)||it(M))return S=S.get(A)||null,z(_,S,M,ae,null);if(typeof M.then=="function")return C(S,_,A,ll(M),ae);if(M.$$typeof===U)return C(S,_,A,nl(_,M),ae);sl(_,M)}return null}function I(S,_,A,M){for(var ae=null,we=null,F=_,he=_=0,pe=null;F!==null&&he<A.length;he++){F.index>he?(pe=F,F=null):pe=F.sibling;var Se=R(S,F,A[he],M);if(Se===null){F===null&&(F=pe);break}e&&F&&Se.alternate===null&&t(S,F),_=o(Se,_,he),we===null?ae=Se:we.sibling=Se,we=Se,F=pe}if(he===A.length)return n(S,F),be&&mn(S,he),ae;if(F===null){for(;he<A.length;he++)F=q(S,A[he],M),F!==null&&(_=o(F,_,he),we===null?ae=F:we.sibling=F,we=F);return be&&mn(S,he),ae}for(F=i(F);he<A.length;he++)pe=C(F,S,he,A[he],M),pe!==null&&(e&&pe.alternate!==null&&F.delete(pe.key===null?he:pe.key),_=o(pe,_,he),we===null?ae=pe:we.sibling=pe,we=pe);return e&&F.forEach(function(ra){return t(S,ra)}),be&&mn(S,he),ae}function ie(S,_,A,M){if(A==null)throw Error(s(151));for(var ae=null,we=null,F=_,he=_=0,pe=null,Se=A.next();F!==null&&!Se.done;he++,Se=A.next()){F.index>he?(pe=F,F=null):pe=F.sibling;var ra=R(S,F,Se.value,M);if(ra===null){F===null&&(F=pe);break}e&&F&&ra.alternate===null&&t(S,F),_=o(ra,_,he),we===null?ae=ra:we.sibling=ra,we=ra,F=pe}if(Se.done)return n(S,F),be&&mn(S,he),ae;if(F===null){for(;!Se.done;he++,Se=A.next())Se=q(S,Se.value,M),Se!==null&&(_=o(Se,_,he),we===null?ae=Se:we.sibling=Se,we=Se);return be&&mn(S,he),ae}for(F=i(F);!Se.done;he++,Se=A.next())Se=C(F,S,he,Se.value,M),Se!==null&&(e&&Se.alternate!==null&&F.delete(Se.key===null?he:Se.key),_=o(Se,_,he),we===null?ae=Se:we.sibling=Se,we=Se);return e&&F.forEach(function(uv){return t(S,uv)}),be&&mn(S,he),ae}function ke(S,_,A,M){if(typeof A=="object"&&A!==null&&A.type===H&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case k:e:{for(var ae=A.key;_!==null;){if(_.key===ae){if(ae=A.type,ae===H){if(_.tag===7){n(S,_.sibling),M=u(_,A.props.children),M.return=S,S=M;break e}}else if(_.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ne&&ba(ae)===_.type){n(S,_.sibling),M=u(_,A.props),Wi(M,A),M.return=S,S=M;break e}n(S,_);break}else t(S,_);_=_.sibling}A.type===H?(M=ya(A.props.children,S.mode,M,A.key),M.return=S,S=M):(M=Fr(A.type,A.key,A.props,null,S.mode,M),Wi(M,A),M.return=S,S=M)}return h(S);case N:e:{for(ae=A.key;_!==null;){if(_.key===ae)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){n(S,_.sibling),M=u(_,A.children||[]),M.return=S,S=M;break e}else{n(S,_);break}else t(S,_);_=_.sibling}M=$s(A,S.mode,M),M.return=S,S=M}return h(S);case ne:return A=ba(A),ke(S,_,A,M)}if(xt(A))return I(S,_,A,M);if(it(A)){if(ae=it(A),typeof ae!="function")throw Error(s(150));return A=ae.call(A),ie(S,_,A,M)}if(typeof A.then=="function")return ke(S,_,ll(A),M);if(A.$$typeof===U)return ke(S,_,nl(S,A),M);sl(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,_!==null&&_.tag===6?(n(S,_.sibling),M=u(_,A),M.return=S,S=M):(n(S,_),M=Hs(A,S.mode,M),M.return=S,S=M),h(S)):n(S,_)}return function(S,_,A,M){try{Ii=0;var ae=ke(S,_,A,M);return ni=null,ae}catch(F){if(F===ti||F===il)throw F;var we=Ut(29,F,null,S.mode);return we.lanes=M,we.return=S,we}}}var wa=df(!0),yf=df(!1),Gn=!1;function Fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Te&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=Pr(e),Ic(e,null,n),t}return Wr(e,i,t,n),Pr(e)}function Pi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ic(e,n)}}function tu(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var u=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?u=o=h:o=o.next=h,n=n.next}while(n!==null);o===null?u=o=t:o=o.next=t}else u=o=t;n={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var nu=!1;function Fi(){if(nu){var e=ei;if(e!==null)throw e}}function er(e,t,n,i){nu=!1;var u=e.updateQueue;Gn=!1;var o=u.firstBaseUpdate,h=u.lastBaseUpdate,m=u.shared.pending;if(m!==null){u.shared.pending=null;var p=m,O=p.next;p.next=null,h===null?o=O:h.next=O,h=p;var z=e.alternate;z!==null&&(z=z.updateQueue,m=z.lastBaseUpdate,m!==h&&(m===null?z.firstBaseUpdate=O:m.next=O,z.lastBaseUpdate=p))}if(o!==null){var q=u.baseState;h=0,z=O=p=null,m=o;do{var R=m.lane&-536870913,C=R!==m.lane;if(C?(ve&R)===R:(i&R)===R){R!==0&&R===Fa&&(nu=!0),z!==null&&(z=z.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});e:{var I=e,ie=m;R=t;var ke=n;switch(ie.tag){case 1:if(I=ie.payload,typeof I=="function"){q=I.call(ke,q,R);break e}q=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=ie.payload,R=typeof I=="function"?I.call(ke,q,R):I,R==null)break e;q=E({},q,R);break e;case 2:Gn=!0}}R=m.callback,R!==null&&(e.flags|=64,C&&(e.flags|=8192),C=u.callbacks,C===null?u.callbacks=[R]:C.push(R))}else C={lane:R,tag:m.tag,payload:m.payload,callback:m.callback,next:null},z===null?(O=z=C,p=q):z=z.next=C,h|=R;if(m=m.next,m===null){if(m=u.shared.pending,m===null)break;C=m,m=C.next,C.next=null,u.lastBaseUpdate=C,u.shared.pending=null}}while(!0);z===null&&(p=q),u.baseState=p,u.firstBaseUpdate=O,u.lastBaseUpdate=z,o===null&&(u.shared.lanes=0),Zn|=h,e.lanes=h,e.memoizedState=q}}function gf(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function mf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)gf(n[e],t)}var ai=b(null),ul=b(0);function vf(e,t){e=Rn,X(ul,e),X(ai,t),Rn=e|t.baseLanes}function au(){X(ul,Rn),X(ai,ai.current)}function iu(){Rn=ul.current,B(ai),B(ul)}var Dt=b(null),Zt=null;function Kn(e){var t=e.alternate;X(Je,Je.current&1),X(Dt,e),Zt===null&&(t===null||ai.current!==null||t.memoizedState!==null)&&(Zt=e)}function ru(e){X(Je,Je.current),X(Dt,e),Zt===null&&(Zt=e)}function pf(e){e.tag===22?(X(Je,Je.current),X(Dt,e),Zt===null&&(Zt=e)):Xn()}function Xn(){X(Je,Je.current),X(Dt,Dt.current)}function zt(e){B(Dt),Zt===e&&(Zt=null),B(Je)}var Je=b(0);function ol(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||fo(n)||ho(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bn=0,fe=null,Ce=null,Pe=null,cl=!1,ii=!1,Sa=!1,fl=0,tr=0,ri=null,Pg=0;function Ye(){throw Error(s(321))}function lu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function su(e,t,n,i,u,o){return bn=o,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?th:Su,Sa=!1,o=n(i,u),Sa=!1,ii&&(o=_f(t,n,i,u)),bf(e),o}function bf(e){j.H=ir;var t=Ce!==null&&Ce.next!==null;if(bn=0,Pe=Ce=fe=null,cl=!1,tr=0,ri=null,t)throw Error(s(300));e===null||Fe||(e=e.dependencies,e!==null&&tl(e)&&(Fe=!0))}function _f(e,t,n,i){fe=e;var u=0;do{if(ii&&(ri=null),tr=0,ii=!1,25<=u)throw Error(s(301));if(u+=1,Pe=Ce=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}j.H=nh,o=t(n,i)}while(ii);return o}function Fg(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?nr(t):t,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(fe.flags|=1024),t}function uu(){var e=fl!==0;return fl=0,e}function ou(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function cu(e){if(cl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}cl=!1}bn=0,Pe=Ce=fe=null,ii=!1,tr=fl=0,ri=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?fe.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Qe(){if(Ce===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Pe===null?fe.memoizedState:Pe.next;if(t!==null)Pe=t,Ce=e;else{if(e===null)throw fe.alternate===null?Error(s(467)):Error(s(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Pe===null?fe.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function hl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nr(e){var t=tr;return tr+=1,ri===null&&(ri=[]),e=cf(ri,e,t),t=fe,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?th:Su),e}function dl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nr(e);if(e.$$typeof===U)return ft(e)}throw Error(s(438,String(e)))}function fu(e){var t=null,n=fe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=fe.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=hl(),fe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Ge;return t.index++,n}function _n(e,t){return typeof t=="function"?t(e):t}function yl(e){var t=Qe();return hu(t,Ce,e)}function hu(e,t,n){var i=e.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=n;var u=e.baseQueue,o=i.pending;if(o!==null){if(u!==null){var h=u.next;u.next=o.next,o.next=h}t.baseQueue=u=o,i.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var m=h=null,p=null,O=t,z=!1;do{var q=O.lane&-536870913;if(q!==O.lane?(ve&q)===q:(bn&q)===q){var R=O.revertLane;if(R===0)p!==null&&(p=p.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),q===Fa&&(z=!0);else if((bn&R)===R){O=O.next,R===Fa&&(z=!0);continue}else q={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},p===null?(m=p=q,h=o):p=p.next=q,fe.lanes|=R,Zn|=R;q=O.action,Sa&&n(o,q),o=O.hasEagerState?O.eagerState:n(o,q)}else R={lane:q,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},p===null?(m=p=R,h=o):p=p.next=R,fe.lanes|=q,Zn|=q;O=O.next}while(O!==null&&O!==t);if(p===null?h=o:p.next=m,!kt(o,e.memoizedState)&&(Fe=!0,z&&(n=ei,n!==null)))throw n;e.memoizedState=o,e.baseState=h,e.baseQueue=p,i.lastRenderedState=o}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function du(e){var t=Qe(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,u=n.pending,o=t.memoizedState;if(u!==null){n.pending=null;var h=u=u.next;do o=e(o,h.action),h=h.next;while(h!==u);kt(o,t.memoizedState)||(Fe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function wf(e,t,n){var i=fe,u=Qe(),o=be;if(o){if(n===void 0)throw Error(s(407));n=n()}else n=t();var h=!kt((Ce||u).memoizedState,n);if(h&&(u.memoizedState=n,Fe=!0),u=u.queue,mu(Tf.bind(null,i,u,e),[e]),u.getSnapshot!==t||h||Pe!==null&&Pe.memoizedState.tag&1){if(i.flags|=2048,li(9,{destroy:void 0},Ef.bind(null,i,u,n,t),null),Ue===null)throw Error(s(349));o||(bn&127)!==0||Sf(i,t,n)}return n}function Sf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t=hl(),fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ef(e,t,n,i){t.value=n,t.getSnapshot=i,Af(t)&&Of(e)}function Tf(e,t,n){return n(function(){Af(t)&&Of(e)})}function Af(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function Of(e){var t=da(e,2);t!==null&&Rt(t,e,2)}function yu(e){var t=pt();if(typeof e=="function"){var n=e;if(e=n(),Sa){Ve(!0);try{n()}finally{Ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:e},t}function Rf(e,t,n,i){return e.baseState=n,hu(e,Ce,typeof i=="function"?i:_n)}function em(e,t,n,i,u){if(vl(e))throw Error(s(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){o.listeners.push(h)}};j.T!==null?n(!0):o.isTransition=!1,i(o),n=t.pending,n===null?(o.next=t.pending=o,xf(t,o)):(o.next=n.next,t.pending=n.next=o)}}function xf(e,t){var n=t.action,i=t.payload,u=e.state;if(t.isTransition){var o=j.T,h={};j.T=h;try{var m=n(u,i),p=j.S;p!==null&&p(h,m),Cf(e,t,m)}catch(O){gu(e,t,O)}finally{o!==null&&h.types!==null&&(o.types=h.types),j.T=o}}else try{o=n(u,i),Cf(e,t,o)}catch(O){gu(e,t,O)}}function Cf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){jf(e,t,i)},function(i){return gu(e,t,i)}):jf(e,t,n)}function jf(e,t,n){t.status="fulfilled",t.value=n,kf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,xf(e,n)))}function gu(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,kf(t),t=t.next;while(t!==i)}e.action=null}function kf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Uf(e,t){return t}function Df(e,t){if(be){var n=Ue.formState;if(n!==null){e:{var i=fe;if(be){if(Me){t:{for(var u=Me,o=Qt;u.nodeType!==8;){if(!o){u=null;break t}if(u=It(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){Me=It(u.nextSibling),i=u.data==="F!";break e}}Hn(i)}i=!1}i&&(t=n[0])}}return n=pt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:t},n.queue=i,n=Pf.bind(null,fe,i),i.dispatch=n,i=yu(!1),o=wu.bind(null,fe,!1,i.queue),i=pt(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,n=em.bind(null,fe,u,o,n),u.dispatch=n,i.memoizedState=e,[t,n,!1]}function zf(e){var t=Qe();return Nf(t,Ce,e)}function Nf(e,t,n){if(t=hu(e,t,Uf)[0],e=yl(_n)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=nr(t)}catch(h){throw h===ti?il:h}else i=t;t=Qe();var u=t.queue,o=u.dispatch;return n!==t.memoizedState&&(fe.flags|=2048,li(9,{destroy:void 0},tm.bind(null,u,n),null)),[i,o,e]}function tm(e,t){e.action=t}function Mf(e){var t=Qe(),n=Ce;if(n!==null)return Nf(t,n,e);Qe(),t=t.memoizedState,n=Qe();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function li(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=fe.updateQueue,t===null&&(t=hl(),fe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Bf(){return Qe().memoizedState}function gl(e,t,n,i){var u=pt();fe.flags|=e,u.memoizedState=li(1|t,{destroy:void 0},n,i===void 0?null:i)}function ml(e,t,n,i){var u=Qe();i=i===void 0?null:i;var o=u.memoizedState.inst;Ce!==null&&i!==null&&lu(i,Ce.memoizedState.deps)?u.memoizedState=li(t,o,n,i):(fe.flags|=e,u.memoizedState=li(1|t,o,n,i))}function qf(e,t){gl(8390656,8,e,t)}function mu(e,t){ml(2048,8,e,t)}function nm(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=hl(),fe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Lf(e){var t=Qe().memoizedState;return nm({ref:t,nextImpl:e}),function(){if((Te&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Hf(e,t){return ml(4,2,e,t)}function $f(e,t){return ml(4,4,e,t)}function Gf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vf(e,t,n){n=n!=null?n.concat([e]):null,ml(4,4,Gf.bind(null,t,e),n)}function vu(){}function Yf(e,t){var n=Qe();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&lu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Kf(e,t){var n=Qe();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&lu(t,i[1]))return i[0];if(i=e(),Sa){Ve(!0);try{e()}finally{Ve(!1)}}return n.memoizedState=[i,t],i}function pu(e,t,n){return n===void 0||(bn&1073741824)!==0&&(ve&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Xh(),fe.lanes|=e,Zn|=e,n)}function Xf(e,t,n,i){return kt(n,t)?n:ai.current!==null?(e=pu(e,n,i),kt(e,t)||(Fe=!0),e):(bn&42)===0||(bn&1073741824)!==0&&(ve&261930)===0?(Fe=!0,e.memoizedState=n):(e=Xh(),fe.lanes|=e,Zn|=e,t)}function Jf(e,t,n,i,u){var o=K.p;K.p=o!==0&&8>o?o:8;var h=j.T,m={};j.T=m,wu(e,!1,t,n);try{var p=u(),O=j.S;if(O!==null&&O(m,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var z=Wg(p,i);ar(e,t,z,Bt(e))}else ar(e,t,i,Bt(e))}catch(q){ar(e,t,{then:function(){},status:"rejected",reason:q},Bt())}finally{K.p=o,h!==null&&m.types!==null&&(h.types=m.types),j.T=h}}function am(){}function bu(e,t,n,i){if(e.tag!==5)throw Error(s(476));var u=Qf(e).queue;Jf(e,u,t,re,n===null?am:function(){return Zf(e),n(i)})}function Qf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:re},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zf(e){var t=Qf(e);t.next===null&&(t=e.alternate.memoizedState),ar(e,t.next.queue,{},Bt())}function _u(){return ft(_r)}function If(){return Qe().memoizedState}function Wf(){return Qe().memoizedState}function im(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Bt();e=Vn(n);var i=Yn(t,e,n);i!==null&&(Rt(i,t,n),Pi(i,t,n)),t={cache:Zs()},e.payload=t;return}t=t.return}}function rm(e,t,n){var i=Bt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},vl(e)?Ff(t,n):(n=qs(e,t,n,i),n!==null&&(Rt(n,e,i),eh(n,t,i)))}function Pf(e,t,n){var i=Bt();ar(e,t,n,i)}function ar(e,t,n,i){var u={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(vl(e))Ff(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var h=t.lastRenderedState,m=o(h,n);if(u.hasEagerState=!0,u.eagerState=m,kt(m,h))return Wr(e,t,u,0),Ue===null&&Ir(),!1}catch{}if(n=qs(e,t,u,i),n!==null)return Rt(n,e,i),eh(n,t,i),!0}return!1}function wu(e,t,n,i){if(i={lane:2,revertLane:Fu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},vl(e)){if(t)throw Error(s(479))}else t=qs(e,n,i,2),t!==null&&Rt(t,e,2)}function vl(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Ff(e,t){ii=cl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eh(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ic(e,n)}}var ir={readContext:ft,use:dl,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};ir.useEffectEvent=Ye;var th={readContext:ft,use:dl,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:qf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,gl(4194308,4,Gf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gl(4194308,4,e,t)},useInsertionEffect:function(e,t){gl(4,2,e,t)},useMemo:function(e,t){var n=pt();t=t===void 0?null:t;var i=e();if(Sa){Ve(!0);try{e()}finally{Ve(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=pt();if(n!==void 0){var u=n(t);if(Sa){Ve(!0);try{n(t)}finally{Ve(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=rm.bind(null,fe,e),[i.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=yu(e);var t=e.queue,n=Pf.bind(null,fe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:vu,useDeferredValue:function(e,t){var n=pt();return pu(n,e,t)},useTransition:function(){var e=yu(!1);return e=Jf.bind(null,fe,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=fe,u=pt();if(be){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Ue===null)throw Error(s(349));(ve&127)!==0||Sf(i,t,n)}u.memoizedState=n;var o={value:n,getSnapshot:t};return u.queue=o,qf(Tf.bind(null,i,o,e),[e]),i.flags|=2048,li(9,{destroy:void 0},Ef.bind(null,i,o,n,t),null),n},useId:function(){var e=pt(),t=Ue.identifierPrefix;if(be){var n=un,i=sn;n=(i&~(1<<32-Ie(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=fl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Pg++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:_u,useFormState:Df,useActionState:Df,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=wu.bind(null,fe,!0,n),n.dispatch=t,[e,t]},useMemoCache:fu,useCacheRefresh:function(){return pt().memoizedState=im.bind(null,fe)},useEffectEvent:function(e){var t=pt(),n={impl:e};return t.memoizedState=n,function(){if((Te&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},Su={readContext:ft,use:dl,useCallback:Yf,useContext:ft,useEffect:mu,useImperativeHandle:Vf,useInsertionEffect:Hf,useLayoutEffect:$f,useMemo:Kf,useReducer:yl,useRef:Bf,useState:function(){return yl(_n)},useDebugValue:vu,useDeferredValue:function(e,t){var n=Qe();return Xf(n,Ce.memoizedState,e,t)},useTransition:function(){var e=yl(_n)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:nr(e),t]},useSyncExternalStore:wf,useId:If,useHostTransitionStatus:_u,useFormState:zf,useActionState:zf,useOptimistic:function(e,t){var n=Qe();return Rf(n,Ce,e,t)},useMemoCache:fu,useCacheRefresh:Wf};Su.useEffectEvent=Lf;var nh={readContext:ft,use:dl,useCallback:Yf,useContext:ft,useEffect:mu,useImperativeHandle:Vf,useInsertionEffect:Hf,useLayoutEffect:$f,useMemo:Kf,useReducer:du,useRef:Bf,useState:function(){return du(_n)},useDebugValue:vu,useDeferredValue:function(e,t){var n=Qe();return Ce===null?pu(n,e,t):Xf(n,Ce.memoizedState,e,t)},useTransition:function(){var e=du(_n)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:nr(e),t]},useSyncExternalStore:wf,useId:If,useHostTransitionStatus:_u,useFormState:Mf,useActionState:Mf,useOptimistic:function(e,t){var n=Qe();return Ce!==null?Rf(n,Ce,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fu,useCacheRefresh:Wf};nh.useEffectEvent=Lf;function Eu(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:E({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Tu={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Bt(),u=Vn(i);u.payload=t,n!=null&&(u.callback=n),t=Yn(e,u,i),t!==null&&(Rt(t,e,i),Pi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Bt(),u=Vn(i);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Yn(e,u,i),t!==null&&(Rt(t,e,i),Pi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bt(),i=Vn(n);i.tag=2,t!=null&&(i.callback=t),t=Yn(e,i,n),t!==null&&(Rt(t,e,n),Pi(t,e,n))}};function ah(e,t,n,i,u,o,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,h):t.prototype&&t.prototype.isPureReactComponent?!Yi(n,i)||!Yi(u,o):!0}function ih(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Tu.enqueueReplaceState(t,t.state,null)}function Ea(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=E({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function rh(e){Zr(e)}function lh(e){console.error(e)}function sh(e){Zr(e)}function pl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function uh(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Au(e,t,n){return n=Vn(n),n.tag=3,n.payload={element:null},n.callback=function(){pl(e,t)},n}function oh(e){return e=Vn(e),e.tag=3,e}function ch(e,t,n,i){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var o=i.value;e.payload=function(){return u(o)},e.callback=function(){uh(t,n,i)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){uh(t,n,i),typeof u!="function"&&(In===null?In=new Set([this]):In.add(this));var m=i.stack;this.componentDidCatch(i.value,{componentStack:m!==null?m:""})})}function lm(e,t,n,i,u){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Pa(t,n,u,!0),n=Dt.current,n!==null){switch(n.tag){case 31:case 13:return Zt===null?jl():n.alternate===null&&Ke===0&&(Ke=3),n.flags&=-257,n.flags|=65536,n.lanes=u,i===rl?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Iu(e,i,u)),!1;case 22:return n.flags|=65536,i===rl?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Iu(e,i,u)),!1}throw Error(s(435,n.tag))}return Iu(e,i,u),jl(),!1}if(be)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==Ys&&(e=Error(s(422),{cause:i}),Ji(Kt(e,n)))):(i!==Ys&&(t=Error(s(423),{cause:i}),Ji(Kt(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Kt(i,n),u=Au(e.stateNode,i,u),tu(e,u),Ke!==4&&(Ke=2)),!1;var o=Error(s(520),{cause:i});if(o=Kt(o,n),hr===null?hr=[o]:hr.push(o),Ke!==4&&(Ke=2),t===null)return!0;i=Kt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=Au(n.stateNode,i,e),tu(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(In===null||!In.has(o))))return n.flags|=65536,u&=-u,n.lanes|=u,u=oh(u),ch(u,e,n,i),tu(n,u),!1}n=n.return}while(n!==null);return!1}var Ou=Error(s(461)),Fe=!1;function ht(e,t,n,i){t.child=e===null?yf(t,null,n,i):wa(t,e.child,n,i)}function fh(e,t,n,i,u){n=n.render;var o=t.ref;if("ref"in i){var h={};for(var m in i)m!=="ref"&&(h[m]=i[m])}else h=i;return va(t),i=su(e,t,n,h,o,u),m=uu(),e!==null&&!Fe?(ou(e,t,u),wn(e,t,u)):(be&&m&&Gs(t),t.flags|=1,ht(e,t,i,u),t.child)}function hh(e,t,n,i,u){if(e===null){var o=n.type;return typeof o=="function"&&!Ls(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,dh(e,t,o,i,u)):(e=Fr(n.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!zu(e,u)){var h=o.memoizedProps;if(n=n.compare,n=n!==null?n:Yi,n(h,i)&&e.ref===t.ref)return wn(e,t,u)}return t.flags|=1,e=gn(o,i),e.ref=t.ref,e.return=t,t.child=e}function dh(e,t,n,i,u){if(e!==null){var o=e.memoizedProps;if(Yi(o,i)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=i=o,zu(e,u))(e.flags&131072)!==0&&(Fe=!0);else return t.lanes=e.lanes,wn(e,t,u)}return Ru(e,t,n,i,u)}function yh(e,t,n,i){var u=i.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(i=t.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~o}else i=0,t.child=null;return gh(e,t,o,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&al(t,o!==null?o.cachePool:null),o!==null?vf(t,o):au(),pf(t);else return i=t.lanes=536870912,gh(e,t,o!==null?o.baseLanes|n:n,n,i)}else o!==null?(al(t,o.cachePool),vf(t,o),Xn(),t.memoizedState=null):(e!==null&&al(t,null),au(),Xn());return ht(e,t,u,n),t.child}function rr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function gh(e,t,n,i,u){var o=Ws();return o=o===null?null:{parent:We._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&al(t,null),au(),pf(t),e!==null&&Pa(e,t,i,!0),t.childLanes=u,null}function bl(e,t){return t=wl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function mh(e,t,n){return wa(t,e.child,null,n),e=bl(t,t.pendingProps),e.flags|=2,zt(t),t.memoizedState=null,e}function sm(e,t,n){var i=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(be){if(i.mode==="hidden")return e=bl(t,i),t.lanes=536870912,rr(null,e);if(ru(t),(e=Me)?(e=xd(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:qn!==null?{id:sn,overflow:un}:null,retryLane:536870912,hydrationErrors:null},n=Pc(e),n.return=t,t.child=n,ct=t,Me=null)):e=null,e===null)throw Hn(t);return t.lanes=536870912,null}return bl(t,i)}var o=e.memoizedState;if(o!==null){var h=o.dehydrated;if(ru(t),u)if(t.flags&256)t.flags&=-257,t=mh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Fe||Pa(e,t,n,!1),u=(n&e.childLanes)!==0,Fe||u){if(i=Ue,i!==null&&(h=rc(i,n),h!==0&&h!==o.retryLane))throw o.retryLane=h,da(e,h),Rt(i,e,h),Ou;jl(),t=mh(e,t,n)}else e=o.treeContext,Me=It(h.nextSibling),ct=t,be=!0,Ln=null,Qt=!1,e!==null&&tf(t,e),t=bl(t,i),t.flags|=4096;return t}return e=gn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function _l(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ru(e,t,n,i,u){return va(t),n=su(e,t,n,i,void 0,u),i=uu(),e!==null&&!Fe?(ou(e,t,u),wn(e,t,u)):(be&&i&&Gs(t),t.flags|=1,ht(e,t,n,u),t.child)}function vh(e,t,n,i,u,o){return va(t),t.updateQueue=null,n=_f(t,i,n,u),bf(e),i=uu(),e!==null&&!Fe?(ou(e,t,o),wn(e,t,o)):(be&&i&&Gs(t),t.flags|=1,ht(e,t,n,o),t.child)}function ph(e,t,n,i,u){if(va(t),t.stateNode===null){var o=Qa,h=n.contextType;typeof h=="object"&&h!==null&&(o=ft(h)),o=new n(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Tu,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},Fs(t),h=n.contextType,o.context=typeof h=="object"&&h!==null?ft(h):Qa,o.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Eu(t,n,h,i),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(h=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),h!==o.state&&Tu.enqueueReplaceState(o,o.state,null),er(t,i,o,u),Fi(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var m=t.memoizedProps,p=Ea(n,m);o.props=p;var O=o.context,z=n.contextType;h=Qa,typeof z=="object"&&z!==null&&(h=ft(z));var q=n.getDerivedStateFromProps;z=typeof q=="function"||typeof o.getSnapshotBeforeUpdate=="function",m=t.pendingProps!==m,z||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(m||O!==h)&&ih(t,o,i,h),Gn=!1;var R=t.memoizedState;o.state=R,er(t,i,o,u),Fi(),O=t.memoizedState,m||R!==O||Gn?(typeof q=="function"&&(Eu(t,n,q,i),O=t.memoizedState),(p=Gn||ah(t,n,p,i,R,O,h))?(z||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=O),o.props=i,o.state=O,o.context=h,i=p):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,eu(e,t),h=t.memoizedProps,z=Ea(n,h),o.props=z,q=t.pendingProps,R=o.context,O=n.contextType,p=Qa,typeof O=="object"&&O!==null&&(p=ft(O)),m=n.getDerivedStateFromProps,(O=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(h!==q||R!==p)&&ih(t,o,i,p),Gn=!1,R=t.memoizedState,o.state=R,er(t,i,o,u),Fi();var C=t.memoizedState;h!==q||R!==C||Gn||e!==null&&e.dependencies!==null&&tl(e.dependencies)?(typeof m=="function"&&(Eu(t,n,m,i),C=t.memoizedState),(z=Gn||ah(t,n,z,i,R,C,p)||e!==null&&e.dependencies!==null&&tl(e.dependencies))?(O||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,C,p),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,C,p)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=C),o.props=i,o.state=C,o.context=p,i=z):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,_l(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=wa(t,e.child,null,u),t.child=wa(t,null,n,u)):ht(e,t,n,u),t.memoizedState=o.state,e=t.child):e=wn(e,t,u),e}function bh(e,t,n,i){return ga(),t.flags|=256,ht(e,t,n,i),t.child}var xu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cu(e){return{baseLanes:e,cachePool:uf()}}function ju(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Mt),e}function _h(e,t,n){var i=t.pendingProps,u=!1,o=(t.flags&128)!==0,h;if((h=o)||(h=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),h&&(u=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(be){if(u?Kn(t):Xn(),(e=Me)?(e=xd(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:qn!==null?{id:sn,overflow:un}:null,retryLane:536870912,hydrationErrors:null},n=Pc(e),n.return=t,t.child=n,ct=t,Me=null)):e=null,e===null)throw Hn(t);return ho(e)?t.lanes=32:t.lanes=536870912,null}var m=i.children;return i=i.fallback,u?(Xn(),u=t.mode,m=wl({mode:"hidden",children:m},u),i=ya(i,u,n,null),m.return=t,i.return=t,m.sibling=i,t.child=m,i=t.child,i.memoizedState=Cu(n),i.childLanes=ju(e,h,n),t.memoizedState=xu,rr(null,i)):(Kn(t),ku(t,m))}var p=e.memoizedState;if(p!==null&&(m=p.dehydrated,m!==null)){if(o)t.flags&256?(Kn(t),t.flags&=-257,t=Uu(e,t,n)):t.memoizedState!==null?(Xn(),t.child=e.child,t.flags|=128,t=null):(Xn(),m=i.fallback,u=t.mode,i=wl({mode:"visible",children:i.children},u),m=ya(m,u,n,null),m.flags|=2,i.return=t,m.return=t,i.sibling=m,t.child=i,wa(t,e.child,null,n),i=t.child,i.memoizedState=Cu(n),i.childLanes=ju(e,h,n),t.memoizedState=xu,t=rr(null,i));else if(Kn(t),ho(m)){if(h=m.nextSibling&&m.nextSibling.dataset,h)var O=h.dgst;h=O,i=Error(s(419)),i.stack="",i.digest=h,Ji({value:i,source:null,stack:null}),t=Uu(e,t,n)}else if(Fe||Pa(e,t,n,!1),h=(n&e.childLanes)!==0,Fe||h){if(h=Ue,h!==null&&(i=rc(h,n),i!==0&&i!==p.retryLane))throw p.retryLane=i,da(e,i),Rt(h,e,i),Ou;fo(m)||jl(),t=Uu(e,t,n)}else fo(m)?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,Me=It(m.nextSibling),ct=t,be=!0,Ln=null,Qt=!1,e!==null&&tf(t,e),t=ku(t,i.children),t.flags|=4096);return t}return u?(Xn(),m=i.fallback,u=t.mode,p=e.child,O=p.sibling,i=gn(p,{mode:"hidden",children:i.children}),i.subtreeFlags=p.subtreeFlags&65011712,O!==null?m=gn(O,m):(m=ya(m,u,n,null),m.flags|=2),m.return=t,i.return=t,i.sibling=m,t.child=i,rr(null,i),i=t.child,m=e.child.memoizedState,m===null?m=Cu(n):(u=m.cachePool,u!==null?(p=We._currentValue,u=u.parent!==p?{parent:p,pool:p}:u):u=uf(),m={baseLanes:m.baseLanes|n,cachePool:u}),i.memoizedState=m,i.childLanes=ju(e,h,n),t.memoizedState=xu,rr(e.child,i)):(Kn(t),n=e.child,e=n.sibling,n=gn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function ku(e,t){return t=wl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function wl(e,t){return e=Ut(22,e,null,t),e.lanes=0,e}function Uu(e,t,n){return wa(t,e.child,null,n),e=ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Js(e.return,t,n)}function Du(e,t,n,i,u,o){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:u,treeForkCount:o}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=n,h.tailMode=u,h.treeForkCount=o)}function Sh(e,t,n){var i=t.pendingProps,u=i.revealOrder,o=i.tail;i=i.children;var h=Je.current,m=(h&2)!==0;if(m?(h=h&1|2,t.flags|=128):h&=1,X(Je,h),ht(e,t,i,n),i=be?Xi:0,!m&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wh(e,n,t);else if(e.tag===19)wh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&ol(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),Du(t,!1,u,n,o,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&ol(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}Du(t,!0,n,null,o,i);break;case"together":Du(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Pa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&tl(e)))}function um(e,t,n){switch(t.tag){case 3:ut(t,t.stateNode.containerInfo),$n(t,We,e.memoizedState.cache),ga();break;case 27:case 5:ua(t);break;case 4:ut(t,t.stateNode.containerInfo);break;case 10:$n(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ru(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Kn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?_h(e,t,n):(Kn(t),e=wn(e,t,n),e!==null?e.sibling:null);Kn(t);break;case 19:var u=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Pa(e,t,n,!1),i=(n&t.childLanes)!==0),u){if(i)return Sh(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),X(Je,Je.current),i)break;return null;case 22:return t.lanes=0,yh(e,t,n,t.pendingProps);case 24:$n(t,We,e.memoizedState.cache)}return wn(e,t,n)}function Eh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Fe=!0;else{if(!zu(e,n)&&(t.flags&128)===0)return Fe=!1,um(e,t,n);Fe=(e.flags&131072)!==0}else Fe=!1,be&&(t.flags&1048576)!==0&&ef(t,Xi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ba(t.elementType),t.type=e,typeof e=="function")Ls(e)?(i=Ea(e,i),t.tag=1,t=ph(null,t,e,i,n)):(t.tag=0,t=Ru(null,t,e,i,n));else{if(e!=null){var u=e.$$typeof;if(u===$){t.tag=11,t=fh(null,t,e,i,n);break e}else if(u===Y){t.tag=14,t=hh(null,t,e,i,n);break e}}throw t=Pt(e)||e,Error(s(306,t,""))}}return t;case 0:return Ru(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,u=Ea(i,t.pendingProps),ph(e,t,i,u,n);case 3:e:{if(ut(t,t.stateNode.containerInfo),e===null)throw Error(s(387));i=t.pendingProps;var o=t.memoizedState;u=o.element,eu(e,t),er(t,i,null,n);var h=t.memoizedState;if(i=h.cache,$n(t,We,i),i!==o.cache&&Qs(t,[We],n,!0),Fi(),i=h.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=bh(e,t,i,n);break e}else if(i!==u){u=Kt(Error(s(424)),t),Ji(u),t=bh(e,t,i,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Me=It(e.firstChild),ct=t,be=!0,Ln=null,Qt=!0,n=yf(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ga(),i===u){t=wn(e,t,n);break e}ht(e,t,i,n)}t=t.child}return t;case 26:return _l(e,t),e===null?(n=zd(t.type,null,t.pendingProps,null))?t.memoizedState=n:be||(n=t.type,e=t.pendingProps,i=Bl(de.current).createElement(n),i[ot]=t,i[wt]=e,dt(i,n,e),lt(i),t.stateNode=i):t.memoizedState=zd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ua(t),e===null&&be&&(i=t.stateNode=kd(t.type,t.pendingProps,de.current),ct=t,Qt=!0,u=Me,ea(t.type)?(yo=u,Me=It(i.firstChild)):Me=u),ht(e,t,t.pendingProps.children,n),_l(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&be&&((u=i=Me)&&(i=qm(i,t.type,t.pendingProps,Qt),i!==null?(t.stateNode=i,ct=t,Me=It(i.firstChild),Qt=!1,u=!0):u=!1),u||Hn(t)),ua(t),u=t.type,o=t.pendingProps,h=e!==null?e.memoizedProps:null,i=o.children,uo(u,o)?i=null:h!==null&&uo(u,h)&&(t.flags|=32),t.memoizedState!==null&&(u=su(e,t,Fg,null,null,n),_r._currentValue=u),_l(e,t),ht(e,t,i,n),t.child;case 6:return e===null&&be&&((e=n=Me)&&(n=Lm(n,t.pendingProps,Qt),n!==null?(t.stateNode=n,ct=t,Me=null,e=!0):e=!1),e||Hn(t)),null;case 13:return _h(e,t,n);case 4:return ut(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=wa(t,null,i,n):ht(e,t,i,n),t.child;case 11:return fh(e,t,t.type,t.pendingProps,n);case 7:return ht(e,t,t.pendingProps,n),t.child;case 8:return ht(e,t,t.pendingProps.children,n),t.child;case 12:return ht(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,$n(t,t.type,i.value),ht(e,t,i.children,n),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,va(t),u=ft(u),i=i(u),t.flags|=1,ht(e,t,i,n),t.child;case 14:return hh(e,t,t.type,t.pendingProps,n);case 15:return dh(e,t,t.type,t.pendingProps,n);case 19:return Sh(e,t,n);case 31:return sm(e,t,n);case 22:return yh(e,t,n,t.pendingProps);case 24:return va(t),i=ft(We),e===null?(u=Ws(),u===null&&(u=Ue,o=Zs(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=n),u=o),t.memoizedState={parent:i,cache:u},Fs(t),$n(t,We,u)):((e.lanes&n)!==0&&(eu(e,t),er(t,null,null,n),Fi()),u=e.memoizedState,o=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),$n(t,We,i)):(i=o.cache,$n(t,We,i),i!==u.cache&&Qs(t,[We],n,!0))),ht(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Sn(e){e.flags|=4}function Nu(e,t,n,i,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Ih())e.flags|=8192;else throw _a=rl,Ps}else e.flags&=-16777217}function Th(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ld(t))if(Ih())e.flags|=8192;else throw _a=rl,Ps}function Sl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?nc():536870912,e.lanes|=t,ci|=t)}function lr(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function om(e,t,n){var i=t.pendingProps;switch(Vs(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),pn(We),Le(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wa(t)?Sn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ks())),Be(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(Sn(t),o!==null?(Be(t),Th(t,o)):(Be(t),Nu(t,u,null,i,n))):o?o!==e.memoizedState?(Sn(t),Be(t),Th(t,o)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Sn(t),Be(t),Nu(t,u,e,i,n)),null;case 27:if(Un(t),n=de.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Sn(t);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Be(t),null}e=W.current,Wa(t)?nf(t):(e=kd(u,i,n),t.stateNode=e,Sn(t))}return Be(t),null;case 5:if(Un(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Sn(t);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Be(t),null}if(o=W.current,Wa(t))nf(t);else{var h=Bl(de.current);switch(o){case 1:o=h.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=h.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=h.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=h.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=h.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof i.is=="string"?h.createElement("select",{is:i.is}):h.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o=typeof i.is=="string"?h.createElement(u,{is:i.is}):h.createElement(u)}}o[ot]=t,o[wt]=i;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=o;e:switch(dt(o,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Sn(t)}}return Be(t),Nu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Sn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(e=de.current,Wa(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,u=ct,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[ot]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||_d(e.nodeValue,n)),e||Hn(t,!0)}else e=Bl(e).createTextNode(i),e[ot]=t,t.stateNode=e}return Be(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Wa(t),n!==null){if(e===null){if(!i)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ot]=t}else ga(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else n=Ks(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(zt(t),t):(zt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Be(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Wa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(s(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));u[ot]=t}else ga(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),u=!1}else u=Ks(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(zt(t),t):(zt(t),null)}return zt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==u&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Sl(t,t.updateQueue),Be(t),null);case 4:return Le(),e===null&&ao(t.stateNode.containerInfo),Be(t),null;case 10:return pn(t.type),Be(t),null;case 19:if(B(Je),i=t.memoizedState,i===null)return Be(t),null;if(u=(t.flags&128)!==0,o=i.rendering,o===null)if(u)lr(i,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=ol(e),o!==null){for(t.flags|=128,lr(i,!1),e=o.updateQueue,t.updateQueue=e,Sl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Wc(n,e),n=n.sibling;return X(Je,Je.current&1|2),be&&mn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&vt()>Rl&&(t.flags|=128,u=!0,lr(i,!1),t.lanes=4194304)}else{if(!u)if(e=ol(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Sl(t,e),lr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!be)return Be(t),null}else 2*vt()-i.renderingStartTime>Rl&&n!==536870912&&(t.flags|=128,u=!0,lr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=vt(),e.sibling=null,n=Je.current,X(Je,u?n&1|2:n&1),be&&mn(t,i.treeForkCount),e):(Be(t),null);case 22:case 23:return zt(t),iu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),n=t.updateQueue,n!==null&&Sl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&B(pa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),pn(We),Be(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function cm(e,t){switch(Vs(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pn(We),Le(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Un(t),null;case 31:if(t.memoizedState!==null){if(zt(t),t.alternate===null)throw Error(s(340));ga()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));ga()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(Je),null;case 4:return Le(),null;case 10:return pn(t.type),null;case 22:case 23:return zt(t),iu(),e!==null&&B(pa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pn(We),null;case 25:return null;default:return null}}function Ah(e,t){switch(Vs(t),t.tag){case 3:pn(We),Le();break;case 26:case 27:case 5:Un(t);break;case 4:Le();break;case 31:t.memoizedState!==null&&zt(t);break;case 13:zt(t);break;case 19:B(Je);break;case 10:pn(t.type);break;case 22:case 23:zt(t),iu(),e!==null&&B(pa);break;case 24:pn(We)}}function sr(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var u=i.next;n=u;do{if((n.tag&e)===e){i=void 0;var o=n.create,h=n.inst;i=o(),h.destroy=i}n=n.next}while(n!==u)}}catch(m){Re(t,t.return,m)}}function Jn(e,t,n){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var o=u.next;i=o;do{if((i.tag&e)===e){var h=i.inst,m=h.destroy;if(m!==void 0){h.destroy=void 0,u=t;var p=n,O=m;try{O()}catch(z){Re(u,p,z)}}}i=i.next}while(i!==o)}}catch(z){Re(t,t.return,z)}}function Oh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{mf(t,n)}catch(i){Re(e,e.return,i)}}}function Rh(e,t,n){n.props=Ea(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Re(e,t,i)}}function ur(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(u){Re(e,t,u)}}function on(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(u){Re(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Re(e,t,u)}else n.current=null}function xh(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(u){Re(e,e.return,u)}}function Mu(e,t,n){try{var i=e.stateNode;Um(i,e.type,n,t),i[wt]=t}catch(u){Re(e,e.return,u)}}function Ch(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ea(e.type)||e.tag===4}function Bu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ch(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ea(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dn));else if(i!==4&&(i===27&&ea(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(qu(e,t,n),e=e.sibling;e!==null;)qu(e,t,n),e=e.sibling}function El(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&ea(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(El(e,t,n),e=e.sibling;e!==null;)El(e,t,n),e=e.sibling}function jh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);dt(t,i,n),t[ot]=e,t[wt]=n}catch(o){Re(e,e.return,o)}}var En=!1,et=!1,Lu=!1,kh=typeof WeakSet=="function"?WeakSet:Set,st=null;function fm(e,t){if(e=e.containerInfo,lo=Yl,e=Gc(e),Us(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var u=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var h=0,m=-1,p=-1,O=0,z=0,q=e,R=null;t:for(;;){for(var C;q!==n||u!==0&&q.nodeType!==3||(m=h+u),q!==o||i!==0&&q.nodeType!==3||(p=h+i),q.nodeType===3&&(h+=q.nodeValue.length),(C=q.firstChild)!==null;)R=q,q=C;for(;;){if(q===e)break t;if(R===n&&++O===u&&(m=h),R===o&&++z===i&&(p=h),(C=q.nextSibling)!==null)break;q=R,R=q.parentNode}q=C}n=m===-1||p===-1?null:{start:m,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(so={focusedElem:e,selectionRange:n},Yl=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,u=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var I=Ea(n.type,u);e=i.getSnapshotBeforeUpdate(I,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(ie){Re(n,n.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)co(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":co(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function Uh(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:An(e,n),i&4&&sr(5,n);break;case 1:if(An(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){Re(n,n.return,h)}else{var u=Ea(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Re(n,n.return,h)}}i&64&&Oh(n),i&512&&ur(n,n.return);break;case 3:if(An(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{mf(e,t)}catch(h){Re(n,n.return,h)}}break;case 27:t===null&&i&4&&jh(n);case 26:case 5:An(e,n),t===null&&i&4&&xh(n),i&512&&ur(n,n.return);break;case 12:An(e,n);break;case 31:An(e,n),i&4&&Nh(e,n);break;case 13:An(e,n),i&4&&Mh(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=_m.bind(null,n),Hm(e,n))));break;case 22:if(i=n.memoizedState!==null||En,!i){t=t!==null&&t.memoizedState!==null||et,u=En;var o=et;En=i,(et=t)&&!o?On(e,n,(n.subtreeFlags&8772)!==0):An(e,n),En=u,et=o}break;case 30:break;default:An(e,n)}}function Dh(e){var t=e.alternate;t!==null&&(e.alternate=null,Dh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&gs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,Et=!1;function Tn(e,t,n){for(n=n.child;n!==null;)zh(e,t,n),n=n.sibling}function zh(e,t,n){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(_t,n)}catch{}switch(n.tag){case 26:et||on(n,t),Tn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:et||on(n,t);var i=qe,u=Et;ea(n.type)&&(qe=n.stateNode,Et=!1),Tn(e,t,n),vr(n.stateNode),qe=i,Et=u;break;case 5:et||on(n,t);case 6:if(i=qe,u=Et,qe=null,Tn(e,t,n),qe=i,Et=u,qe!==null)if(Et)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(n.stateNode)}catch(o){Re(n,t,o)}else try{qe.removeChild(n.stateNode)}catch(o){Re(n,t,o)}break;case 18:qe!==null&&(Et?(e=qe,Od(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),pi(e)):Od(qe,n.stateNode));break;case 4:i=qe,u=Et,qe=n.stateNode.containerInfo,Et=!0,Tn(e,t,n),qe=i,Et=u;break;case 0:case 11:case 14:case 15:Jn(2,n,t),et||Jn(4,n,t),Tn(e,t,n);break;case 1:et||(on(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Rh(n,t,i)),Tn(e,t,n);break;case 21:Tn(e,t,n);break;case 22:et=(i=et)||n.memoizedState!==null,Tn(e,t,n),et=i;break;default:Tn(e,t,n)}}function Nh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{pi(e)}catch(n){Re(t,t.return,n)}}}function Mh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{pi(e)}catch(n){Re(t,t.return,n)}}function hm(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new kh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new kh),t;default:throw Error(s(435,e.tag))}}function Tl(e,t){var n=hm(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var u=wm.bind(null,e,i);i.then(u,u)}})}function Tt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var u=n[i],o=e,h=t,m=h;e:for(;m!==null;){switch(m.tag){case 27:if(ea(m.type)){qe=m.stateNode,Et=!1;break e}break;case 5:qe=m.stateNode,Et=!1;break e;case 3:case 4:qe=m.stateNode.containerInfo,Et=!0;break e}m=m.return}if(qe===null)throw Error(s(160));zh(o,h,u),qe=null,Et=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Bh(t,e),t=t.sibling}var tn=null;function Bh(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),At(e),i&4&&(Jn(3,e,e.return),sr(3,e),Jn(5,e,e.return));break;case 1:Tt(t,e),At(e),i&512&&(et||n===null||on(n,n.return)),i&64&&En&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var u=tn;if(Tt(t,e),At(e),i&512&&(et||n===null||on(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":o=u.getElementsByTagName("title")[0],(!o||o[Ni]||o[ot]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(i),u.head.insertBefore(o,u.querySelector("head > title"))),dt(o,i,n),o[ot]=e,lt(o),i=o;break e;case"link":var h=Bd("link","href",u).get(i+(n.href||""));if(h){for(var m=0;m<h.length;m++)if(o=h[m],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(m,1);break t}}o=u.createElement(i),dt(o,i,n),u.head.appendChild(o);break;case"meta":if(h=Bd("meta","content",u).get(i+(n.content||""))){for(m=0;m<h.length;m++)if(o=h[m],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(m,1);break t}}o=u.createElement(i),dt(o,i,n),u.head.appendChild(o);break;default:throw Error(s(468,i))}o[ot]=e,lt(o),i=o}e.stateNode=i}else qd(u,e.type,e.stateNode);else e.stateNode=Md(u,i,e.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?qd(u,e.type,e.stateNode):Md(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Mu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Tt(t,e),At(e),i&512&&(et||n===null||on(n,n.return)),n!==null&&i&4&&Mu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Tt(t,e),At(e),i&512&&(et||n===null||on(n,n.return)),e.flags&32){u=e.stateNode;try{$a(u,"")}catch(I){Re(e,e.return,I)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,Mu(e,u,n!==null?n.memoizedProps:u)),i&1024&&(Lu=!0);break;case 6:if(Tt(t,e),At(e),i&4){if(e.stateNode===null)throw Error(s(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(I){Re(e,e.return,I)}}break;case 3:if(Hl=null,u=tn,tn=ql(t.containerInfo),Tt(t,e),tn=u,At(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{pi(t.containerInfo)}catch(I){Re(e,e.return,I)}Lu&&(Lu=!1,qh(e));break;case 4:i=tn,tn=ql(e.stateNode.containerInfo),Tt(t,e),At(e),tn=i;break;case 12:Tt(t,e),At(e);break;case 31:Tt(t,e),At(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Tl(e,i)));break;case 13:Tt(t,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ol=vt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Tl(e,i)));break;case 22:u=e.memoizedState!==null;var p=n!==null&&n.memoizedState!==null,O=En,z=et;if(En=O||u,et=z||p,Tt(t,e),et=z,En=O,At(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||p||En||et||Ta(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){p=n=t;try{if(o=p.stateNode,u)h=o.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{m=p.stateNode;var q=p.memoizedProps.style,R=q!=null&&q.hasOwnProperty("display")?q.display:null;m.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(I){Re(p,p.return,I)}}}else if(t.tag===6){if(n===null){p=t;try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(I){Re(p,p.return,I)}}}else if(t.tag===18){if(n===null){p=t;try{var C=p.stateNode;u?Rd(C,!0):Rd(p.stateNode,!1)}catch(I){Re(p,p.return,I)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Tl(e,n))));break;case 19:Tt(t,e),At(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Tl(e,i)));break;case 30:break;case 21:break;default:Tt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Ch(i)){n=i;break}i=i.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var u=n.stateNode,o=Bu(e);El(e,o,u);break;case 5:var h=n.stateNode;n.flags&32&&($a(h,""),n.flags&=-33);var m=Bu(e);El(e,m,h);break;case 3:case 4:var p=n.stateNode.containerInfo,O=Bu(e);qu(e,O,p);break;default:throw Error(s(161))}}catch(z){Re(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;qh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function An(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Uh(e,t.alternate,t),t=t.sibling}function Ta(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Jn(4,t,t.return),Ta(t);break;case 1:on(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Rh(t,t.return,n),Ta(t);break;case 27:vr(t.stateNode);case 26:case 5:on(t,t.return),Ta(t);break;case 22:t.memoizedState===null&&Ta(t);break;case 30:Ta(t);break;default:Ta(t)}e=e.sibling}}function On(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,o=t,h=o.flags;switch(o.tag){case 0:case 11:case 15:On(u,o,n),sr(4,o);break;case 1:if(On(u,o,n),i=o,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(O){Re(i,i.return,O)}if(i=o,u=i.updateQueue,u!==null){var m=i.stateNode;try{var p=u.shared.hiddenCallbacks;if(p!==null)for(u.shared.hiddenCallbacks=null,u=0;u<p.length;u++)gf(p[u],m)}catch(O){Re(i,i.return,O)}}n&&h&64&&Oh(o),ur(o,o.return);break;case 27:jh(o);case 26:case 5:On(u,o,n),n&&i===null&&h&4&&xh(o),ur(o,o.return);break;case 12:On(u,o,n);break;case 31:On(u,o,n),n&&h&4&&Nh(u,o);break;case 13:On(u,o,n),n&&h&4&&Mh(u,o);break;case 22:o.memoizedState===null&&On(u,o,n),ur(o,o.return);break;case 30:break;default:On(u,o,n)}t=t.sibling}}function Hu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Qi(n))}function $u(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qi(e))}function nn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lh(e,t,n,i),t=t.sibling}function Lh(e,t,n,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:nn(e,t,n,i),u&2048&&sr(9,t);break;case 1:nn(e,t,n,i);break;case 3:nn(e,t,n,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qi(e)));break;case 12:if(u&2048){nn(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,h=o.id,m=o.onPostCommit;typeof m=="function"&&m(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){Re(t,t.return,p)}}else nn(e,t,n,i);break;case 31:nn(e,t,n,i);break;case 13:nn(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,h=t.alternate,t.memoizedState!==null?o._visibility&2?nn(e,t,n,i):or(e,t):o._visibility&2?nn(e,t,n,i):(o._visibility|=2,si(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Hu(h,t);break;case 24:nn(e,t,n,i),u&2048&&$u(t.alternate,t);break;default:nn(e,t,n,i)}}function si(e,t,n,i,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,h=t,m=n,p=i,O=h.flags;switch(h.tag){case 0:case 11:case 15:si(o,h,m,p,u),sr(8,h);break;case 23:break;case 22:var z=h.stateNode;h.memoizedState!==null?z._visibility&2?si(o,h,m,p,u):or(o,h):(z._visibility|=2,si(o,h,m,p,u)),u&&O&2048&&Hu(h.alternate,h);break;case 24:si(o,h,m,p,u),u&&O&2048&&$u(h.alternate,h);break;default:si(o,h,m,p,u)}t=t.sibling}}function or(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,u=i.flags;switch(i.tag){case 22:or(n,i),u&2048&&Hu(i.alternate,i);break;case 24:or(n,i),u&2048&&$u(i.alternate,i);break;default:or(n,i)}t=t.sibling}}var cr=8192;function ui(e,t,n){if(e.subtreeFlags&cr)for(e=e.child;e!==null;)Hh(e,t,n),e=e.sibling}function Hh(e,t,n){switch(e.tag){case 26:ui(e,t,n),e.flags&cr&&e.memoizedState!==null&&Pm(n,tn,e.memoizedState,e.memoizedProps);break;case 5:ui(e,t,n);break;case 3:case 4:var i=tn;tn=ql(e.stateNode.containerInfo),ui(e,t,n),tn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=cr,cr=16777216,ui(e,t,n),cr=i):ui(e,t,n));break;default:ui(e,t,n)}}function $h(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function fr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];st=i,Vh(i,e)}$h(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gh(e),e=e.sibling}function Gh(e){switch(e.tag){case 0:case 11:case 15:fr(e),e.flags&2048&&Jn(9,e,e.return);break;case 3:fr(e);break;case 12:fr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Al(e)):fr(e);break;default:fr(e)}}function Al(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];st=i,Vh(i,e)}$h(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Jn(8,t,t.return),Al(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Al(t));break;default:Al(t)}e=e.sibling}}function Vh(e,t){for(;st!==null;){var n=st;switch(n.tag){case 0:case 11:case 15:Jn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Qi(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,st=i;else e:for(n=e;st!==null;){i=st;var u=i.sibling,o=i.return;if(Dh(i),i===n){st=null;break e}if(u!==null){u.return=o,st=u;break e}st=o}}}var dm={getCacheForType:function(e){var t=ft(We),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ft(We).controller.signal}},ym=typeof WeakMap=="function"?WeakMap:Map,Te=0,Ue=null,ye=null,ve=0,Oe=0,Nt=null,Qn=!1,oi=!1,Gu=!1,Rn=0,Ke=0,Zn=0,Aa=0,Vu=0,Mt=0,ci=0,hr=null,Ot=null,Yu=!1,Ol=0,Yh=0,Rl=1/0,xl=null,In=null,nt=0,Wn=null,fi=null,xn=0,Ku=0,Xu=null,Kh=null,dr=0,Ju=null;function Bt(){return(Te&2)!==0&&ve!==0?ve&-ve:j.T!==null?Fu():lc()}function Xh(){if(Mt===0)if((ve&536870912)===0||be){var e=Nn;Nn<<=1,(Nn&3932160)===0&&(Nn=262144),Mt=e}else Mt=536870912;return e=Dt.current,e!==null&&(e.flags|=32),Mt}function Rt(e,t,n){(e===Ue&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(hi(e,0),Pn(e,ve,Mt,!1)),zi(e,n),((Te&2)===0||e!==Ue)&&(e===Ue&&((Te&2)===0&&(Aa|=n),Ke===4&&Pn(e,ve,Mt,!1)),cn(e))}function Jh(e,t,n){if((Te&6)!==0)throw Error(s(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Di(e,t),u=i?vm(e,t):Zu(e,t,!0),o=i;do{if(u===0){oi&&!i&&Pn(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!gm(n)){u=Zu(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var m=e;u=hr;var p=m.current.memoizedState.isDehydrated;if(p&&(hi(m,h).flags|=256),h=Zu(m,h,!1),h!==2){if(Gu&&!p){m.errorRecoveryDisabledLanes|=o,Aa|=o,u=4;break e}o=Ot,Ot=u,o!==null&&(Ot===null?Ot=o:Ot.push.apply(Ot,o))}u=h}if(o=!1,u!==2)continue}}if(u===1){hi(e,0),Pn(e,t,0,!0);break}e:{switch(i=e,o=u,o){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Pn(i,t,Mt,!Qn);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(u=Ol+300-vt(),10<u)){if(Pn(i,t,Mt,!Qn),qr(i,0,!0)!==0)break e;xn=t,i.timeoutHandle=Td(Qh.bind(null,i,n,Ot,xl,Yu,t,Mt,Aa,ci,Qn,o,"Throttled",-0,0),u);break e}Qh(i,n,Ot,xl,Yu,t,Mt,Aa,ci,Qn,o,null,-0,0)}}break}while(!0);cn(e)}function Qh(e,t,n,i,u,o,h,m,p,O,z,q,R,C){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:dn},Hh(t,o,q);var I=(o&62914560)===o?Ol-vt():(o&4194048)===o?Yh-vt():0;if(I=Fm(q,I),I!==null){xn=o,e.cancelPendingCommit=I(nd.bind(null,e,t,o,n,i,u,h,m,p,z,q,null,R,C)),Pn(e,o,h,!O);return}}nd(e,t,o,n,i,u,h,m,p)}function gm(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var u=n[i],o=u.getSnapshot;u=u.value;try{if(!kt(o(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t,n,i){t&=~Vu,t&=~Aa,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var o=31-Ie(u),h=1<<o;i[o]=-1,u&=~h}n!==0&&ac(e,n,t)}function Cl(){return(Te&6)===0?(yr(0),!1):!0}function Qu(){if(ye!==null){if(Oe===0)var e=ye.return;else e=ye,vn=ma=null,cu(e),ni=null,Ii=0,e=ye;for(;e!==null;)Ah(e.alternate,e),e=e.return;ye=null}}function hi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Nm(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),xn=0,Qu(),Ue=e,ye=n=gn(e.current,null),ve=t,Oe=0,Nt=null,Qn=!1,oi=Di(e,t),Gu=!1,ci=Mt=Vu=Aa=Zn=Ke=0,Ot=hr=null,Yu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-Ie(i),o=1<<u;t|=e[u],i&=~o}return Rn=t,Ir(),n}function Zh(e,t){fe=null,j.H=ir,t===ti||t===il?(t=ff(),Oe=3):t===Ps?(t=ff(),Oe=4):Oe=t===Ou?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Nt=t,ye===null&&(Ke=1,pl(e,Kt(t,e.current)))}function Ih(){var e=Dt.current;return e===null?!0:(ve&4194048)===ve?Zt===null:(ve&62914560)===ve||(ve&536870912)!==0?e===Zt:!1}function Wh(){var e=j.H;return j.H=ir,e===null?ir:e}function Ph(){var e=j.A;return j.A=dm,e}function jl(){Ke=4,Qn||(ve&4194048)!==ve&&Dt.current!==null||(oi=!0),(Zn&134217727)===0&&(Aa&134217727)===0||Ue===null||Pn(Ue,ve,Mt,!1)}function Zu(e,t,n){var i=Te;Te|=2;var u=Wh(),o=Ph();(Ue!==e||ve!==t)&&(xl=null,hi(e,t)),t=!1;var h=Ke;e:do try{if(Oe!==0&&ye!==null){var m=ye,p=Nt;switch(Oe){case 8:Qu(),h=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var O=Oe;if(Oe=0,Nt=null,di(e,m,p,O),n&&oi){h=0;break e}break;default:O=Oe,Oe=0,Nt=null,di(e,m,p,O)}}mm(),h=Ke;break}catch(z){Zh(e,z)}while(!0);return t&&e.shellSuspendCounter++,vn=ma=null,Te=i,j.H=u,j.A=o,ye===null&&(Ue=null,ve=0,Ir()),h}function mm(){for(;ye!==null;)Fh(ye)}function vm(e,t){var n=Te;Te|=2;var i=Wh(),u=Ph();Ue!==e||ve!==t?(xl=null,Rl=vt()+500,hi(e,t)):oi=Di(e,t);e:do try{if(Oe!==0&&ye!==null){t=ye;var o=Nt;t:switch(Oe){case 1:Oe=0,Nt=null,di(e,t,o,1);break;case 2:case 9:if(of(o)){Oe=0,Nt=null,ed(t);break}t=function(){Oe!==2&&Oe!==9||Ue!==e||(Oe=7),cn(e)},o.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:of(o)?(Oe=0,Nt=null,ed(t)):(Oe=0,Nt=null,di(e,t,o,7));break;case 5:var h=null;switch(ye.tag){case 26:h=ye.memoizedState;case 5:case 27:var m=ye;if(h?Ld(h):m.stateNode.complete){Oe=0,Nt=null;var p=m.sibling;if(p!==null)ye=p;else{var O=m.return;O!==null?(ye=O,kl(O)):ye=null}break t}}Oe=0,Nt=null,di(e,t,o,5);break;case 6:Oe=0,Nt=null,di(e,t,o,6);break;case 8:Qu(),Ke=6;break e;default:throw Error(s(462))}}pm();break}catch(z){Zh(e,z)}while(!0);return vn=ma=null,j.H=i,j.A=u,Te=n,ye!==null?0:(Ue=null,ve=0,Ir(),Ke)}function pm(){for(;ye!==null&&!us();)Fh(ye)}function Fh(e){var t=Eh(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?kl(e):ye=t}function ed(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=vh(n,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=vh(n,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:cu(t);default:Ah(n,t),t=ye=Wc(t,Rn),t=Eh(n,t,Rn)}e.memoizedProps=e.pendingProps,t===null?kl(e):ye=t}function di(e,t,n,i){vn=ma=null,cu(t),ni=null,Ii=0;var u=t.return;try{if(lm(e,u,t,n,ve)){Ke=1,pl(e,Kt(n,e.current)),ye=null;return}}catch(o){if(u!==null)throw ye=u,o;Ke=1,pl(e,Kt(n,e.current)),ye=null;return}t.flags&32768?(be||i===1?e=!0:oi||(ve&536870912)!==0?e=!1:(Qn=e=!0,(i===2||i===9||i===3||i===6)&&(i=Dt.current,i!==null&&i.tag===13&&(i.flags|=16384))),td(t,e)):kl(t)}function kl(e){var t=e;do{if((t.flags&32768)!==0){td(t,Qn);return}e=t.return;var n=om(t.alternate,t,Rn);if(n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Ke===0&&(Ke=5)}function td(e,t){do{var n=cm(e.alternate,e);if(n!==null){n.flags&=32767,ye=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=n}while(e!==null);Ke=6,ye=null}function nd(e,t,n,i,u,o,h,m,p){e.cancelPendingCommit=null;do Ul();while(nt!==0);if((Te&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,o|=Bs,Wy(e,n,o,h,m,p),e===Ue&&(ye=Ue=null,ve=0),fi=t,Wn=e,xn=n,Ku=o,Xu=u,Kh=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sm(V,function(){return sd(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=j.T,j.T=null,u=K.p,K.p=2,h=Te,Te|=4;try{fm(e,t,n)}finally{Te=h,K.p=u,j.T=i}}nt=1,ad(),id(),rd()}}function ad(){if(nt===1){nt=0;var e=Wn,t=fi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=j.T,j.T=null;var i=K.p;K.p=2;var u=Te;Te|=4;try{Bh(t,e);var o=so,h=Gc(e.containerInfo),m=o.focusedElem,p=o.selectionRange;if(h!==m&&m&&m.ownerDocument&&$c(m.ownerDocument.documentElement,m)){if(p!==null&&Us(m)){var O=p.start,z=p.end;if(z===void 0&&(z=O),"selectionStart"in m)m.selectionStart=O,m.selectionEnd=Math.min(z,m.value.length);else{var q=m.ownerDocument||document,R=q&&q.defaultView||window;if(R.getSelection){var C=R.getSelection(),I=m.textContent.length,ie=Math.min(p.start,I),ke=p.end===void 0?ie:Math.min(p.end,I);!C.extend&&ie>ke&&(h=ke,ke=ie,ie=h);var S=Hc(m,ie),_=Hc(m,ke);if(S&&_&&(C.rangeCount!==1||C.anchorNode!==S.node||C.anchorOffset!==S.offset||C.focusNode!==_.node||C.focusOffset!==_.offset)){var A=q.createRange();A.setStart(S.node,S.offset),C.removeAllRanges(),ie>ke?(C.addRange(A),C.extend(_.node,_.offset)):(A.setEnd(_.node,_.offset),C.addRange(A))}}}}for(q=[],C=m;C=C.parentNode;)C.nodeType===1&&q.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<q.length;m++){var M=q[m];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}Yl=!!lo,so=lo=null}finally{Te=u,K.p=i,j.T=n}}e.current=t,nt=2}}function id(){if(nt===2){nt=0;var e=Wn,t=fi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=j.T,j.T=null;var i=K.p;K.p=2;var u=Te;Te|=4;try{Uh(e,t.alternate,t)}finally{Te=u,K.p=i,j.T=n}}nt=3}}function rd(){if(nt===4||nt===3){nt=0,os();var e=Wn,t=fi,n=xn,i=Kh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?nt=5:(nt=0,fi=Wn=null,ld(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(In=null),ds(n),t=t.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(_t,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=j.T,u=K.p,K.p=2,j.T=null;try{for(var o=e.onRecoverableError,h=0;h<i.length;h++){var m=i[h];o(m.value,{componentStack:m.stack})}}finally{j.T=t,K.p=u}}(xn&3)!==0&&Ul(),cn(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Ju?dr++:(dr=0,Ju=e):dr=0,yr(0)}}function ld(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Qi(t)))}function Ul(){return ad(),id(),rd(),sd()}function sd(){if(nt!==5)return!1;var e=Wn,t=Ku;Ku=0;var n=ds(xn),i=j.T,u=K.p;try{K.p=32>n?32:n,j.T=null,n=Xu,Xu=null;var o=Wn,h=xn;if(nt=0,fi=Wn=null,xn=0,(Te&6)!==0)throw Error(s(331));var m=Te;if(Te|=4,Gh(o.current),Lh(o,o.current,h,n),Te=m,yr(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(_t,o)}catch{}return!0}finally{K.p=u,j.T=i,ld(e,t)}}function ud(e,t,n){t=Kt(n,t),t=Au(e.stateNode,t,2),e=Yn(e,t,2),e!==null&&(zi(e,2),cn(e))}function Re(e,t,n){if(e.tag===3)ud(e,e,n);else for(;t!==null;){if(t.tag===3){ud(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(In===null||!In.has(i))){e=Kt(n,e),n=oh(2),i=Yn(t,n,2),i!==null&&(ch(n,i,t,e),zi(i,2),cn(i));break}}t=t.return}}function Iu(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new ym;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(n)||(Gu=!0,u.add(n),e=bm.bind(null,e,t,n),t.then(e,e))}function bm(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ue===e&&(ve&n)===n&&(Ke===4||Ke===3&&(ve&62914560)===ve&&300>vt()-Ol?(Te&2)===0&&hi(e,0):Vu|=n,ci===ve&&(ci=0)),cn(e)}function od(e,t){t===0&&(t=nc()),e=da(e,t),e!==null&&(zi(e,t),cn(e))}function _m(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),od(e,n)}function wm(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(s(314))}i!==null&&i.delete(t),od(e,n)}function Sm(e,t){return Da(e,t)}var Dl=null,yi=null,Wu=!1,zl=!1,Pu=!1,Fn=0;function cn(e){e!==yi&&e.next===null&&(yi===null?Dl=yi=e:yi=yi.next=e),zl=!0,Wu||(Wu=!0,Tm())}function yr(e,t){if(!Pu&&zl){Pu=!0;do for(var n=!1,i=Dl;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var o=0;else{var h=i.suspendedLanes,m=i.pingedLanes;o=(1<<31-Ie(42|e)+1)-1,o&=u&~(h&~m),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,dd(i,o))}else o=ve,o=qr(i,i===Ue?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(o&3)===0||Di(i,o)||(n=!0,dd(i,o));i=i.next}while(n);Pu=!1}}function Em(){cd()}function cd(){zl=Wu=!1;var e=0;Fn!==0&&zm()&&(e=Fn);for(var t=vt(),n=null,i=Dl;i!==null;){var u=i.next,o=fd(i,t);o===0?(i.next=null,n===null?Dl=u:n.next=u,u===null&&(yi=n)):(n=i,(e!==0||(o&3)!==0)&&(zl=!0)),i=u}nt!==0&&nt!==5||yr(e),Fn!==0&&(Fn=0)}function fd(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var h=31-Ie(o),m=1<<h,p=u[h];p===-1?((m&n)===0||(m&i)!==0)&&(u[h]=Iy(m,t)):p<=t&&(e.expiredLanes|=m),o&=~m}if(t=Ue,n=ve,n=qr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ui(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Di(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Ui(i),ds(n)){case 2:case 8:n=D;break;case 32:n=V;break;case 268435456:n=P;break;default:n=V}return i=hd.bind(null,e),n=Da(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Ui(i),e.callbackPriority=2,e.callbackNode=null,2}function hd(e,t){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ul()&&e.callbackNode!==n)return null;var i=ve;return i=qr(e,e===Ue?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Jh(e,i,t),fd(e,vt()),e.callbackNode!=null&&e.callbackNode===n?hd.bind(null,e):null)}function dd(e,t){if(Ul())return null;Jh(e,t,!0)}function Tm(){Mm(function(){(Te&6)!==0?Da(Br,Em):cd()})}function Fu(){if(Fn===0){var e=Fa;e===0&&(e=ze,ze<<=1,(ze&261888)===0&&(ze=256)),Fn=e}return Fn}function yd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gr(""+e)}function gd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Am(e,t,n,i,u){if(t==="submit"&&n&&n.stateNode===u){var o=yd((u[wt]||null).action),h=i.submitter;h&&(t=(t=h[wt]||null)?yd(t.formAction):h.getAttribute("formAction"),t!==null&&(o=t,h=null));var m=new Xr("action","action",null,i,u);e.push({event:m,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Fn!==0){var p=h?gd(u,h):new FormData(u);bu(n,{pending:!0,data:p,method:u.method,action:o},null,p)}}else typeof o=="function"&&(m.preventDefault(),p=h?gd(u,h):new FormData(u),bu(n,{pending:!0,data:p,method:u.method,action:o},o,p))},currentTarget:u}]})}}for(var eo=0;eo<Ms.length;eo++){var to=Ms[eo],Om=to.toLowerCase(),Rm=to[0].toUpperCase()+to.slice(1);en(Om,"on"+Rm)}en(Kc,"onAnimationEnd"),en(Xc,"onAnimationIteration"),en(Jc,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(Vg,"onTransitionRun"),en(Yg,"onTransitionStart"),en(Kg,"onTransitionCancel"),en(Qc,"onTransitionEnd"),La("onMouseEnter",["mouseout","mouseover"]),La("onMouseLeave",["mouseout","mouseover"]),La("onPointerEnter",["pointerout","pointerover"]),La("onPointerLeave",["pointerout","pointerover"]),oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gr));function md(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],u=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var h=i.length-1;0<=h;h--){var m=i[h],p=m.instance,O=m.currentTarget;if(m=m.listener,p!==o&&u.isPropagationStopped())break e;o=m,u.currentTarget=O;try{o(u)}catch(z){Zr(z)}u.currentTarget=null,o=p}else for(h=0;h<i.length;h++){if(m=i[h],p=m.instance,O=m.currentTarget,m=m.listener,p!==o&&u.isPropagationStopped())break e;o=m,u.currentTarget=O;try{o(u)}catch(z){Zr(z)}u.currentTarget=null,o=p}}}}function ge(e,t){var n=t[ys];n===void 0&&(n=t[ys]=new Set);var i=e+"__bubble";n.has(i)||(vd(t,e,2,!1),n.add(i))}function no(e,t,n){var i=0;t&&(i|=4),vd(n,e,i,t)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function ao(e){if(!e[Nl]){e[Nl]=!0,oc.forEach(function(n){n!=="selectionchange"&&(xm.has(n)||no(n,!1,e),no(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nl]||(t[Nl]=!0,no("selectionchange",!1,t))}}function vd(e,t,n,i){switch(Xd(t)){case 2:var u=nv;break;case 8:u=av;break;default:u=bo}n=u.bind(null,t,n,e),u=void 0,!Es||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function io(e,t,n,i,u){var o=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var m=i.stateNode.containerInfo;if(m===u)break;if(h===4)for(h=i.return;h!==null;){var p=h.tag;if((p===3||p===4)&&h.stateNode.containerInfo===u)return;h=h.return}for(;m!==null;){if(h=Ma(m),h===null)return;if(p=h.tag,p===5||p===6||p===26||p===27){i=o=h;continue e}m=m.parentNode}}i=i.return}wc(function(){var O=o,z=ws(n),q=[];e:{var R=Zc.get(e);if(R!==void 0){var C=Xr,I=e;switch(e){case"keypress":if(Yr(n)===0)break e;case"keydown":case"keyup":C=wg;break;case"focusin":I="focus",C=Rs;break;case"focusout":I="blur",C=Rs;break;case"beforeblur":case"afterblur":C=Rs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=og;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=Tg;break;case Kc:case Xc:case Jc:C=hg;break;case Qc:C=Og;break;case"scroll":case"scrollend":C=sg;break;case"wheel":C=xg;break;case"copy":case"cut":case"paste":C=yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Oc;break;case"toggle":case"beforetoggle":C=jg}var ie=(t&4)!==0,ke=!ie&&(e==="scroll"||e==="scrollend"),S=ie?R!==null?R+"Capture":null:R;ie=[];for(var _=O,A;_!==null;){var M=_;if(A=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||A===null||S===null||(M=Bi(_,S),M!=null&&ie.push(mr(_,M,A))),ke)break;_=_.return}0<ie.length&&(R=new C(R,I,null,n,z),q.push({event:R,listeners:ie}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",R&&n!==_s&&(I=n.relatedTarget||n.fromElement)&&(Ma(I)||I[Na]))break e;if((C||R)&&(R=z.window===z?z:(R=z.ownerDocument)?R.defaultView||R.parentWindow:window,C?(I=n.relatedTarget||n.toElement,C=O,I=I?Ma(I):null,I!==null&&(ke=f(I),ie=I.tag,I!==ke||ie!==5&&ie!==27&&ie!==6)&&(I=null)):(C=null,I=O),C!==I)){if(ie=Tc,M="onMouseLeave",S="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Oc,M="onPointerLeave",S="onPointerEnter",_="pointer"),ke=C==null?R:Mi(C),A=I==null?R:Mi(I),R=new ie(M,_+"leave",C,n,z),R.target=ke,R.relatedTarget=A,M=null,Ma(z)===O&&(ie=new ie(S,_+"enter",I,n,z),ie.target=A,ie.relatedTarget=ke,M=ie),ke=M,C&&I)t:{for(ie=Cm,S=C,_=I,A=0,M=S;M;M=ie(M))A++;M=0;for(var ae=_;ae;ae=ie(ae))M++;for(;0<A-M;)S=ie(S),A--;for(;0<M-A;)_=ie(_),M--;for(;A--;){if(S===_||_!==null&&S===_.alternate){ie=S;break t}S=ie(S),_=ie(_)}ie=null}else ie=null;C!==null&&pd(q,R,C,ie,!1),I!==null&&ke!==null&&pd(q,ke,I,ie,!0)}}e:{if(R=O?Mi(O):window,C=R.nodeName&&R.nodeName.toLowerCase(),C==="select"||C==="input"&&R.type==="file")var we=zc;else if(Uc(R))if(Nc)we=Hg;else{we=qg;var F=Bg}else C=R.nodeName,!C||C.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?O&&bs(O.elementType)&&(we=zc):we=Lg;if(we&&(we=we(e,O))){Dc(q,we,n,z);break e}F&&F(e,R,O),e==="focusout"&&O&&R.type==="number"&&O.memoizedProps.value!=null&&ps(R,"number",R.value)}switch(F=O?Mi(O):window,e){case"focusin":(Uc(F)||F.contentEditable==="true")&&(Ka=F,Ds=O,Ki=null);break;case"focusout":Ki=Ds=Ka=null;break;case"mousedown":zs=!0;break;case"contextmenu":case"mouseup":case"dragend":zs=!1,Vc(q,n,z);break;case"selectionchange":if(Gg)break;case"keydown":case"keyup":Vc(q,n,z)}var he;if(Cs)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Ya?jc(e,n)&&(pe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(pe="onCompositionStart");pe&&(Rc&&n.locale!=="ko"&&(Ya||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Ya&&(he=Sc()):(Bn=z,Ts="value"in Bn?Bn.value:Bn.textContent,Ya=!0)),F=Ml(O,pe),0<F.length&&(pe=new Ac(pe,e,null,n,z),q.push({event:pe,listeners:F}),he?pe.data=he:(he=kc(n),he!==null&&(pe.data=he)))),(he=Ug?Dg(e,n):zg(e,n))&&(pe=Ml(O,"onBeforeInput"),0<pe.length&&(F=new Ac("onBeforeInput","beforeinput",null,n,z),q.push({event:F,listeners:pe}),F.data=he)),Am(q,e,O,n,z)}md(q,t)})}function mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ml(e,t){for(var n=t+"Capture",i=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=Bi(e,n),u!=null&&i.unshift(mr(e,u,o)),u=Bi(e,t),u!=null&&i.push(mr(e,u,o))),e.tag===3)return i;e=e.return}return[]}function Cm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pd(e,t,n,i,u){for(var o=t._reactName,h=[];n!==null&&n!==i;){var m=n,p=m.alternate,O=m.stateNode;if(m=m.tag,p!==null&&p===i)break;m!==5&&m!==26&&m!==27||O===null||(p=O,u?(O=Bi(n,o),O!=null&&h.unshift(mr(n,O,p))):u||(O=Bi(n,o),O!=null&&h.push(mr(n,O,p)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var jm=/\r\n?/g,km=/\u0000|\uFFFD/g;function bd(e){return(typeof e=="string"?e:""+e).replace(jm,`
`).replace(km,"")}function _d(e,t){return t=bd(t),bd(e)===t}function je(e,t,n,i,u,o){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||$a(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&$a(e,""+i);break;case"className":Hr(e,"class",i);break;case"tabIndex":Hr(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Hr(e,n,i);break;case"style":bc(e,i,o);break;case"data":if(t!=="object"){Hr(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Gr(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&je(e,t,"name",u.name,u,null),je(e,t,"formEncType",u.formEncType,u,null),je(e,t,"formMethod",u.formMethod,u,null),je(e,t,"formTarget",u.formTarget,u,null)):(je(e,t,"encType",u.encType,u,null),je(e,t,"method",u.method,u,null),je(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Gr(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=dn);break;case"onScroll":i!=null&&ge("scroll",e);break;case"onScrollEnd":i!=null&&ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(s(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Gr(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ge("beforetoggle",e),ge("toggle",e),Lr(e,"popover",i);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Lr(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=rg.get(n)||n,Lr(e,n,i))}}function ro(e,t,n,i,u,o){switch(n){case"style":bc(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(s(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof i=="string"?$a(e,i):(typeof i=="number"||typeof i=="bigint")&&$a(e,""+i);break;case"onScroll":i!=null&&ge("scroll",e);break;case"onScrollEnd":i!=null&&ge("scrollend",e);break;case"onClick":i!=null&&(e.onclick=dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),o=e[wt]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof i=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,u);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Lr(e,n,i)}}}function dt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",e),ge("load",e);var i=!1,u=!1,o;for(o in n)if(n.hasOwnProperty(o)){var h=n[o];if(h!=null)switch(o){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:je(e,t,o,h,n,null)}}u&&je(e,t,"srcSet",n.srcSet,n,null),i&&je(e,t,"src",n.src,n,null);return;case"input":ge("invalid",e);var m=o=h=u=null,p=null,O=null;for(i in n)if(n.hasOwnProperty(i)){var z=n[i];if(z!=null)switch(i){case"name":u=z;break;case"type":h=z;break;case"checked":p=z;break;case"defaultChecked":O=z;break;case"value":o=z;break;case"defaultValue":m=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,t));break;default:je(e,t,i,z,n,null)}}gc(e,o,m,p,O,h,u,!1);return;case"select":ge("invalid",e),i=h=o=null;for(u in n)if(n.hasOwnProperty(u)&&(m=n[u],m!=null))switch(u){case"value":o=m;break;case"defaultValue":h=m;break;case"multiple":i=m;default:je(e,t,u,m,n,null)}t=o,n=h,e.multiple=!!i,t!=null?Ha(e,!!i,t,!1):n!=null&&Ha(e,!!i,n,!0);return;case"textarea":ge("invalid",e),o=u=i=null;for(h in n)if(n.hasOwnProperty(h)&&(m=n[h],m!=null))switch(h){case"value":i=m;break;case"defaultValue":u=m;break;case"children":o=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:je(e,t,h,m,n,null)}vc(e,i,u,o);return;case"option":for(p in n)n.hasOwnProperty(p)&&(i=n[p],i!=null)&&(p==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":je(e,t,p,i,n,null));return;case"dialog":ge("beforetoggle",e),ge("toggle",e),ge("cancel",e),ge("close",e);break;case"iframe":case"object":ge("load",e);break;case"video":case"audio":for(i=0;i<gr.length;i++)ge(gr[i],e);break;case"image":ge("error",e),ge("load",e);break;case"details":ge("toggle",e);break;case"embed":case"source":case"link":ge("error",e),ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in n)if(n.hasOwnProperty(O)&&(i=n[O],i!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:je(e,t,O,i,n,null)}return;default:if(bs(t)){for(z in n)n.hasOwnProperty(z)&&(i=n[z],i!==void 0&&ro(e,t,z,i,n,void 0));return}}for(m in n)n.hasOwnProperty(m)&&(i=n[m],i!=null&&je(e,t,m,i,n,null))}function Um(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,h=null,m=null,p=null,O=null,z=null;for(C in n){var q=n[C];if(n.hasOwnProperty(C)&&q!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":p=q;default:i.hasOwnProperty(C)||je(e,t,C,null,i,q)}}for(var R in i){var C=i[R];if(q=n[R],i.hasOwnProperty(R)&&(C!=null||q!=null))switch(R){case"type":o=C;break;case"name":u=C;break;case"checked":O=C;break;case"defaultChecked":z=C;break;case"value":h=C;break;case"defaultValue":m=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(137,t));break;default:C!==q&&je(e,t,R,C,i,q)}}vs(e,h,m,p,O,z,o,u);return;case"select":C=h=m=R=null;for(o in n)if(p=n[o],n.hasOwnProperty(o)&&p!=null)switch(o){case"value":break;case"multiple":C=p;default:i.hasOwnProperty(o)||je(e,t,o,null,i,p)}for(u in i)if(o=i[u],p=n[u],i.hasOwnProperty(u)&&(o!=null||p!=null))switch(u){case"value":R=o;break;case"defaultValue":m=o;break;case"multiple":h=o;default:o!==p&&je(e,t,u,o,i,p)}t=m,n=h,i=C,R!=null?Ha(e,!!n,R,!1):!!i!=!!n&&(t!=null?Ha(e,!!n,t,!0):Ha(e,!!n,n?[]:"",!1));return;case"textarea":C=R=null;for(m in n)if(u=n[m],n.hasOwnProperty(m)&&u!=null&&!i.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:je(e,t,m,null,i,u)}for(h in i)if(u=i[h],o=n[h],i.hasOwnProperty(h)&&(u!=null||o!=null))switch(h){case"value":R=u;break;case"defaultValue":C=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(s(91));break;default:u!==o&&je(e,t,h,u,i,o)}mc(e,R,C);return;case"option":for(var I in n)R=n[I],n.hasOwnProperty(I)&&R!=null&&!i.hasOwnProperty(I)&&(I==="selected"?e.selected=!1:je(e,t,I,null,i,R));for(p in i)R=i[p],C=n[p],i.hasOwnProperty(p)&&R!==C&&(R!=null||C!=null)&&(p==="selected"?e.selected=R&&typeof R!="function"&&typeof R!="symbol":je(e,t,p,R,i,C));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in n)R=n[ie],n.hasOwnProperty(ie)&&R!=null&&!i.hasOwnProperty(ie)&&je(e,t,ie,null,i,R);for(O in i)if(R=i[O],C=n[O],i.hasOwnProperty(O)&&R!==C&&(R!=null||C!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(137,t));break;default:je(e,t,O,R,i,C)}return;default:if(bs(t)){for(var ke in n)R=n[ke],n.hasOwnProperty(ke)&&R!==void 0&&!i.hasOwnProperty(ke)&&ro(e,t,ke,void 0,i,R);for(z in i)R=i[z],C=n[z],!i.hasOwnProperty(z)||R===C||R===void 0&&C===void 0||ro(e,t,z,R,i,C);return}}for(var S in n)R=n[S],n.hasOwnProperty(S)&&R!=null&&!i.hasOwnProperty(S)&&je(e,t,S,null,i,R);for(q in i)R=i[q],C=n[q],!i.hasOwnProperty(q)||R===C||R==null&&C==null||je(e,t,q,R,i,C)}function wd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dm(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var u=n[i],o=u.transferSize,h=u.initiatorType,m=u.duration;if(o&&m&&wd(h)){for(h=0,m=u.responseEnd,i+=1;i<n.length;i++){var p=n[i],O=p.startTime;if(O>m)break;var z=p.transferSize,q=p.initiatorType;z&&wd(q)&&(p=p.responseEnd,h+=z*(p<m?1:(m-O)/(p-O)))}if(--i,t+=8*(o+h)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lo=null,so=null;function Bl(e){return e.nodeType===9?e:e.ownerDocument}function Sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ed(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function uo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oo=null;function zm(){var e=window.event;return e&&e.type==="popstate"?e===oo?!1:(oo=e,!0):(oo=null,!1)}var Td=typeof setTimeout=="function"?setTimeout:void 0,Nm=typeof clearTimeout=="function"?clearTimeout:void 0,Ad=typeof Promise=="function"?Promise:void 0,Mm=typeof queueMicrotask=="function"?queueMicrotask:typeof Ad<"u"?function(e){return Ad.resolve(null).then(e).catch(Bm)}:Td;function Bm(e){setTimeout(function(){throw e})}function ea(e){return e==="head"}function Od(e,t){var n=t,i=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(u),pi(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")vr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,vr(n);for(var o=n.firstChild;o;){var h=o.nextSibling,m=o.nodeName;o[Ni]||m==="SCRIPT"||m==="STYLE"||m==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=h}}else n==="body"&&vr(e.ownerDocument.body);n=u}while(n);pi(t)}function Rd(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function co(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":co(n),gs(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function qm(e,t,n,i){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ni])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=It(e.nextSibling),e===null)break}return null}function Lm(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=It(e.nextSibling),e===null))return null;return e}function xd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=It(e.nextSibling),e===null))return null;return e}function fo(e){return e.data==="$?"||e.data==="$~"}function ho(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hm(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function It(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var yo=null;function Cd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return It(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function jd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function kd(e,t,n){switch(t=Bl(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function vr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);gs(e)}var Wt=new Map,Ud=new Set;function ql(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cn=K.d;K.d={f:$m,r:Gm,D:Vm,C:Ym,L:Km,m:Xm,X:Qm,S:Jm,M:Zm};function $m(){var e=Cn.f(),t=Cl();return e||t}function Gm(e){var t=Ba(e);t!==null&&t.tag===5&&t.type==="form"?Zf(t):Cn.r(e)}var gi=typeof document>"u"?null:document;function Dd(e,t,n){var i=gi;if(i&&typeof t=="string"&&t){var u=Vt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),Ud.has(u)||(Ud.add(u),e={rel:e,crossOrigin:n,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),dt(t,"link",e),lt(t),i.head.appendChild(t)))}}function Vm(e){Cn.D(e),Dd("dns-prefetch",e,null)}function Ym(e,t){Cn.C(e,t),Dd("preconnect",e,t)}function Km(e,t,n){Cn.L(e,t,n);var i=gi;if(i&&e&&t){var u='link[rel="preload"][as="'+Vt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Vt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Vt(n.imageSizes)+'"]')):u+='[href="'+Vt(e)+'"]';var o=u;switch(t){case"style":o=mi(e);break;case"script":o=vi(e)}Wt.has(o)||(e=E({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Wt.set(o,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(pr(o))||t==="script"&&i.querySelector(br(o))||(t=i.createElement("link"),dt(t,"link",e),lt(t),i.head.appendChild(t)))}}function Xm(e,t){Cn.m(e,t);var n=gi;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Vt(i)+'"][href="'+Vt(e)+'"]',o=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=vi(e)}if(!Wt.has(o)&&(e=E({rel:"modulepreload",href:e},t),Wt.set(o,e),n.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(br(o)))return}i=n.createElement("link"),dt(i,"link",e),lt(i),n.head.appendChild(i)}}}function Jm(e,t,n){Cn.S(e,t,n);var i=gi;if(i&&e){var u=qa(i).hoistableStyles,o=mi(e);t=t||"default";var h=u.get(o);if(!h){var m={loading:0,preload:null};if(h=i.querySelector(pr(o)))m.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Wt.get(o))&&go(e,n);var p=h=i.createElement("link");lt(p),dt(p,"link",e),p._p=new Promise(function(O,z){p.onload=O,p.onerror=z}),p.addEventListener("load",function(){m.loading|=1}),p.addEventListener("error",function(){m.loading|=2}),m.loading|=4,Ll(h,t,i)}h={type:"stylesheet",instance:h,count:1,state:m},u.set(o,h)}}}function Qm(e,t){Cn.X(e,t);var n=gi;if(n&&e){var i=qa(n).hoistableScripts,u=vi(e),o=i.get(u);o||(o=n.querySelector(br(u)),o||(e=E({src:e,async:!0},t),(t=Wt.get(u))&&mo(e,t),o=n.createElement("script"),lt(o),dt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function Zm(e,t){Cn.M(e,t);var n=gi;if(n&&e){var i=qa(n).hoistableScripts,u=vi(e),o=i.get(u);o||(o=n.querySelector(br(u)),o||(e=E({src:e,async:!0,type:"module"},t),(t=Wt.get(u))&&mo(e,t),o=n.createElement("script"),lt(o),dt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function zd(e,t,n,i){var u=(u=de.current)?ql(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=mi(n.href),n=qa(u).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=mi(n.href);var o=qa(u).hoistableStyles,h=o.get(e);if(h||(u=u.ownerDocument||u,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,h),(o=u.querySelector(pr(e)))&&!o._p&&(h.instance=o,h.state.loading=5),Wt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Wt.set(e,n),o||Im(u,e,n,h.state))),t&&i===null)throw Error(s(528,""));return h}if(t&&i!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=vi(n),n=qa(u).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function mi(e){return'href="'+Vt(e)+'"'}function pr(e){return'link[rel="stylesheet"]['+e+"]"}function Nd(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Im(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),dt(t,"link",n),lt(t),e.head.appendChild(t))}function vi(e){return'[src="'+Vt(e)+'"]'}function br(e){return"script[async]"+e}function Md(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Vt(n.href)+'"]');if(i)return t.instance=i,lt(i),i;var u=E({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),lt(i),dt(i,"style",u),Ll(i,n.precedence,e),t.instance=i;case"stylesheet":u=mi(n.href);var o=e.querySelector(pr(u));if(o)return t.state.loading|=4,t.instance=o,lt(o),o;i=Nd(n),(u=Wt.get(u))&&go(i,u),o=(e.ownerDocument||e).createElement("link"),lt(o);var h=o;return h._p=new Promise(function(m,p){h.onload=m,h.onerror=p}),dt(o,"link",i),t.state.loading|=4,Ll(o,n.precedence,e),t.instance=o;case"script":return o=vi(n.src),(u=e.querySelector(br(o)))?(t.instance=u,lt(u),u):(i=n,(u=Wt.get(o))&&(i=E({},n),mo(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),lt(u),dt(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Ll(i,n.precedence,e));return t.instance}function Ll(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,o=u,h=0;h<i.length;h++){var m=i[h];if(m.dataset.precedence===t)o=m;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function go(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Hl=null;function Bd(e,t,n){if(Hl===null){var i=new Map,u=Hl=new Map;u.set(n,i)}else u=Hl,i=u.get(n),i||(i=new Map,u.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var o=n[u];if(!(o[Ni]||o[ot]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var h=o.getAttribute(t)||"";h=e+h;var m=i.get(h);m?m.push(o):i.set(h,[o])}}return i}function qd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Wm(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ld(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Pm(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=mi(i.href),o=t.querySelector(pr(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=$l.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,lt(o);return}o=t.ownerDocument||t,i=Nd(i),(u=Wt.get(u))&&go(i,u),o=o.createElement("link"),lt(o);var h=o;h._p=new Promise(function(m,p){h.onload=m,h.onerror=p}),dt(o,"link",i),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=$l.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var vo=0;function Fm(e,t){return e.stylesheets&&e.count===0&&Vl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Vl(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&vo===0&&(vo=62500*Dm());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Vl(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>vo?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function $l(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gl=null;function Vl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gl=new Map,t.forEach(ev,e),Gl=null,$l.call(e))}function ev(e,t){if(!(t.state.loading&4)){var n=Gl.get(e);if(n)var i=n.get(null);else{n=new Map,Gl.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var h=u[o];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),i=h)}i&&n.set(null,i)}u=t.instance,h=u.getAttribute("data-precedence"),o=n.get(h)||i,o===i&&n.set(null,u),n.set(h,u),this.count++,i=$l.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var _r={$$typeof:U,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function tv(e,t,n,i,u,o,h,m,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.hiddenUpdates=fs(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function Hd(e,t,n,i,u,o,h,m,p,O,z,q){return e=new tv(e,t,n,h,p,O,z,q,m),t=1,o===!0&&(t|=24),o=Ut(3,null,null,t),e.current=o,o.stateNode=e,t=Zs(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},Fs(o),e}function $d(e){return e?(e=Qa,e):Qa}function Gd(e,t,n,i,u,o){u=$d(u),i.context===null?i.context=u:i.pendingContext=u,i=Vn(t),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=Yn(e,i,t),n!==null&&(Rt(n,e,t),Pi(n,e,t))}function Vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function po(e,t){Vd(e,t),(e=e.alternate)&&Vd(e,t)}function Yd(e){if(e.tag===13||e.tag===31){var t=da(e,67108864);t!==null&&Rt(t,e,67108864),po(e,67108864)}}function Kd(e){if(e.tag===13||e.tag===31){var t=Bt();t=hs(t);var n=da(e,t);n!==null&&Rt(n,e,t),po(e,t)}}var Yl=!0;function nv(e,t,n,i){var u=j.T;j.T=null;var o=K.p;try{K.p=2,bo(e,t,n,i)}finally{K.p=o,j.T=u}}function av(e,t,n,i){var u=j.T;j.T=null;var o=K.p;try{K.p=8,bo(e,t,n,i)}finally{K.p=o,j.T=u}}function bo(e,t,n,i){if(Yl){var u=_o(i);if(u===null)io(e,t,i,Kl,n),Jd(e,i);else if(rv(u,e,t,n,i))i.stopPropagation();else if(Jd(e,i),t&4&&-1<iv.indexOf(e)){for(;u!==null;){var o=Ba(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var h=fn(o.pendingLanes);if(h!==0){var m=o;for(m.pendingLanes|=2,m.entangledLanes|=2;h;){var p=1<<31-Ie(h);m.entanglements[1]|=p,h&=~p}cn(o),(Te&6)===0&&(Rl=vt()+500,yr(0))}}break;case 31:case 13:m=da(o,2),m!==null&&Rt(m,o,2),Cl(),po(o,2)}if(o=_o(i),o===null&&io(e,t,i,Kl,n),o===u)break;u=o}u!==null&&i.stopPropagation()}else io(e,t,i,null,n)}}function _o(e){return e=ws(e),wo(e)}var Kl=null;function wo(e){if(Kl=null,e=Ma(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Kl=e,null}function Xd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case Br:return 2;case D:return 8;case V:case Q:return 32;case P:return 268435456;default:return 32}default:return 32}}var So=!1,ta=null,na=null,aa=null,wr=new Map,Sr=new Map,ia=[],iv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jd(e,t){switch(e){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":wr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sr.delete(t.pointerId)}}function Er(e,t,n,i,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[u]},t!==null&&(t=Ba(t),t!==null&&Yd(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function rv(e,t,n,i,u){switch(t){case"focusin":return ta=Er(ta,e,t,n,i,u),!0;case"dragenter":return na=Er(na,e,t,n,i,u),!0;case"mouseover":return aa=Er(aa,e,t,n,i,u),!0;case"pointerover":var o=u.pointerId;return wr.set(o,Er(wr.get(o)||null,e,t,n,i,u)),!0;case"gotpointercapture":return o=u.pointerId,Sr.set(o,Er(Sr.get(o)||null,e,t,n,i,u)),!0}return!1}function Qd(e){var t=Ma(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,sc(e.priority,function(){Kd(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,sc(e.priority,function(){Kd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_o(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);_s=i,n.target.dispatchEvent(i),_s=null}else return t=Ba(n),t!==null&&Yd(t),e.blockedOn=n,!1;t.shift()}return!0}function Zd(e,t,n){Xl(e)&&n.delete(t)}function lv(){So=!1,ta!==null&&Xl(ta)&&(ta=null),na!==null&&Xl(na)&&(na=null),aa!==null&&Xl(aa)&&(aa=null),wr.forEach(Zd),Sr.forEach(Zd)}function Jl(e,t){e.blockedOn===t&&(e.blockedOn=null,So||(So=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,lv)))}var Ql=null;function Id(e){Ql!==e&&(Ql=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ql===e&&(Ql=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(wo(i||n)===null)continue;break}var o=Ba(n);o!==null&&(e.splice(t,3),t-=3,bu(o,{pending:!0,data:u,method:n.method,action:i},i,u))}}))}function pi(e){function t(p){return Jl(p,e)}ta!==null&&Jl(ta,e),na!==null&&Jl(na,e),aa!==null&&Jl(aa,e),wr.forEach(t),Sr.forEach(t);for(var n=0;n<ia.length;n++){var i=ia[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ia.length&&(n=ia[0],n.blockedOn===null);)Qd(n),n.blockedOn===null&&ia.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var u=n[i],o=n[i+1],h=u[wt]||null;if(typeof o=="function")h||Id(n);else if(h){var m=null;if(o&&o.hasAttribute("formAction")){if(u=o,h=o[wt]||null)m=h.formAction;else if(wo(u)!==null)continue}else m=h.action;typeof m=="function"?n[i+1]=m:(n.splice(i,3),i-=3),Id(n)}}}function Wd(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(h){return u=h})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Eo(e){this._internalRoot=e}Zl.prototype.render=Eo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,i=Bt();Gd(n,i,e,t,null,null)},Zl.prototype.unmount=Eo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gd(e.current,2,null,e,null,null),Cl(),t[Na]=null}};function Zl(e){this._internalRoot=e}Zl.prototype.unstable_scheduleHydration=function(e){if(e){var t=lc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ia.length&&t!==0&&t<ia[n].priority;n++);ia.splice(n,0,e),n===0&&Qd(e)}};var Pd=a.version;if(Pd!=="19.2.0")throw Error(s(527,Pd,"19.2.0"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=v(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var sv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{_t=Il.inject(sv),He=Il}catch{}}return Ar.createRoot=function(e,t){if(!c(e))throw Error(s(299));var n=!1,i="",u=rh,o=lh,h=sh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Hd(e,1,!1,null,null,n,i,null,u,o,h,Wd),e[Na]=t.current,ao(e),new Eo(t)},Ar.hydrateRoot=function(e,t,n){if(!c(e))throw Error(s(299));var i=!1,u="",o=rh,h=lh,m=sh,p=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.formState!==void 0&&(p=n.formState)),t=Hd(e,1,!0,t,n??null,i,u,p,o,h,m,Wd),t.context=$d(null),n=t.current,i=Bt(),i=hs(i),u=Vn(i),u.callback=null,Yn(n,u,i),n=i,t.current.lanes=n,zi(t,n),cn(t),e[Na]=t.current,ao(e),new Zl(t)},Ar.version="19.2.0",Ar}var uy;function pv(){if(uy)return Oo.exports;uy=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Oo.exports=vv(),Oo.exports}var bv=pv();const _v=Uy(bv);function wv({workouts:l,currentWorkoutId:a,setCurrentWorkoutId:r,currentWorkoutName:s,exercises:c,setExercises:f,finishWorkout:d}){const g=T=>{const k=[...c],N=k[T].setsCompleted||[],H=N.indexOf(!1);if(H!==-1)N[H]=!0;else for(let G=0;G<N.length;G++)N[G]=!1;k[T].setsCompleted=N,f(k)},y=(T,k,N)=>{const H=[...c];k==="weight"||k==="reps"?H[T][k]=N===""?"":Number(N):H[T][k]=N,f(H)},v=typeof s=="string"&&s.trim()?s:"Workout",w=Array.isArray(l)?l:[],E={color:"#aaa",fontSize:"0.9rem"};return x.jsx("div",{style:{width:"100%",backgroundColor:"#121212",color:"#fff",boxSizing:"border-box",overflowX:"hidden"},children:x.jsxs("div",{style:{width:"100%",padding:"0 1rem",boxSizing:"border-box"},children:[x.jsxs("div",{style:{marginTop:"1rem",width:"100%",backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"12px",padding:"0.75rem",boxSizing:"border-box",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[x.jsx("div",{style:E,children:"Current workout selected:"}),x.jsxs("div",{style:{position:"relative",width:"100%"},children:[x.jsx("select",{value:a,onChange:T=>r(T.target.value),style:{width:"100%",backgroundColor:"#121212",color:"#fff",border:"1px solid #333",borderRadius:"10px",padding:"0.75rem",paddingRight:"2.5rem",fontSize:"1rem",boxSizing:"border-box",outline:"none",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",cursor:"pointer"},children:w.map((T,k)=>{const N=typeof T?.name=="string"&&T.name.trim()?T.name:`Workout ${k+1}`;return x.jsx("option",{value:T.id,children:N},T.id)})}),x.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":"true",focusable:"false",style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",opacity:.65},children:x.jsx("path",{d:"M7 10l5 5 5-5",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{color:"#aaa"}})})]})]}),x.jsx("h2",{style:{marginTop:"1rem",textAlign:"center"},children:v}),x.jsx("div",{style:{...E,textAlign:"center",marginTop:"0.25rem"},children:"Tap to complete a set"}),x.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%",marginTop:"1rem"},children:c.map((T,k)=>x.jsxs("div",{onClick:()=>g(k),style:{width:"100%",padding:"0.75rem",borderRadius:"8px",cursor:"pointer",display:"flex",flexDirection:"column",gap:"0.5rem",backgroundColor:"#1a1a1a",boxSizing:"border-box"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"0.5rem"},children:[x.jsx("span",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:T.name}),x.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},onClick:N=>N.stopPropagation(),children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[x.jsx("input",{type:"text",value:T.weight,onChange:N=>y(k,"weight",N.target.value),style:{width:"50px",borderRadius:"4px",border:"1px solid #555",backgroundColor:"#1a1a1a",color:"#fff",textAlign:"center",padding:"0.2rem"}}),x.jsx("span",{style:{fontSize:"0.9rem",color:"#aaa"},children:"lbs"})]}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[x.jsx("input",{type:"text",value:T.reps,onChange:N=>y(k,"reps",N.target.value),style:{width:"40px",borderRadius:"4px",border:"1px solid #555",backgroundColor:"#1a1a1a",color:"#fff",textAlign:"center",padding:"0.2rem"}}),x.jsx("span",{style:{fontSize:"0.9rem",color:"#aaa"},children:"reps"})]})]})]}),x.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:Array.from({length:T.sets||3},(N,H)=>x.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:T.setsCompleted?.[H]?"#8b5cf6":"#333",border:"1px solid #555"}},H))})]},`${T.name}-${k}`))}),x.jsx("button",{onClick:()=>d(c),style:{marginTop:"1.5rem",padding:"0.75rem 1.5rem",backgroundColor:"#8b5cf6",color:"#fff",fontWeight:"bold",borderRadius:"8px",border:"none",cursor:"pointer",width:"100%"},children:"Finish Workout"})]})})}function Sv({workouts:l,setWorkouts:a,selectedWorkoutId:r,setSelectedWorkoutId:s}){const c=xe.useRef(null),f=l||[],d=xe.useMemo(()=>r&&f.find(L=>L.id===r)||null,[f,r]),g=d?.exercises||[];xe.useEffect(()=>{r&&c.current&&c.current.scrollIntoView({behavior:"smooth",block:"start"})},[r]);const y=L=>{s(U=>U===L?null:L)},v=(L,U)=>{const $=f.map(ee=>ee.id===L?{...ee,name:U}:ee);a($)},w=L=>(Array.isArray(L)?L:[]).map($=>{const ee=Number($?.sets??0)||0;return{name:typeof $?.name=="string"?$.name:"Exercise",reps:Number($?.reps??0)||0,sets:ee,weight:$?.weight===""?"":Number($?.weight??0)||0,setsCompleted:Array.from({length:ee},()=>!1)}}),E=(L,U,$)=>{if(!r)return;const ee=f.find(Ge=>Ge.id===r);if(!ee)return;const Y=[...Array.isArray(ee.exercises)?ee.exercises:[]];if(!Y[L])return;const ne={...Y[L]};if(U==="weight"||U==="reps"||U==="sets"){let Ge=Number($);if(U==="sets"&&(!Number.isFinite(Ge)||Ge<=0)&&(Ge=5),U==="weight"&&$===""?ne[U]="":ne[U]=Ge,U==="sets"){const Ze=Array.isArray(ne.setsCompleted)?ne.setsCompleted:[];ne.setsCompleted=Array.from({length:Ge},(it,rt)=>!!Ze[rt])}if(!Array.isArray(ne.setsCompleted)){const Ze=Number(ne.sets)||5;ne.setsCompleted=Array.from({length:Ze},()=>!1)}}else ne[U]=$;Y[L]=ne;const Ae=f.map(Ge=>Ge.id===r?{...Ge,exercises:Y}:Ge);a(Ae)},T=L=>{if(!r)return;const U=f.find(ne=>ne.id===r);if(!U||!window.confirm("Delete this exercise?"))return;const Z=(Array.isArray(U.exercises)?U.exercises:[]).filter((ne,Ae)=>Ae!==L),Y=f.map(ne=>ne.id===r?{...ne,exercises:Z}:ne);a(Y)},k=()=>{if(!r)return;const L=f.find(Y=>Y.id===r);if(!L)return;const U={name:"New Exercise",reps:10,sets:5,weight:0,setsCompleted:Array.from({length:5},()=>!1)},ee=[...Array.isArray(L.exercises)?L.exercises:[],U],Z=f.map(Y=>Y.id===r?{...Y,exercises:ee}:Y);a(Z)},N=()=>{if(!window.confirm("Add a new workout?"))return;const U=crypto.randomUUID(),$=f.length+1,ee={id:U,name:`Workout ${$}`,exercises:[]},Z=[...f,ee];a(Z)},H=L=>{const U=f.findIndex(Ae=>Ae.id===L);if(U===-1)return;const $=f[U],ee=crypto.randomUUID(),Z=typeof $?.name=="string"&&$.name.trim()?`${$.name} (copy)`:"Workout (copy)",Y={id:ee,name:Z,exercises:w($.exercises||[])},ne=[...f.slice(0,U+1),Y,...f.slice(U+1)];a(ne),s(ee)},G=L=>{if(f.length<=1){window.alert("You must keep at least one workout.");return}const U=f.find(Z=>Z.id===L);if(!window.confirm(`Delete "${U?.name||"Workout"}"? This does not delete your workout history.`))return;const ee=f.filter(Z=>Z.id!==L);a(ee),r===L&&s(null)},J=(L,U)=>{const $=f.findIndex(ne=>ne.id===L);if($===-1)return;const ee=U==="up"?$-1:$+1;if(ee<0||ee>=f.length)return;const Z=[...f],Y=Z[$];Z[$]=Z[ee],Z[ee]=Y,a(Z)};return x.jsx("div",{style:{width:"100%",backgroundColor:"#121212",boxSizing:"border-box",overflowX:"hidden"},children:x.jsxs("div",{style:{width:"100%",padding:"0 1rem 2.5rem",boxSizing:"border-box"},children:[x.jsx("h2",{style:{textAlign:"center",marginBottom:"1rem"},children:"Customize Workouts"}),x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1rem"},children:[f.map((L,U)=>{const $=r===L.id,ee=U>0,Z=U<f.length-1;return x.jsxs("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"8px",padding:"0.75rem",border:$?"1px solid #8b5cf6":"1px solid #333"},children:[x.jsx("div",{style:{marginBottom:"0.6rem"},children:x.jsx("input",{type:"text",value:typeof L.name=="string"?L.name:"",onChange:Y=>v(L.id,Y.target.value),placeholder:"Workout",style:{width:"100%",backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"6px",padding:"0.5rem",boxSizing:"border-box"}})}),x.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:[x.jsx("button",{onClick:()=>y(L.id),style:{backgroundColor:$?"#8b5cf6":"#121212",color:"#fff",borderRadius:"8px",padding:"0.4rem 0.75rem",border:"1px solid #333",cursor:"pointer"},children:$?"Close":"Edit"}),x.jsx("button",{onClick:()=>J(L.id,"up"),disabled:!ee,style:{backgroundColor:"#121212",color:ee?"#fff":"#666",borderRadius:"8px",padding:"0.4rem 0.65rem",border:"1px solid #333",cursor:ee?"pointer":"not-allowed"},title:"Move up",children:""}),x.jsx("button",{onClick:()=>J(L.id,"down"),disabled:!Z,style:{backgroundColor:"#121212",color:Z?"#fff":"#666",borderRadius:"8px",padding:"0.4rem 0.65rem",border:"1px solid #333",cursor:Z?"pointer":"not-allowed"},title:"Move down",children:""}),x.jsx("button",{onClick:()=>H(L.id),style:{backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"8px",padding:"0.4rem 0.75rem",cursor:"pointer"},children:"Duplicate"}),x.jsx("button",{onClick:()=>G(L.id),style:{backgroundColor:"transparent",border:"1px solid #333",color:"#ff5555",borderRadius:"8px",padding:"0.4rem 0.75rem",cursor:"pointer"},children:"Delete"})]})]},L.id)}),x.jsx("button",{onClick:N,style:{width:"100%",padding:"0.6rem",backgroundColor:"#1a1a1a",color:"#fff",border:"1px solid #333",borderRadius:"8px",cursor:"pointer"},children:"+ Add Workout"})]}),d?x.jsxs(x.Fragment,{children:[x.jsx("div",{ref:c}),x.jsxs("div",{style:{textAlign:"center",color:"#aaa",margin:"1.25rem 0 0.5rem",fontSize:"0.95rem"},children:["Currently editing:"," ",x.jsx("strong",{style:{color:"#fff"},children:d.name||"Workout"})]}),x.jsx("h2",{style:{textAlign:"center"},children:d.name||"Workout"}),g.map((L,U)=>x.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",gap:"0.5rem",backgroundColor:"#1a1a1a",padding:"0.5rem 0.75rem",borderRadius:"8px",marginTop:"0.5rem",position:"relative"},children:[x.jsx("span",{onClick:()=>T(U),style:{position:"absolute",top:"6px",right:"8px",color:"#ff5555",fontWeight:"bold",cursor:"pointer",fontSize:"1.5rem"},children:""}),x.jsx("input",{type:"text",value:L.name,onChange:$=>E(U,"name",$.target.value),style:{width:"calc(100% - 2rem)",backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"6px",padding:"0.4rem",paddingRight:"1.75rem"}}),x.jsxs("div",{style:{display:"flex",gap:"0.3rem",alignItems:"center"},children:[x.jsx("input",{type:"number",value:L.reps,onChange:$=>E(U,"reps",$.target.value),style:{width:"50px",backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"6px",padding:"0.4rem",textAlign:"center"}}),x.jsx("span",{style:{color:"#aaa",fontSize:"0.9rem"},children:"reps"})]}),x.jsxs("div",{style:{display:"flex",gap:"0.3rem",alignItems:"center"},children:[x.jsx("input",{type:"number",value:L.sets,onChange:$=>E(U,"sets",$.target.value),style:{width:"50px",backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"6px",padding:"0.4rem",textAlign:"center"}}),x.jsx("span",{style:{color:"#aaa",fontSize:"0.9rem"},children:"sets"})]}),x.jsxs("div",{style:{display:"flex",gap:"0.3rem",alignItems:"center"},children:[x.jsx("input",{type:"number",value:L.weight===""||L.weight===0?"":L.weight,onChange:$=>E(U,"weight",$.target.value),placeholder:"0",style:{width:"70px",backgroundColor:"#121212",border:"1px solid #333",color:"#fff",borderRadius:"6px",padding:"0.4rem",textAlign:"center"}}),x.jsx("span",{style:{color:"#aaa",fontSize:"0.9rem"},children:"lbs"})]})]},U)),x.jsx("button",{onClick:k,style:{marginTop:"0.75rem",width:"100%",padding:"0.6rem",backgroundColor:"#1a1a1a",color:"#fff",border:"1px solid #333",borderRadius:"8px",cursor:"pointer"},children:"+ Add Exercise"})]}):null]})})}function Ev({history:l,deleteWorkout:a,updateWorkoutNotes:r}){const[s,c]=xe.useState(null),f=(g,y)=>{r(g,y),c(g)};xe.useEffect(()=>{if(s!==null){const g=setTimeout(()=>c(null),1e3);return()=>clearTimeout(g)}},[l,s]);const d=g=>{const y=(g?.type||"").trim();return y?y==="A"||y==="B"?`Workout ${y}`:y:"Workout"};return x.jsx("div",{style:{width:"100%",backgroundColor:"#121212",color:"#fff",boxSizing:"border-box",overflowX:"hidden"},children:x.jsxs("div",{style:{width:"100%",padding:"0 1rem",boxSizing:"border-box"},children:[x.jsx("h2",{style:{marginBottom:"1rem",textAlign:"center"},children:"Workout History"}),l.length===0?x.jsx("p",{style:{color:"#aaa",textAlign:"center"},children:"No workouts logged yet."}):x.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%"},children:l.map((g,y)=>x.jsxs("div",{style:{position:"relative",backgroundColor:"#1a1a1a",borderRadius:"8px",padding:"1rem",textAlign:"left",boxSizing:"border-box",transition:"background-color 0.2s",cursor:"pointer",display:"flex",flexDirection:"column",gap:"0.5rem"},onMouseEnter:v=>v.currentTarget.style.backgroundColor="#222222",onMouseLeave:v=>v.currentTarget.style.backgroundColor="#1a1a1a",children:[x.jsx("button",{onClick:v=>{v.stopPropagation(),a(y)},style:{position:"absolute",top:"6px",right:"6px",background:"transparent",border:"none",color:"#ff5555",fontWeight:"bold",fontSize:"1.5rem",padding:"4px",cursor:"pointer",transition:"color 0.2s"},onMouseEnter:v=>v.currentTarget.style.color="#ff8888",onMouseLeave:v=>v.currentTarget.style.color="#ff5555",children:""}),x.jsx("h3",{style:{margin:"0 0 0.5rem 0"},children:d(g)}),x.jsx("p",{style:{margin:"0 0 1rem 0",fontSize:"0.9rem",color:"#aaa"},children:new Date(g.date).toLocaleString()}),(g.exercises||[]).map((v,w)=>{const E=v.sets||0,T=v.setsCompleted?v.setsCompleted.filter(Boolean).length:0;return x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",flexWrap:"wrap",gap:"0.25rem"},children:[x.jsx("span",{children:v.name}),x.jsxs("span",{style:{color:"#aaa",fontSize:"0.9rem",textAlign:"right"},children:[v.weight," lbs  ",v.reps," reps | ",T,"/",E," sets"]})]},w)}),x.jsx("textarea",{placeholder:"Add notes...",value:g.notes||"",onChange:v=>f(y,v.target.value),onInput:v=>{v.target.style.height="auto",v.target.style.height=v.target.scrollHeight+"px"},style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"1px solid #333",backgroundColor:"#121212",color:"#fff",resize:"none",minHeight:"50px",overflow:"hidden",boxSizing:"border-box"}}),x.jsx("span",{style:{fontSize:"0.8rem",color:"#aaa",textAlign:"right"},children:s===y?"Editing...":"Saved"})]},g.client_id||y))})]})})}function is(l,a){var r={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&a.indexOf(s)<0&&(r[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(l);c<s.length;c++)a.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(l,s[c])&&(r[s[c]]=l[s[c]]);return r}function Tv(l,a,r,s){function c(f){return f instanceof r?f:new r(function(d){d(f)})}return new(r||(r=Promise))(function(f,d){function g(w){try{v(s.next(w))}catch(E){d(E)}}function y(w){try{v(s.throw(w))}catch(E){d(E)}}function v(w){w.done?f(w.value):c(w.value).then(g,y)}v((s=s.apply(l,a||[])).next())})}const Av=l=>l?(...a)=>l(...a):(...a)=>fetch(...a);class Wo extends Error{constructor(a,r="FunctionsError",s){super(a),this.name=r,this.context=s}}class Ov extends Wo{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class oy extends Wo{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class cy extends Wo{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Lo;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Lo||(Lo={}));class Rv{constructor(a,{headers:r={},customFetch:s,region:c=Lo.Any}={}){this.url=a,this.headers=r,this.region=c,this.fetch=Av(s)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Tv(this,arguments,void 0,function*(r,s={}){var c;let f,d;try{const{headers:g,method:y,body:v,signal:w,timeout:E}=s;let T={},{region:k}=s;k||(k=this.region);const N=new URL(`${this.url}/${r}`);k&&k!=="any"&&(T["x-region"]=k,N.searchParams.set("forceFunctionRegion",k));let H;v&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(T["Content-Type"]="application/octet-stream",H=v):typeof v=="string"?(T["Content-Type"]="text/plain",H=v):typeof FormData<"u"&&v instanceof FormData?H=v:(T["Content-Type"]="application/json",H=JSON.stringify(v)):H=v;let G=w;E&&(d=new AbortController,f=setTimeout(()=>d.abort(),E),w?(G=d.signal,w.addEventListener("abort",()=>d.abort())):G=d.signal);const J=yield this.fetch(N.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},T),this.headers),g),body:H,signal:G}).catch(ee=>{throw new Ov(ee)}),L=J.headers.get("x-relay-error");if(L&&L==="true")throw new oy(J);if(!J.ok)throw new cy(J);let U=((c=J.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),$;return U==="application/json"?$=yield J.json():U==="application/octet-stream"||U==="application/pdf"?$=yield J.blob():U==="text/event-stream"?$=J:U==="multipart/form-data"?$=yield J.formData():$=yield J.text(),{data:$,error:null,response:J}}catch(g){return{data:null,error:g,response:g instanceof cy||g instanceof oy?g.context:void 0}}finally{f&&clearTimeout(f)}})}}var xv=class extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}},Cv=class{constructor(l){var a,r;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(a=l.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=l.signal,this.isMaybeSingle=(r=l.isMaybeSingle)!==null&&r!==void 0?r:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,a){return this.headers=new Headers(this.headers),this.headers.set(l,a),this}then(l,a){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let c=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{let d=null,g=null,y=null,v=f.status,w=f.statusText;if(f.ok){var E,T;if(r.method!=="HEAD"){var k;const J=await f.text();J===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((k=r.headers.get("Accept"))===null||k===void 0)&&k.includes("application/vnd.pgrst.plan+text"))?g=J:g=JSON.parse(J))}const H=(E=r.headers.get("Prefer"))===null||E===void 0?void 0:E.match(/count=(exact|planned|estimated)/),G=(T=f.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");H&&G&&G.length>1&&(y=parseInt(G[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(g)&&(g.length>1?(d={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,v=406,w="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var N;const H=await f.text();try{d=JSON.parse(H),Array.isArray(d)&&f.status===404&&(g=[],d=null,v=200,w="OK")}catch{f.status===404&&H===""?(v=204,w="No Content"):d={message:H}}if(d&&r.isMaybeSingle&&(!(d==null||(N=d.details)===null||N===void 0)&&N.includes("0 rows"))&&(d=null,v=200,w="OK"),d&&r.shouldThrowOnError)throw new xv(d)}return{error:d,data:g,count:y,status:v,statusText:w}});return this.shouldThrowOnError||(c=c.catch(f=>{var d;let g="";const y=f?.cause;if(y){var v,w,E,T;const N=(v=y?.message)!==null&&v!==void 0?v:"",H=(w=y?.code)!==null&&w!==void 0?w:"";g=`${(E=f?.name)!==null&&E!==void 0?E:"FetchError"}: ${f?.message}`,g+=`

Caused by: ${(T=y?.name)!==null&&T!==void 0?T:"Error"}: ${N}`,H&&(g+=` (${H})`),y?.stack&&(g+=`
${y.stack}`)}else{var k;g=(k=f?.stack)!==null&&k!==void 0?k:""}return{error:{message:`${(d=f?.name)!==null&&d!==void 0?d:"FetchError"}: ${f?.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(l,a)}returns(){return this}overrideTypes(){return this}},jv=class extends Cv{select(l){let a=!1;const r=(l??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:a=!0,nullsFirst:r,foreignTable:s,referencedTable:c=s}={}){const f=c?`${c}.order`:"order",d=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${d?`${d},`:""}${l}.${a?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:a,referencedTable:r=a}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${l}`),this}range(l,a,{foreignTable:r,referencedTable:s=r}={}){const c=typeof s>"u"?"offset":`${s}.offset`,f=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${l}`),this.url.searchParams.set(f,`${a-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:a=!1,settings:r=!1,buffers:s=!1,wal:c=!1,format:f="text"}={}){var d;const g=[l?"analyze":null,a?"verbose":null,r?"settings":null,s?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};const fy=new RegExp("[,()]");var Ai=class extends jv{eq(l,a){return this.url.searchParams.append(l,`eq.${a}`),this}neq(l,a){return this.url.searchParams.append(l,`neq.${a}`),this}gt(l,a){return this.url.searchParams.append(l,`gt.${a}`),this}gte(l,a){return this.url.searchParams.append(l,`gte.${a}`),this}lt(l,a){return this.url.searchParams.append(l,`lt.${a}`),this}lte(l,a){return this.url.searchParams.append(l,`lte.${a}`),this}like(l,a){return this.url.searchParams.append(l,`like.${a}`),this}likeAllOf(l,a){return this.url.searchParams.append(l,`like(all).{${a.join(",")}}`),this}likeAnyOf(l,a){return this.url.searchParams.append(l,`like(any).{${a.join(",")}}`),this}ilike(l,a){return this.url.searchParams.append(l,`ilike.${a}`),this}ilikeAllOf(l,a){return this.url.searchParams.append(l,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(l,a){return this.url.searchParams.append(l,`ilike(any).{${a.join(",")}}`),this}regexMatch(l,a){return this.url.searchParams.append(l,`match.${a}`),this}regexIMatch(l,a){return this.url.searchParams.append(l,`imatch.${a}`),this}is(l,a){return this.url.searchParams.append(l,`is.${a}`),this}isDistinct(l,a){return this.url.searchParams.append(l,`isdistinct.${a}`),this}in(l,a){const r=Array.from(new Set(a)).map(s=>typeof s=="string"&&fy.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(l,`in.(${r})`),this}notIn(l,a){const r=Array.from(new Set(a)).map(s=>typeof s=="string"&&fy.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(l,`not.in.(${r})`),this}contains(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cs.{${a.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(a)}`),this}containedBy(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cd.{${a.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(a)}`),this}rangeGt(l,a){return this.url.searchParams.append(l,`sr.${a}`),this}rangeGte(l,a){return this.url.searchParams.append(l,`nxl.${a}`),this}rangeLt(l,a){return this.url.searchParams.append(l,`sl.${a}`),this}rangeLte(l,a){return this.url.searchParams.append(l,`nxr.${a}`),this}rangeAdjacent(l,a){return this.url.searchParams.append(l,`adj.${a}`),this}overlaps(l,a){return typeof a=="string"?this.url.searchParams.append(l,`ov.${a}`):this.url.searchParams.append(l,`ov.{${a.join(",")}}`),this}textSearch(l,a,{config:r,type:s}={}){let c="";s==="plain"?c="pl":s==="phrase"?c="ph":s==="websearch"&&(c="w");const f=r===void 0?"":`(${r})`;return this.url.searchParams.append(l,`${c}fts${f}.${a}`),this}match(l){return Object.entries(l).forEach(([a,r])=>{this.url.searchParams.append(a,`eq.${r}`)}),this}not(l,a,r){return this.url.searchParams.append(l,`not.${a}.${r}`),this}or(l,{foreignTable:a,referencedTable:r=a}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${l})`),this}filter(l,a,r){return this.url.searchParams.append(l,`${a}.${r}`),this}},kv=class{constructor(l,{headers:a={},schema:r,fetch:s}){this.url=l,this.headers=new Headers(a),this.schema=r,this.fetch=s}select(l,a){const{head:r=!1,count:s}=a??{},c=r?"HEAD":"GET";let f=!1;const d=(l??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new Ai({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:a,defaultToNull:r=!0}={}){var s;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const f=l.reduce((d,g)=>d.concat(Object.keys(g)),[]);if(f.length>0){const d=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ai({method:c,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(l,{onConflict:a,ignoreDuplicates:r=!1,count:s,defaultToNull:c=!0}={}){var f;const d="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new Ai({method:d,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(l,{count:a}={}){var r;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new Ai({method:s,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:l}={}){var a;const r="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new Ai({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Uv=class Dy{constructor(a,{headers:r={},schema:s,fetch:c}={}){this.url=a,this.headers=new Headers(r),this.schemaName=s,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new kv(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Dy(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,r={},{head:s=!1,get:c=!1,count:f}={}){var d;let g;const y=new URL(`${this.url}/rpc/${a}`);let v;s||c?(g=s?"HEAD":"GET",Object.entries(r).filter(([E,T])=>T!==void 0).map(([E,T])=>[E,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([E,T])=>{y.searchParams.append(E,T)})):(g="POST",v=r);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new Ai({method:g,url:y,headers:w,schema:this.schemaName,body:v,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class Dv{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,c=parseInt(s.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const s=this.getWebSocketConstructor();return new s(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const zv="2.89.0",Nv=`realtime-js/${zv}`,zy="1.0.0",Mv="2.0.0",hy=zy,Ho=1e4,Bv=1e3,qv=100;var la;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(la||(la={}));var at;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(at||(at={}));var ln;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(ln||(ln={}));var $o;(function(l){l.websocket="websocket"})($o||($o={}));var Ca;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(Ca||(Ca={}));class Lv{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,r){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(a));let s=[a.join_ref,a.ref,a.topic,a.event,a.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(a){var r;return this._isArrayBuffer((r=a.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var r,s;const c=(s=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var r,s;const c=(s=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(a,r,s){var c,f;const d=a.topic,g=(c=a.ref)!==null&&c!==void 0?c:"",y=(f=a.join_ref)!==null&&f!==void 0?f:"",v=a.payload.event,w=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},E=Object.keys(w).length===0?"":JSON.stringify(w);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(E.length>255)throw new Error(`metadata length ${E.length} exceeds maximum of 255`);const T=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+g.length+d.length+v.length+E.length,k=new ArrayBuffer(this.HEADER_LENGTH+T);let N=new DataView(k),H=0;N.setUint8(H++,this.KINDS.userBroadcastPush),N.setUint8(H++,y.length),N.setUint8(H++,g.length),N.setUint8(H++,d.length),N.setUint8(H++,v.length),N.setUint8(H++,E.length),N.setUint8(H++,r),Array.from(y,J=>N.setUint8(H++,J.charCodeAt(0))),Array.from(g,J=>N.setUint8(H++,J.charCodeAt(0))),Array.from(d,J=>N.setUint8(H++,J.charCodeAt(0))),Array.from(v,J=>N.setUint8(H++,J.charCodeAt(0))),Array.from(E,J=>N.setUint8(H++,J.charCodeAt(0)));var G=new Uint8Array(k.byteLength+s.byteLength);return G.set(new Uint8Array(k),0),G.set(new Uint8Array(s),k.byteLength),G.buffer}decode(a,r){if(this._isArrayBuffer(a)){let s=this._binaryDecode(a);return r(s)}if(typeof a=="string"){const s=JSON.parse(a),[c,f,d,g,y]=s;return r({join_ref:c,ref:f,topic:d,event:g,payload:y})}return r({})}_binaryDecode(a){const r=new DataView(a),s=r.getUint8(0),c=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,r,c)}_decodeUserBroadcast(a,r,s){const c=r.getUint8(1),f=r.getUint8(2),d=r.getUint8(3),g=r.getUint8(4);let y=this.HEADER_LENGTH+4;const v=s.decode(a.slice(y,y+c));y=y+c;const w=s.decode(a.slice(y,y+f));y=y+f;const E=s.decode(a.slice(y,y+d));y=y+d;const T=a.slice(y,a.byteLength),k=g===this.JSON_ENCODING?JSON.parse(s.decode(T)):T,N={type:this.BROADCAST_EVENT,event:w,payload:k};return d>0&&(N.meta=JSON.parse(E)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(a){var r;return a instanceof ArrayBuffer||((r=a?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(a,r){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([s])=>r.includes(s)))}}class Ny{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Ne||(Ne={}));const dy=(l,a,r={})=>{var s;const c=(s=r.skipTypes)!==null&&s!==void 0?s:[];return a?Object.keys(a).reduce((f,d)=>(f[d]=Hv(d,l,a,c),f),{}):{}},Hv=(l,a,r,s)=>{const c=a.find(g=>g.name===l),f=c?.type,d=r[l];return f&&!s.includes(f)?My(f,d):Go(d)},My=(l,a)=>{if(l.charAt(0)==="_"){const r=l.slice(1,l.length);return Yv(a,r)}switch(l){case Ne.bool:return $v(a);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return Gv(a);case Ne.json:case Ne.jsonb:return Vv(a);case Ne.timestamp:return Kv(a);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return Go(a);default:return Go(a)}},Go=l=>l,$v=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Gv=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},Vv=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l},Yv=(l,a)=>{if(typeof l!="string")return l;const r=l.length-1,s=l[r];if(l[0]==="{"&&s==="}"){let f;const d=l.slice(1,r);try{f=JSON.parse("["+d+"]")}catch{f=d?d.split(","):[]}return f.map(g=>My(a,g))}return l},Kv=l=>typeof l=="string"?l.replace(" ","T"):l,By=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class jo{constructor(a,r,s={},c=Ho){this.channel=a,this.event=r,this.payload=s,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var s;return this._hasReceived(a)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(s=>s.status===a).forEach(s=>s.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var yy;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(yy||(yy={}));class Rr{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},c=>{const{onJoin:f,onLeave:d,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rr.syncState(this.state,c,f,d),this.pendingDiffs.forEach(y=>{this.state=Rr.syncDiff(this.state,y,f,d)}),this.pendingDiffs=[],g()}),this.channel._on(s.diff,{},c=>{const{onJoin:f,onLeave:d,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Rr.syncDiff(this.state,c,f,d),g())}),this.onJoin((c,f,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:f,newPresences:d})}),this.onLeave((c,f,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:f,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,s,c){const f=this.cloneDeep(a),d=this.transformState(r),g={},y={};return this.map(f,(v,w)=>{d[v]||(y[v]=w)}),this.map(d,(v,w)=>{const E=f[v];if(E){const T=w.map(G=>G.presence_ref),k=E.map(G=>G.presence_ref),N=w.filter(G=>k.indexOf(G.presence_ref)<0),H=E.filter(G=>T.indexOf(G.presence_ref)<0);N.length>0&&(g[v]=N),H.length>0&&(y[v]=H)}else g[v]=w}),this.syncDiff(f,{joins:g,leaves:y},s,c)}static syncDiff(a,r,s,c){const{joins:f,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),c||(c=()=>{}),this.map(f,(g,y)=>{var v;const w=(v=a[g])!==null&&v!==void 0?v:[];if(a[g]=this.cloneDeep(y),w.length>0){const E=a[g].map(k=>k.presence_ref),T=w.filter(k=>E.indexOf(k.presence_ref)<0);a[g].unshift(...T)}s(g,w,y)}),this.map(d,(g,y)=>{let v=a[g];if(!v)return;const w=y.map(E=>E.presence_ref);v=v.filter(E=>w.indexOf(E.presence_ref)<0),a[g]=v,c(g,v,y),v.length===0&&delete a[g]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(s=>r(s,a[s]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,s)=>{const c=a[s];return"metas"in c?r[s]=c.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):r[s]=c,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gy;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(gy||(gy={}));var xr;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(xr||(xr={}));var jn;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(jn||(jn={}));class xi{constructor(a,r={config:{}},s){var c,f;if(this.topic=a,this.params=r,this.socket=s,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new jo(this,ln.join,this.params,this.timeout),this.rejoinTimer=new Ny(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(d,g)=>{this._trigger(this._replyEventName(g),d)}),this.presence=new Rr(this),this.broadcastEndpointURL=By(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var s,c,f;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:d,presence:g,private:y}}=this.params,v=(c=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(k=>k.filter))!==null&&c!==void 0?c:[],w=!!this.bindings[xr.PRESENCE]&&this.bindings[xr.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,E={},T={broadcast:d,presence:Object.assign(Object.assign({},g),{enabled:w}),postgres_changes:v,private:y};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(k=>a?.(jn.CHANNEL_ERROR,k)),this._onClose(()=>a?.(jn.CLOSED)),this.updateJoinPayload(Object.assign({config:T},E)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:k})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),k===void 0){a?.(jn.SUBSCRIBED);return}else{const H=this.bindings.postgres_changes,G=(N=H?.length)!==null&&N!==void 0?N:0,J=[];for(let L=0;L<G;L++){const U=H[L],{filter:{event:$,schema:ee,table:Z,filter:Y}}=U,ne=k&&k[L];if(ne&&ne.event===$&&xi.isFilterValueEqual(ne.schema,ee)&&xi.isFilterValueEqual(ne.table,Z)&&xi.isFilterValueEqual(ne.filter,Y))J.push(Object.assign(Object.assign({},U),{id:ne.id}));else{this.unsubscribe(),this.state=at.errored,a?.(jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=J,a&&a(jn.SUBSCRIBED);return}}).receive("error",k=>{this.state=at.errored,a?.(jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{a?.(jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,s){return this.state===at.joined&&a===xr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,r,s)}async httpSend(a,r,s={}){var c;if(r==null)return Promise.reject("Payload is required for httpSend()");const f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(c=s.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let y=g.statusText;try{const v=await g.json();y=v.error||v.message||y}catch{}return Promise.reject(new Error(y))}async send(a,r={}){var s,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:d}=a,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:d,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((c=v.body)===null||c===void 0?void 0:c.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var d,g,y;const v=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(g=(d=this.params)===null||d===void 0?void 0:d.config)===null||g===void 0?void 0:g.broadcast)===null||y===void 0)&&y.ack)&&f("ok"),v.receive("ok",()=>f("ok")),v.receive("error",()=>f("error")),v.receive("timeout",()=>f("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=at.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(c=>{s=new jo(this,ln.leave,{},a),s.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(a,r,s){const c=new AbortController,f=setTimeout(()=>c.abort(),s),d=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(f),d}_push(a,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new jo(this,a,r,s);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>qv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,s){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,s){var c,f;const d=a.toLocaleLowerCase(),{close:g,error:y,leave:v,join:w}=ln;if(s&&[g,y,v,w].indexOf(d)>=0&&s!==this._joinRef())return;let T=this._onMessage(d,r,s);if(r&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(k=>{var N,H,G;return((N=k.filter)===null||N===void 0?void 0:N.event)==="*"||((G=(H=k.filter)===null||H===void 0?void 0:H.event)===null||G===void 0?void 0:G.toLocaleLowerCase())===d}).map(k=>k.callback(T,s)):(f=this.bindings[d])===null||f===void 0||f.filter(k=>{var N,H,G,J,L,U;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in k){const $=k.id,ee=(N=k.filter)===null||N===void 0?void 0:N.event;return $&&((H=r.ids)===null||H===void 0?void 0:H.includes($))&&(ee==="*"||ee?.toLocaleLowerCase()===((G=r.data)===null||G===void 0?void 0:G.type.toLocaleLowerCase()))}else{const $=(L=(J=k?.filter)===null||J===void 0?void 0:J.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return $==="*"||$===((U=r?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===d}).map(k=>{if(typeof T=="object"&&"ids"in T){const N=T.data,{schema:H,table:G,commit_timestamp:J,type:L,errors:U}=N;T=Object.assign(Object.assign({},{schema:H,table:G,commit_timestamp:J,eventType:L,new:{},old:{},errors:U}),this._getPayloadRecords(N))}k.callback(T,s)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,s){const c=a.toLocaleLowerCase(),f={type:c,filter:r,callback:s};return this.bindings[c]?this.bindings[c].push(f):this.bindings[c]=[f],this}_off(a,r){const s=a.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(c=>{var f;return!(((f=c.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===s&&xi.isEqual(c.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const s in a)if(a[s]!==r[s])return!1;return!0}static isFilterValueEqual(a,r){return(a??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(ln.close,{},a)}_onError(a){this._on(ln.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=dy(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=dy(a.columns,a.old_record)),r}}const ko=()=>{},Wl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xv=[1e3,2e3,5e3,1e4],Jv=1e4,Qv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zv{constructor(a,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ho,this.transport=null,this.heartbeatIntervalMs=Wl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ko,this.ref=0,this.reconnectTimer=null,this.vsn=hy,this.logger=ko,this.conn=null,this.sendBuffer=[],this.serializer=new Lv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...f)=>c(...f):(...f)=>fetch(...f),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${$o.websocket}`,this.httpEndpoint=By(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Dv.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,s){this.logger(a,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case la.connecting:return Ca.Connecting;case la.open:return Ca.Open;case la.closing:return Ca.Closing;default:return Ca.Closed}}isConnected(){return this.connectionState()===Ca.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const s=`realtime:${a}`,c=this.getChannels().find(f=>f.topic===s);if(c)return c;{const f=new xi(`realtime:${a}`,r,this);return this.channels.push(f),f}}push(a){const{topic:r,event:s,payload:c,ref:f}=a,d=()=>{this.encode(a,g=>{var y;(y=this.conn)===null||y===void 0||y.send(g)})};this.log("push",`${r} ${s} (${f})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Bv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Wl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(s=>s.topic===a&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:c,payload:f,ref:d}=r,g=d?`(${d})`:"",y=f.status||"";this.log("receive",`${y} ${s} ${c} ${g}`.trim(),f),this.channels.filter(v=>v._isMember(s)).forEach(v=>v._trigger(c,f,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===la.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===la.open||this.conn.readyState===la.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(ln.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const s=a.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${a}${s}${c}`}_workerObjectUrl(a){let r;if(a)r=a;else{const s=new Blob([Qv],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r,s=!1;if(a)r=a,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(c=>{const f={access_token:r,version:Nv};r&&c.updateJoinPayload(f),c.joinedOnce&&c._isJoined()&&c._push(ln.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(s=>{try{s(r)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(s){this.log("error",`error triggering ${a} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Ny(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,s,c,f,d,g,y,v,w,E,T,k;switch(this.transport=(r=a?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=a?.timeout)!==null&&s!==void 0?s:Ho,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:Wl.HEARTBEAT_INTERVAL,this.worker=(f=a?.worker)!==null&&f!==void 0?f:!1,this.accessToken=(d=a?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(g=a?.heartbeatCallback)!==null&&g!==void 0?g:ko,this.vsn=(y=a?.vsn)!==null&&y!==void 0?y:hy,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=a?.reconnectAfterMs)!==null&&v!==void 0?v:(N=>Xv[N-1]||Jv),this.vsn){case zy:this.encode=(w=a?.encode)!==null&&w!==void 0?w:((N,H)=>H(JSON.stringify(N))),this.decode=(E=a?.decode)!==null&&E!==void 0?E:((N,H)=>H(JSON.parse(N)));break;case Mv:this.encode=(T=a?.encode)!==null&&T!==void 0?T:this.serializer.encode.bind(this.serializer),this.decode=(k=a?.decode)!==null&&k!==void 0?k:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Cr=class extends Error{constructor(l,a){super(l),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Iv(l,a,r){const s=new URL(a,l);if(r)for(const[c,f]of Object.entries(r))f!==void 0&&s.searchParams.set(c,f);return s.toString()}async function Wv(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function Pv(l){const a=l.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:c,body:f,headers:d}){const g=Iv(l.baseUrl,s,c),y=await Wv(l.auth),v=await a(g,{method:r,headers:{...f?{"Content-Type":"application/json"}:{},...y,...d},body:f?JSON.stringify(f):void 0}),w=await v.text(),E=(v.headers.get("content-type")||"").includes("application/json"),T=E&&w?JSON.parse(w):w;if(!v.ok){const k=E?T:void 0,N=k?.error;throw new Cr(N?.message??`Request failed with status ${v.status}`,{status:v.status,icebergType:N?.type,icebergCode:N?.code,details:k})}return{status:v.status,headers:v.headers,data:T}}}}function Pl(l){return l.join("")}var Fv=class{constructor(l,a=""){this.client=l,this.prefix=a}async listNamespaces(l){const a=l?{parent:Pl(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(l,a){const r={namespace:l.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pl(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pl(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pl(l.namespace)}`}),!0}catch(a){if(a instanceof Cr&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(l,a){try{return await this.createNamespace(l,a)}catch(r){if(r instanceof Cr&&r.status===409)return;throw r}}};function bi(l){return l.join("")}var ep=class{constructor(l,a="",r){this.client=l,this.prefix=a,this.accessDelegation=r}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bi(l.namespace)}/tables`})).data.identifiers}async createTable(l,a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bi(l.namespace)}/tables`,body:a,headers:r})).data.metadata}async updateTable(l,a){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bi(l.namespace)}/tables/${l.name}`,body:a});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(l,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bi(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(l){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bi(l.namespace)}/tables/${l.name}`,headers:a})).data.metadata}async tableExists(l){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bi(l.namespace)}/tables/${l.name}`,headers:a}),!0}catch(r){if(r instanceof Cr&&r.status===404)return!1;throw r}}async createTableIfNotExists(l,a){try{return await this.createTable(l,a)}catch(r){if(r instanceof Cr&&r.status===409)return await this.loadTable({namespace:l.namespace,name:a.name});throw r}}},tp=class{constructor(l){let a="v1";l.catalogName&&(a+=`/${l.catalogName}`);const r=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=Pv({baseUrl:r,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new Fv(this.client,a),this.tableOps=new ep(this.client,a,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,a){return this.namespaceOps.createNamespace(l,a)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,a){return this.tableOps.createTable(l,a)}async updateTable(l,a){return this.tableOps.updateTable(l,a)}async dropTable(l,a){await this.tableOps.dropTable(l,a)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,a){return this.namespaceOps.createNamespaceIfNotExists(l,a)}async createTableIfNotExists(l,a){return this.tableOps.createTableIfNotExists(l,a)}},rs=class extends Error{constructor(l){super(l),this.__isStorageError=!0,this.name="StorageError"}};function $e(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}var np=class extends rs{constructor(l,a,r){super(l),this.name="StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Vo=class extends rs{constructor(l,a){super(l),this.name="StorageUnknownError",this.originalError=a}};const Po=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),ap=()=>Response,Yo=l=>{if(Array.isArray(l))return l.map(r=>Yo(r));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([r,s])=>{const c=r.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));a[c]=Yo(s)}),a},ip=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},rp=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l);function jr(l){"@babel/helpers - typeof";return jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},jr(l)}function lp(l,a){if(jr(l)!="object"||!l)return l;var r=l[Symbol.toPrimitive];if(r!==void 0){var s=r.call(l,a);if(jr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function sp(l){var a=lp(l,"string");return jr(a)=="symbol"?a:a+""}function up(l,a,r){return(a=sp(a))in l?Object.defineProperty(l,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[a]=r,l}function my(l,a){var r=Object.keys(l);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(l);a&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),r.push.apply(r,s)}return r}function se(l){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?my(Object(r),!0).forEach(function(s){up(l,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(r)):my(Object(r)).forEach(function(s){Object.defineProperty(l,s,Object.getOwnPropertyDescriptor(r,s))})}return l}const Uo=l=>{var a;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(a=l.error)===null||a===void 0?void 0:a.message)||JSON.stringify(l)},op=async(l,a,r)=>{l instanceof await ap()&&!r?.noResolveJson?l.json().then(s=>{const c=l.status||500,f=s?.statusCode||c+"";a(new np(Uo(s),c,f))}).catch(s=>{a(new Vo(Uo(s),s))}):a(new Vo(Uo(l),l))},cp=(l,a,r,s)=>{const c={method:l,headers:a?.headers||{}};return l==="GET"||!s?c:(ip(s)?(c.headers=se({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(s)):c.body=s,a?.duplex&&(c.duplex=a.duplex),se(se({},c),r))};async function Nr(l,a,r,s,c,f){return new Promise((d,g)=>{l(r,cp(a,s,c,f)).then(y=>{if(!y.ok)throw y;return s?.noResolveJson?y:y.json()}).then(y=>d(y)).catch(y=>op(y,g,s))})}async function kr(l,a,r,s){return Nr(l,"GET",a,r,s)}async function rn(l,a,r,s,c){return Nr(l,"POST",a,s,c,r)}async function Ko(l,a,r,s,c){return Nr(l,"PUT",a,s,c,r)}async function fp(l,a,r,s){return Nr(l,"HEAD",a,se(se({},r),{},{noResolveJson:!0}),s)}async function Fo(l,a,r,s,c){return Nr(l,"DELETE",a,s,c,r)}var hp=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a}then(l,a){return this.execute().then(l,a)}async execute(){var l=this;try{return{data:(await l.downloadFn()).body,error:null}}catch(a){if(l.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}}};let qy;qy=Symbol.toStringTag;var dp=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a,this[qy]="BlobDownloadBuilder",this.promise=null}asStream(){return new hp(this.downloadFn,this.shouldThrowOnError)}then(l,a){return this.getPromise().then(l,a)}catch(l){return this.getPromise().catch(l)}finally(l){return this.getPromise().finally(l)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var l=this;try{return{data:await(await l.downloadFn()).blob(),error:null}}catch(a){if(l.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}}};const yp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var gp=class{constructor(l,a={},r,s){this.shouldThrowOnError=!1,this.url=l,this.headers=a,this.bucketId=r,this.fetch=Po(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(l,a,r,s){var c=this;try{let f;const d=se(se({},vy),s);let g=se(se({},c.headers),l==="POST"&&{"x-upsert":String(d.upsert)});const y=d.metadata;typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),y&&f.append("metadata",c.encodeMetadata(y)),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.has("cacheControl")||f.append("cacheControl",d.cacheControl),y&&!f.has("metadata")&&f.append("metadata",c.encodeMetadata(y))):(f=r,g["cache-control"]=`max-age=${d.cacheControl}`,g["content-type"]=d.contentType,y&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(y))),(typeof ReadableStream<"u"&&f instanceof ReadableStream||f&&typeof f=="object"&&"pipe"in f&&typeof f.pipe=="function")&&!d.duplex&&(d.duplex="half")),s?.headers&&(g=se(se({},g),s.headers));const v=c._removeEmptyFolders(a),w=c._getFinalPath(v),E=await(l=="PUT"?Ko:rn)(c.fetch,`${c.url}/object/${w}`,f,se({headers:g},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:v,id:E.Id,fullPath:E.Key},error:null}}catch(f){if(c.shouldThrowOnError)throw f;if($e(f))return{data:null,error:f};throw f}}async upload(l,a,r){return this.uploadOrUpdate("POST",l,a,r)}async uploadToSignedUrl(l,a,r,s){var c=this;const f=c._removeEmptyFolders(l),d=c._getFinalPath(f),g=new URL(c.url+`/object/upload/sign/${d}`);g.searchParams.set("token",a);try{let y;const v=se({upsert:vy.upsert},s),w=se(se({},c.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&r instanceof Blob?(y=new FormData,y.append("cacheControl",v.cacheControl),y.append("",r)):typeof FormData<"u"&&r instanceof FormData?(y=r,y.append("cacheControl",v.cacheControl)):(y=r,w["cache-control"]=`max-age=${v.cacheControl}`,w["content-type"]=v.contentType),{data:{path:f,fullPath:(await Ko(c.fetch,g.toString(),y,{headers:w})).Key},error:null}}catch(y){if(c.shouldThrowOnError)throw y;if($e(y))return{data:null,error:y};throw y}}async createSignedUploadUrl(l,a){var r=this;try{let s=r._getFinalPath(l);const c=se({},r.headers);a?.upsert&&(c["x-upsert"]="true");const f=await rn(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:c}),d=new URL(r.url+f.url),g=d.searchParams.get("token");if(!g)throw new rs("No token returned by API");return{data:{signedUrl:d.toString(),path:l,token:g},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}}async update(l,a,r){return this.uploadOrUpdate("PUT",l,a,r)}async move(l,a,r){var s=this;try{return{data:await rn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:l,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:s.headers}),error:null}}catch(c){if(s.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async copy(l,a,r){var s=this;try{return{data:{path:(await rn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:l,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async createSignedUrl(l,a,r){var s=this;try{let c=s._getFinalPath(l),f=await rn(s.fetch,`${s.url}/object/sign/${c}`,se({expiresIn:a},r?.transform?{transform:r.transform}:{}),{headers:s.headers});const d=r?.download?`&download=${r.download===!0?"":r.download}`:"";return f={signedUrl:encodeURI(`${s.url}${f.signedURL}${d}`)},{data:f,error:null}}catch(c){if(s.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async createSignedUrls(l,a,r){var s=this;try{const c=await rn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:a,paths:l},{headers:s.headers}),f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:c.map(d=>se(se({},d),{},{signedUrl:d.signedURL?encodeURI(`${s.url}${d.signedURL}${f}`):null})),error:null}}catch(c){if(s.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}download(l,a){const r=typeof a?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(a?.transform||{}),c=s?`?${s}`:"",f=this._getFinalPath(l),d=()=>kr(this.fetch,`${this.url}/${r}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new dp(d,this.shouldThrowOnError)}async info(l){var a=this;const r=a._getFinalPath(l);try{return{data:Yo(await kr(a.fetch,`${a.url}/object/info/${r}`,{headers:a.headers})),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}}async exists(l){var a=this;const r=a._getFinalPath(l);try{return await fp(a.fetch,`${a.url}/object/${r}`,{headers:a.headers}),{data:!0,error:null}}catch(s){if(a.shouldThrowOnError)throw s;if($e(s)&&s instanceof Vo){const c=s.originalError;if([400,404].includes(c?.status))return{data:!1,error:s}}throw s}}getPublicUrl(l,a){const r=this._getFinalPath(l),s=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&s.push(c);const f=typeof a?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(a?.transform||{});d!==""&&s.push(d);let g=s.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${r}${g}`)}}}async remove(l){var a=this;try{return{data:await Fo(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:l},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async list(l,a,r){var s=this;try{const c=se(se(se({},yp),a),{},{prefix:l||""});return{data:await rn(s.fetch,`${s.url}/object/list/${s.bucketId}`,c,{headers:s.headers},r),error:null}}catch(c){if(s.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async listV2(l,a){var r=this;try{const s=se({},l);return{data:await rn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},a),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const a=[];return l.width&&a.push(`width=${l.width}`),l.height&&a.push(`height=${l.height}`),l.resize&&a.push(`resize=${l.resize}`),l.format&&a.push(`format=${l.format}`),l.quality&&a.push(`quality=${l.quality}`),a.join("&")}};const Ly="2.89.0",Hy={"X-Client-Info":`storage-js/${Ly}`};var mp=class{constructor(l,a={},r,s){this.shouldThrowOnError=!1;const c=new URL(l);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=se(se({},Hy),a),this.fetch=Po(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(l){var a=this;try{const r=a.listBucketOptionsToQueryString(l);return{data:await kr(a.fetch,`${a.url}/bucket${r}`,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async getBucket(l){var a=this;try{return{data:await kr(a.fetch,`${a.url}/bucket/${l}`,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async createBucket(l,a={public:!1}){var r=this;try{return{data:await rn(r.fetch,`${r.url}/bucket`,{id:l,name:l,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}}async updateBucket(l,a){var r=this;try{return{data:await Ko(r.fetch,`${r.url}/bucket/${l}`,{id:l,name:l,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}}async emptyBucket(l){var a=this;try{return{data:await rn(a.fetch,`${a.url}/bucket/${l}/empty`,{},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async deleteBucket(l){var a=this;try{return{data:await Fo(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(l){const a={};return l&&("limit"in l&&(a.limit=String(l.limit)),"offset"in l&&(a.offset=String(l.offset)),l.search&&(a.search=l.search),l.sortColumn&&(a.sortColumn=l.sortColumn),l.sortOrder&&(a.sortOrder=l.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},vp=class{constructor(l,a={},r){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=se(se({},Hy),a),this.fetch=Po(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var a=this;try{return{data:await rn(a.fetch,`${a.url}/bucket`,{name:l},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async listBuckets(l){var a=this;try{const r=new URLSearchParams;l?.limit!==void 0&&r.set("limit",l.limit.toString()),l?.offset!==void 0&&r.set("offset",l.offset.toString()),l?.sortColumn&&r.set("sortColumn",l.sortColumn),l?.sortOrder&&r.set("sortOrder",l.sortOrder),l?.search&&r.set("search",l.search);const s=r.toString(),c=s?`${a.url}/bucket?${s}`:`${a.url}/bucket`;return{data:await kr(a.fetch,c,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async deleteBucket(l){var a=this;try{return{data:await Fo(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}from(l){var a=this;if(!rp(l))throw new rs("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new tp({baseUrl:this.url,catalogName:l,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(c,f){const d=c[f];return typeof d!="function"?d:async(...g)=>{try{return{data:await d.apply(c,g),error:null}}catch(y){if(s)throw y;return{data:null,error:y}}}}})}};const ec={"X-Client-Info":`storage-js/${Ly}`,"Content-Type":"application/json"};var $y=class extends Error{constructor(l){super(l),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Lt(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}var Do=class extends $y{constructor(l,a,r){super(l),this.name="StorageVectorsApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},pp=class extends $y{constructor(l,a){super(l),this.name="StorageVectorsUnknownError",this.originalError=a}};const tc=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),bp=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},py=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),_p=async(l,a,r)=>{if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!r?.noResolveJson){const s=l.status||500,c=l;if(typeof c.json=="function")c.json().then(f=>{const d=f?.statusCode||f?.code||s+"";a(new Do(py(f),s,d))}).catch(()=>{const f=s+"";a(new Do(c.statusText||`HTTP ${s} error`,s,f))});else{const f=s+"";a(new Do(c.statusText||`HTTP ${s} error`,s,f))}}else a(new pp(py(l),l))},wp=(l,a,r,s)=>{const c={method:l,headers:a?.headers||{}};return s?(bp(s)?(c.headers=se({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(s)):c.body=s,se(se({},c),r)):c};async function Sp(l,a,r,s,c,f){return new Promise((d,g)=>{l(r,wp(a,s,c,f)).then(y=>{if(!y.ok)throw y;if(s?.noResolveJson)return y;const v=y.headers.get("content-type");return!v||!v.includes("application/json")?{}:y.json()}).then(y=>d(y)).catch(y=>_p(y,g,s))})}async function Ht(l,a,r,s,c){return Sp(l,"POST",a,s,c,r)}var Ep=class{constructor(l,a={},r){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=se(se({},ec),a),this.fetch=tc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(l){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/CreateIndex`,l,{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async getIndex(l,a){var r=this;try{return{data:await Ht(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:l,indexName:a},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}}async listIndexes(l){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/ListIndexes`,l,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async deleteIndex(l,a){var r=this;try{return{data:await Ht(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:l,indexName:a},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}}},Tp=class{constructor(l,a={},r){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=se(se({},ec),a),this.fetch=tc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(l){var a=this;try{if(l.vectors.length<1||l.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ht(a.fetch,`${a.url}/PutVectors`,l,{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async getVectors(l){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/GetVectors`,l,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async listVectors(l){var a=this;try{if(l.segmentCount!==void 0){if(l.segmentCount<1||l.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(l.segmentIndex!==void 0&&(l.segmentIndex<0||l.segmentIndex>=l.segmentCount))throw new Error(`segmentIndex must be between 0 and ${l.segmentCount-1}`)}return{data:await Ht(a.fetch,`${a.url}/ListVectors`,l,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async queryVectors(l){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/QueryVectors`,l,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async deleteVectors(l){var a=this;try{if(l.keys.length<1||l.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ht(a.fetch,`${a.url}/DeleteVectors`,l,{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}},Ap=class{constructor(l,a={},r){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=se(se({},ec),a),this.fetch=tc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async getBucket(l){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:l},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async listBuckets(l={}){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/ListVectorBuckets`,l,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async deleteBucket(l){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}},Op=class extends Ap{constructor(l,a={}){super(l,a.headers||{},a.fetch)}from(l){return new Rp(this.url,this.headers,l,this.fetch)}async createBucket(l){var a=()=>super.createBucket,r=this;return a().call(r,l)}async getBucket(l){var a=()=>super.getBucket,r=this;return a().call(r,l)}async listBuckets(l={}){var a=()=>super.listBuckets,r=this;return a().call(r,l)}async deleteBucket(l){var a=()=>super.deleteBucket,r=this;return a().call(r,l)}},Rp=class extends Ep{constructor(l,a,r,s){super(l,a,s),this.vectorBucketName=r}async createIndex(l){var a=()=>super.createIndex,r=this;return a().call(r,se(se({},l),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(l={}){var a=()=>super.listIndexes,r=this;return a().call(r,se(se({},l),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(l){var a=()=>super.getIndex,r=this;return a().call(r,r.vectorBucketName,l)}async deleteIndex(l){var a=()=>super.deleteIndex,r=this;return a().call(r,r.vectorBucketName,l)}index(l){return new xp(this.url,this.headers,this.vectorBucketName,l,this.fetch)}},xp=class extends Tp{constructor(l,a,r,s,c){super(l,a,c),this.vectorBucketName=r,this.indexName=s}async putVectors(l){var a=()=>super.putVectors,r=this;return a().call(r,se(se({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(l){var a=()=>super.getVectors,r=this;return a().call(r,se(se({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(l={}){var a=()=>super.listVectors,r=this;return a().call(r,se(se({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(l){var a=()=>super.queryVectors,r=this;return a().call(r,se(se({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(l){var a=()=>super.deleteVectors,r=this;return a().call(r,se(se({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Cp=class extends mp{constructor(l,a={},r,s){super(l,a,r,s)}from(l){return new gp(this.url,this.headers,l,this.fetch)}get vectors(){return new Op(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vp(this.url+"/iceberg",this.headers,this.fetch)}};const Gy="2.89.0",Oi=30*1e3,Xo=3,zo=Xo*Oi,jp="http://localhost:9999",kp="supabase.auth.token",Up={"X-Client-Info":`gotrue-js/${Gy}`},Jo="X-Supabase-Api-Version",Vy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zp=600*1e3;class Ur extends Error{constructor(a,r,s){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function te(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class Np extends Ur{constructor(a,r,s){super(a,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Mp(l){return te(l)&&l.name==="AuthApiError"}class ja extends Ur{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class kn extends Ur{constructor(a,r,s,c){super(a,s,c),this.name=r,this.status=s}}class qt extends kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bp(l){return te(l)&&l.name==="AuthSessionMissingError"}class _i extends kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fl extends kn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class es extends kn{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qp(l){return te(l)&&l.name==="AuthImplicitGrantRedirectError"}class by extends kn{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lp extends kn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Qo extends kn{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function No(l){return te(l)&&l.name==="AuthRetryableFetchError"}class _y extends kn{constructor(a,r,s){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Zo extends kn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const ts="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wy=` 	
\r=`.split(""),Hp=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<wy.length;a+=1)l[wy[a].charCodeAt(0)]=-2;for(let a=0;a<ts.length;a+=1)l[ts[a].charCodeAt(0)]=a;return l})();function Sy(l,a,r){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;r(ts[s]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;r(ts[s]),a.queuedBits-=6}}function Yy(l,a,r){const s=Hp[l];if(s>-1)for(a.queue=a.queue<<6|s,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Ey(l){const a=[],r=d=>{a.push(String.fromCodePoint(d))},s={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},f=d=>{Vp(d,s,r)};for(let d=0;d<l.length;d+=1)Yy(l.charCodeAt(d),c,f);return a.join("")}function $p(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function Gp(l,a){for(let r=0;r<l.length;r+=1){let s=l.charCodeAt(r);if(s>55295&&s<=56319){const c=(s-55296)*1024&65535;s=(l.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}$p(s,a)}}function Vp(l,a,r){if(a.utf8seq===0){if(l<=127){r(l);return}for(let s=1;s<6;s+=1)if((l>>7-s&1)===0){a.utf8seq=s;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function Ci(l){const a=[],r={queue:0,queuedBits:0},s=c=>{a.push(c)};for(let c=0;c<l.length;c+=1)Yy(l.charCodeAt(c),r,s);return new Uint8Array(a)}function Yp(l){const a=[];return Gp(l,r=>a.push(r)),new Uint8Array(a)}function ka(l){const a=[],r={queue:0,queuedBits:0},s=c=>{a.push(c)};return l.forEach(c=>Sy(c,r,s)),Sy(null,r,s),a.join("")}function Kp(l){return Math.round(Date.now()/1e3)+l}function Xp(){return Symbol("auth-callback")}const gt=()=>typeof window<"u"&&typeof document<"u",Oa={tested:!1,writable:!1},Ky=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Oa.tested)return Oa.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Oa.tested=!0,Oa.writable=!0}catch{Oa.tested=!0,Oa.writable=!1}return Oa.writable};function Jp(l){const a={},r=new URL(l);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,f)=>{a[f]=c})}catch{}return r.searchParams.forEach((s,c)=>{a[c]=s}),a}const Xy=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Qp=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Ri=async(l,a,r)=>{await l.setItem(a,JSON.stringify(r))},Ra=async(l,a)=>{const r=await l.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},yt=async(l,a)=>{await l.removeItem(a)};class ls{constructor(){this.promise=new ls.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}ls.promiseConstructor=Promise;function Mo(l){const a=l.split(".");if(a.length!==3)throw new Zo("Invalid JWT structure");for(let s=0;s<a.length;s++)if(!Dp.test(a[s]))throw new Zo("JWT not in base64url format");return{header:JSON.parse(Ey(a[0])),payload:JSON.parse(Ey(a[1])),signature:Ci(a[2]),raw:{header:a[0],payload:a[1]}}}async function Zp(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function Ip(l,a){return new Promise((s,c)=>{(async()=>{for(let f=0;f<1/0;f++)try{const d=await l(f);if(!a(f,null,d)){s(d);return}}catch(d){if(!a(f,d)){c(d);return}}})()})}function Wp(l){return("0"+l.toString(16)).substr(-2)}function Pp(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let c="";for(let f=0;f<56;f++)c+=r.charAt(Math.floor(Math.random()*s));return c}return crypto.getRandomValues(a),Array.from(a,Wp).join("")}async function Fp(l){const r=new TextEncoder().encode(l),s=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(s);return Array.from(c).map(f=>String.fromCharCode(f)).join("")}async function e0(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const r=await Fp(l);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wi(l,a,r=!1){const s=Pp();let c=s;r&&(c+="/PASSWORD_RECOVERY"),await Ri(l,`${a}-code-verifier`,c);const f=await e0(s);return[f,s===f?"plain":"s256"]}const t0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function n0(l){const a=l.headers.get(Jo);if(!a||!a.match(t0))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function a0(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function i0(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const r0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Si(l){if(!r0.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bo(){const l={};return new Proxy(l,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function l0(l,a){return new Proxy(l,{get:(r,s,c)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const f=s.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,c)}return!a.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(r,s,c)}})}function Ty(l){return JSON.parse(JSON.stringify(l))}const xa=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),s0=[502,503,504];async function Ay(l){var a;if(!Qp(l))throw new Qo(xa(l),0);if(s0.includes(l.status))throw new Qo(xa(l),l.status);let r;try{r=await l.json()}catch(f){throw new ja(xa(f),f)}let s;const c=n0(l);if(c&&c.getTime()>=Vy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new _y(xa(r),l.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(s==="session_not_found")throw new qt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((f,d)=>f&&typeof d=="string",!0))throw new _y(xa(r),l.status,r.weak_password.reasons);throw new Np(xa(r),l.status||500,s)}const u0=(l,a,r,s)=>{const c={method:l,headers:a?.headers||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(s),Object.assign(Object.assign({},c),r))};async function le(l,a,r,s){var c;const f=Object.assign({},s?.headers);f[Jo]||(f[Jo]=Vy["2024-01-01"].name),s?.jwt&&(f.Authorization=`Bearer ${s.jwt}`);const d=(c=s?.query)!==null&&c!==void 0?c:{};s?.redirectTo&&(d.redirect_to=s.redirectTo);const g=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",y=await o0(l,a,r+g,{headers:f,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(y):{data:Object.assign({},y),error:null}}async function o0(l,a,r,s,c,f){const d=u0(a,s,c,f);let g;try{g=await l(r,Object.assign({},d))}catch(y){throw console.error(y),new Qo(xa(y),0)}if(g.ok||await Ay(g),s?.noResolveJson)return g;try{return await g.json()}catch(y){await Ay(y)}}function an(l){var a;let r=null;h0(l)&&(r=Object.assign({},l),l.expires_at||(r.expires_at=Kp(l.expires_in)));const s=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:r,user:s},error:null}}function Oy(l){const a=an(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(a.data.weak_password=l.weak_password),a}function sa(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function c0(l){return{data:l,error:null}}function f0(l){const{action_link:a,email_otp:r,hashed_token:s,redirect_to:c,verification_type:f}=l,d=is(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:a,email_otp:r,hashed_token:s,redirect_to:c,verification_type:f},y=Object.assign({},d);return{data:{properties:g,user:y},error:null}}function Ry(l){return l}function h0(l){return l.access_token&&l.refresh_token&&l.expires_in}const qo=["global","local","others"];class d0{constructor({url:a="",headers:r={},fetch:s}){this.url=a,this.headers=r,this.fetch=Xy(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=qo[0]){if(qo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qo.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}}async inviteUserByEmail(a,r={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:sa})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async generateLink(a){try{const{options:r}=a,s=is(a,["options"]),c=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(c.new_email=s?.newEmail,delete c.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:f0,redirectTo:r?.redirectTo})}catch(r){if(te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:sa})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,s,c,f,d,g,y;try{const v={nextPage:null,lastPage:0,total:0},w=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(f=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:Ry});if(w.error)throw w.error;const E=await w.json(),T=(d=w.headers.get("x-total-count"))!==null&&d!==void 0?d:0,k=(y=(g=w.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&y!==void 0?y:[];return k.length>0&&(k.forEach(N=>{const H=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),G=JSON.parse(N.split(";")[1].split("=")[1]);v[`${G}Page`]=H}),v.total=parseInt(T)),{data:Object.assign(Object.assign({},E),v),error:null}}catch(v){if(te(v))return{data:{users:[]},error:v};throw v}}async getUserById(a){Si(a);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:sa})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){Si(a);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:sa})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async deleteUser(a,r=!1){Si(a);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:sa})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async _listFactors(a){Si(a.userId);try{const{data:r,error:s}=await le(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:s}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteFactor(a){Si(a.userId),Si(a.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,s,c,f,d,g,y;try{const v={nextPage:null,lastPage:0,total:0},w=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(f=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:Ry});if(w.error)throw w.error;const E=await w.json(),T=(d=w.headers.get("x-total-count"))!==null&&d!==void 0?d:0,k=(y=(g=w.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&y!==void 0?y:[];return k.length>0&&(k.forEach(N=>{const H=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),G=JSON.parse(N.split(";")[1].split("=")[1]);v[`${G}Page`]=H}),v.total=parseInt(T)),{data:Object.assign(Object.assign({},E),v),error:null}}catch(v){if(te(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(a){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _updateOAuthClient(a,r){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(a){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}}function xy(l={}){return{getItem:a=>l[a]||null,setItem:(a,r)=>{l[a]=r},removeItem:a=>{delete l[a]}}}const Ei={debug:!!(globalThis&&Ky()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jy extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class y0 extends Jy{}async function g0(l,a,r){Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const s=new globalThis.AbortController;return a>0&&setTimeout(()=>{s.abort(),Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async c=>{if(c){Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,c.name);try{return await r()}finally{Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,c.name)}}else{if(a===0)throw Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new y0(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Ei.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function m0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qy(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function v0(l){return parseInt(l,16)}function p0(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,s=>s.toString(16).padStart(2,"0")).join("")}function b0(l){var a;const{chainId:r,domain:s,expirationTime:c,issuedAt:f=new Date,nonce:d,notBefore:g,requestId:y,resources:v,scheme:w,uri:E,version:T}=l;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const k=Qy(l.address),N=w?`${w}://${s}`:s,H=l.statement?`${l.statement}
`:"",G=`${N} wants you to sign in with your Ethereum account:
${k}

${H}`;let J=`URI: ${E}
Version: ${T}
Chain ID: ${r}${d?`
Nonce: ${d}`:""}
Issued At: ${f.toISOString()}`;if(c&&(J+=`
Expiration Time: ${c.toISOString()}`),g&&(J+=`
Not Before: ${g.toISOString()}`),y&&(J+=`
Request ID: ${y}`),v){let L=`
Resources:`;for(const U of v){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);L+=`
- ${U}`}J+=L}return`${G}
${J}`}class tt extends Error{constructor({message:a,code:r,cause:s,name:c}){var f;super(a,{cause:s}),this.__isWebAuthnError=!0,this.name=(f=c??(s instanceof Error?s.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=r}}class ns extends tt{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function _0({error:l,options:a}){var r,s,c;const{publicKey:f}=a;if(!f)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((r=f.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((s=f.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((c=f.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new tt({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return f.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const d=window.location.hostname;if(Zy(d)){if(f.rp.id!==d)return new tt({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function w0({error:l,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new tt({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const s=window.location.hostname;if(Zy(s)){if(r.rpId!==s)return new tt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class S0{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const E0=new S0;function T0(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:r,excludeCredentials:s}=l,c=is(l,["challenge","user","excludeCredentials"]),f=Ci(a).buffer,d=Object.assign(Object.assign({},r),{id:Ci(r.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:f,user:d});if(s&&s.length>0){g.excludeCredentials=new Array(s.length);for(let y=0;y<s.length;y++){const v=s[y];g.excludeCredentials[y]=Object.assign(Object.assign({},v),{id:Ci(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return g}function A0(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:r}=l,s=is(l,["challenge","allowCredentials"]),c=Ci(a).buffer,f=Object.assign(Object.assign({},s),{challenge:c});if(r&&r.length>0){f.allowCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const g=r[d];f.allowCredentials[d]=Object.assign(Object.assign({},g),{id:Ci(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function O0(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l;return{id:l.id,rawId:l.id,response:{attestationObject:ka(new Uint8Array(l.response.attestationObject)),clientDataJSON:ka(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function R0(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l,s=l.getClientExtensionResults(),c=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:ka(new Uint8Array(c.authenticatorData)),clientDataJSON:ka(new Uint8Array(c.clientDataJSON)),signature:ka(new Uint8Array(c.signature)),userHandle:c.userHandle?ka(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Zy(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Cy(){var l,a;return!!(gt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function x0(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new ns("Browser returned unexpected credential type",a)}:{data:null,error:new ns("Empty credential response",a)}}catch(a){return{data:null,error:_0({error:a,options:l})}}}async function C0(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new ns("Browser returned unexpected credential type",a)}:{data:null,error:new ns("Empty credential response",a)}}catch(a){return{data:null,error:w0({error:a,options:l})}}}const j0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},k0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function as(...l){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),r=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),s={};for(const c of l)if(c)for(const f in c){const d=c[f];if(d!==void 0)if(Array.isArray(d))s[f]=d;else if(r(d))s[f]=d;else if(a(d)){const g=s[f];a(g)?s[f]=as(g,d):s[f]=as(d)}else s[f]=d}return s}function U0(l,a){return as(j0,l,a||{})}function D0(l,a){return as(k0,l,a||{})}class z0{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:s,signal:c},f){try{const{data:d,error:g}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!d)return{data:null,error:g};const y=c??E0.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:v}=d.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${s}`),v.displayName||(v.displayName=v.name)}switch(d.webauthn.type){case"create":{const v=U0(d.webauthn.credential_options.publicKey,f?.create),{data:w,error:E}=await x0({publicKey:v,signal:y});return w?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:w}},error:null}:{data:null,error:E}}case"request":{const v=D0(d.webauthn.credential_options.publicKey,f?.request),{data:w,error:E}=await C0(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:v,signal:y}));return w?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:w}},error:null}:{data:null,error:E}}}}catch(d){return te(d)?{data:null,error:d}:{data:null,error:new ja("Unexpected error in challenge",d)}}}async _verify({challengeId:a,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:s})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!r)return{data:null,error:new Ur("rpId is required for WebAuthn authentication")};try{if(!Cy())return{data:null,error:new ja("Browser does not support WebAuthn",null)};const{data:d,error:g}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:s},signal:c},{request:f});if(!d)return{data:null,error:g};const{webauthn:y}=d;return this._verify({factorId:a,challengeId:d.challengeId,webauthn:{type:y.type,rpId:r,rpOrigins:s,credential_response:y.credential_response}})}catch(d){return te(d)?{data:null,error:d}:{data:null,error:new ja("Unexpected error in authenticate",d)}}}async _register({friendlyName:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!r)return{data:null,error:new Ur("rpId is required for WebAuthn registration")};try{if(!Cy())return{data:null,error:new ja("Browser does not support WebAuthn",null)};const{data:d,error:g}=await this._enroll({friendlyName:a});if(!d)return await this.client.mfa.listFactors().then(w=>{var E;return(E=w.data)===null||E===void 0?void 0:E.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===a&&T.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w?.id}):void 0),{data:null,error:g};const{data:y,error:v}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:c},{create:f});return y?this._verify({factorId:d.id,challengeId:y.challengeId,webauthn:{rpId:r,rpOrigins:s,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:v}}catch(d){return te(d)?{data:null,error:d}:{data:null,error:new ja("Unexpected error in register",d)}}}}m0();const N0={url:jp,storageKey:kp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Up,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function jy(l,a,r){return await r()}const Ti={};class Dr{get jwks(){var a,r;return(r=(a=Ti[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){Ti[this.storageKey]=Object.assign(Object.assign({},Ti[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=Ti[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Ti[this.storageKey]=Object.assign(Object.assign({},Ti[this.storageKey]),{cachedAt:a})}constructor(a){var r,s,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const f=Object.assign(Object.assign({},N0),a);if(this.storageKey=f.storageKey,this.instanceID=(r=Dr.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Dr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.instanceID>0&&gt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=f.persistSession,this.autoRefreshToken=f.autoRefreshToken,this.admin=new d0({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=Xy(f.fetch),this.lock=f.lock||jy,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,this.throwOnError=f.throwOnError,f.lock?this.lock=f.lock:this.persistSession&&gt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=g0:this.lock=jy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new z0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:Ky()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xy(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=xy(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gy}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let r={},s="none";if(gt()&&(r=Jp(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),gt()&&this.detectSessionInUrl&&s!=="none"){const{data:c,error:f}=await this._getSessionFromURL(r,s);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),qp(f)){const y=(a=f.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:f}}return await this._removeSession(),{error:f}}const{session:d,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",g),await this._saveSession(d),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return te(r)?this._returnResult({error:r}):this._returnResult({error:new ja("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,s,c;try{const f=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=a?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:an}),{data:d,error:g}=f;if(g||!d)return this._returnResult({data:{user:null,session:null},error:g});const y=d.session,v=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(f){if(te(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signUp(a){var r,s,c;try{let f;if("email"in a){const{email:w,password:E,options:T}=a;let k=null,N=null;this.flowType==="pkce"&&([k,N]=await wi(this.storage,this.storageKey)),f=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T?.emailRedirectTo,body:{email:w,password:E,data:(r=T?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:T?.captchaToken},code_challenge:k,code_challenge_method:N},xform:an})}else if("phone"in a){const{phone:w,password:E,options:T}=a;f=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:E,data:(s=T?.data)!==null&&s!==void 0?s:{},channel:(c=T?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:T?.captchaToken}},xform:an})}else throw new Fl("You must provide either an email or phone number and a password");const{data:d,error:g}=f;if(g||!d)return await yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const y=d.session,v=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(f){if(await yt(this.storage,`${this.storageKey}-code-verifier`),te(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithPassword(a){try{let r;if("email"in a){const{email:f,password:d,options:g}=a;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:d,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Oy})}else if("phone"in a){const{phone:f,password:d,options:g}=a;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:d,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Oy})}else throw new Fl("You must provide either an email or phone number and a password");const{data:s,error:c}=r;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!s||!s.session||!s.user){const f=new _i;return this._returnResult({data:{user:null,session:null},error:f})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:c})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(a){var r,s,c,f;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=a.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(f=a.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,s,c,f,d,g,y,v,w,E,T;let k,N;if("message"in a)k=a.message,N=a.signature;else{const{chain:H,wallet:G,statement:J,options:L}=a;let U;if(gt())if(typeof G=="object")U=G;else{const Ae=window;if("ethereum"in Ae&&typeof Ae.ethereum=="object"&&"request"in Ae.ethereum&&typeof Ae.ethereum.request=="function")U=Ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=G}const $=new URL((r=L?.url)!==null&&r!==void 0?r:window.location.href),ee=await U.request({method:"eth_requestAccounts"}).then(Ae=>Ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ee||ee.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=Qy(ee[0]);let Y=(s=L?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!Y){const Ae=await U.request({method:"eth_chainId"});Y=v0(Ae)}const ne={domain:$.host,address:Z,statement:J,uri:$.href,version:"1",chainId:Y,nonce:(c=L?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(d=(f=L?.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(g=L?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(y=L?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(v=L?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(w=L?.signInWithEthereum)===null||w===void 0?void 0:w.resources};k=b0(ne),N=await U.request({method:"personal_sign",params:[p0(k),Z]})}try{const{data:H,error:G}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:k,signature:N},!((E=a.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(T=a.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:an});if(G)throw G;if(!H||!H.session||!H.user){const J=new _i;return this._returnResult({data:{user:null,session:null},error:J})}return H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),this._returnResult({data:Object.assign({},H),error:G})}catch(H){if(te(H))return this._returnResult({data:{user:null,session:null},error:H});throw H}}async signInWithSolana(a){var r,s,c,f,d,g,y,v,w,E,T,k;let N,H;if("message"in a)N=a.message,H=a.signature;else{const{chain:G,wallet:J,statement:L,options:U}=a;let $;if(gt())if(typeof J=="object")$=J;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))$=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof J!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=J}const ee=new URL((r=U?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in $&&$.signIn){const Z=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:ee.host,uri:ee.href}),L?{statement:L}:null));let Y;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")Y=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)Y=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)N=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),H=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${ee.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${ee.href}`,`Issued At: ${(c=(s=U?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((f=U?.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((d=U?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((g=U?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((y=U?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((v=U?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((E=(w=U?.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||E===void 0)&&E.length?["Resources",...U.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const Z=await $.signMessage(new TextEncoder().encode(N),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");H=Z}}try{const{data:G,error:J}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:ka(H)},!((T=a.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(k=a.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:an});if(J)throw J;if(!G||!G.session||!G.user){const L=new _i;return this._returnResult({data:{user:null,session:null},error:L})}return G.session&&(await this._saveSession(G.session),await this._notifyAllSubscribers("SIGNED_IN",G.session)),this._returnResult({data:Object.assign({},G),error:J})}catch(G){if(te(G))return this._returnResult({data:{user:null,session:null},error:G});throw G}}async _exchangeCodeForSession(a){const r=await Ra(this.storage,`${this.storageKey}-code-verifier`),[s,c]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new Lp;const{data:f,error:d}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:s},xform:an});if(await yt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!f||!f.session||!f.user){const g=new _i;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign(Object.assign({},f),{redirectType:c??null}),error:d})}catch(f){if(await yt(this.storage,`${this.storageKey}-code-verifier`),te(f))return this._returnResult({data:{user:null,session:null,redirectType:null},error:f});throw f}}async signInWithIdToken(a){try{const{options:r,provider:s,token:c,access_token:f,nonce:d}=a,g=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:c,access_token:f,nonce:d,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:an}),{data:y,error:v}=g;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!y||!y.session||!y.user){const w=new _i;return this._returnResult({data:{user:null,session:null},error:w})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:v})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(a){var r,s,c,f,d;try{if("email"in a){const{email:g,options:y}=a;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await wi(this.storage,this.storageKey));const{error:E}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(r=y?.data)!==null&&r!==void 0?r:{},create_user:(s=y?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:w},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:E})}if("phone"in a){const{phone:g,options:y}=a,{data:v,error:w}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=y?.data)!==null&&c!==void 0?c:{},create_user:(f=y?.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(d=y?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:w})}throw new Fl("You must provide either an email or phone number.")}catch(g){if(await yt(this.storage,`${this.storageKey}-code-verifier`),te(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(a){var r,s;try{let c,f;"options"in a&&(c=(r=a.options)===null||r===void 0?void 0:r.redirectTo,f=(s=a.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:g}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:f}}),redirectTo:c,xform:an});if(g)throw g;if(!d)throw new Error("An error occurred on token verification.");const y=d.session,v=d.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(c){if(te(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var r,s,c,f,d;try{let g=null,y=null;this.flowType==="pkce"&&([g,y]=await wi(this.storage,this.storageKey));const v=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(s=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:y}),headers:this.headers,xform:c0});return!((f=v.data)===null||f===void 0)&&f.url&&gt()&&!(!((d=a.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(g){if(await yt(this.storage,`${this.storageKey}-code-verifier`),te(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:s}=a;if(s)throw s;if(!r)throw new qt;const{error:c}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:s,type:c,options:f}=a,{error:d}=await le(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in a){const{phone:s,type:c,options:f}=a,{data:d,error:g}=await le(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:c,gotrue_meta_security:{captcha_token:f?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:g})}throw new Fl("You must provide either an email or phone number and a type")}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await Ra(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const s=a.expires_at?a.expires_at*1e3-Date.now()<zo:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",a.expires_at),!s){if(this.userStorage){const d=await Ra(this.userStorage,this.storageKey+"-user");d?.user?a.user=d.user:a.user=Bo()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};a.user=l0(a.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:f}=await this._callRefreshToken(a.refresh_token);return f?this._returnResult({data:{session:null},error:f}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(a){try{return a?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:sa}):await this._useSession(async r=>{var s,c,f;const{data:d,error:g}=r;if(g)throw g;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0,xform:sa})})}catch(r){if(te(r))return Bp(r)&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async s=>{const{data:c,error:f}=s;if(f)throw f;if(!c.session)throw new qt;const d=c.session;let g=null,y=null;this.flowType==="pkce"&&a.email!=null&&([g,y]=await wi(this.storage,this.storageKey));const{data:v,error:w}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:y}),jwt:d.access_token,xform:sa});if(w)throw w;return d.user=v.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(s){if(await yt(this.storage,`${this.storageKey}-code-verifier`),te(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new qt;const r=Date.now()/1e3;let s=r,c=!0,f=null;const{payload:d}=Mo(a.access_token);if(d.exp&&(s=d.exp,c=s<=r),c){const{data:g,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g)return{data:{user:null,session:null},error:null};f=g}else{const{data:g,error:y}=await this._getUser(a.access_token);if(y)throw y;f={access_token:a.access_token,refresh_token:a.refresh_token,user:g.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return this._returnResult({data:{user:f.user,session:f},error:null})}catch(r){if(te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var s;if(!a){const{data:d,error:g}=r;if(g)throw g;a=(s=d.session)!==null&&s!==void 0?s:void 0}if(!a?.refresh_token)throw new qt;const{data:c,error:f}=await this._callRefreshToken(a.refresh_token);return f?this._returnResult({data:{user:null,session:null},error:f}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(a,r){try{if(!gt())throw new es("No browser detected.");if(a.error||a.error_description||a.error_code)throw new es(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new by("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new es("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new by("No code detected.");const{data:L,error:U}=await this._exchangeCodeForSession(a.code);if(U)throw U;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:c,access_token:f,refresh_token:d,expires_in:g,expires_at:y,token_type:v}=a;if(!f||!g||!d||!v)throw new es("No session defined in URL");const w=Math.round(Date.now()/1e3),E=parseInt(g);let T=w+E;y&&(T=parseInt(y));const k=T-w;k*1e3<=Oi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${E}s`);const N=T-E;w-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,T,w):w-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,T,w);const{data:H,error:G}=await this._getUser(f);if(G)throw G;const J={provider_token:s,provider_refresh_token:c,access_token:f,expires_in:E,expires_at:T,refresh_token:d,token_type:v,user:H.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:J,redirectType:a.type},error:null})}catch(s){if(te(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await Ra(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:c,error:f}=r;if(f)return this._returnResult({error:f});const d=(s=c.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:g}=await this.admin.signOut(d,a);if(g&&!(Mp(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return a!=="others"&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const r=Xp(),s={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(a){return await this._useSession(async r=>{var s,c;try{const{data:{session:f},error:d}=r;if(d)throw d;await((s=this.stateChangeEmitters.get(a))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",a,"session",f)}catch(f){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",f),console.error(f)}})}async resetPasswordForEmail(a,r={}){let s=null,c=null;this.flowType==="pkce"&&([s,c]=await wi(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:s,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(f){if(await yt(this.storage,`${this.storageKey}-code-verifier`),te(f))return this._returnResult({data:null,error:f});throw f}}async getUserIdentities(){var a;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:s,error:c}=await this._useSession(async f=>{var d,g,y,v,w;const{data:E,error:T}=f;if(T)throw T;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(d=a.options)===null||d===void 0?void 0:d.redirectTo,scopes:(g=a.options)===null||g===void 0?void 0:g.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",k,{headers:this.headers,jwt:(w=(v=E.session)===null||v===void 0?void 0:v.access_token)!==null&&w!==void 0?w:void 0})});if(c)throw c;return gt()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:a.provider,url:s?.url},error:null})}catch(s){if(te(s))return this._returnResult({data:{provider:a.provider,url:null},error:s});throw s}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var s;try{const{error:c,data:{session:f}}=r;if(c)throw c;const{options:d,provider:g,token:y,access_token:v,nonce:w}=a,E=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=f?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:g,id_token:y,access_token:v,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:an}),{data:T,error:k}=E;return k?this._returnResult({data:{user:null,session:null},error:k}):!T||!T.session||!T.user?this._returnResult({data:{user:null,session:null},error:new _i}):(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),this._returnResult({data:T,error:k}))}catch(c){if(await yt(this.storage,`${this.storageKey}-code-verifier`),te(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var s,c;const{data:f,error:d}=r;if(d)throw d;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(s=f.session)===null||s===void 0?void 0:s.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await Ip(async c=>(c>0&&await Zp(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:an})),(c,f)=>{const d=200*Math.pow(2,c);return f&&No(f)&&Date.now()+d-s<Oi})}catch(s){if(this._debug(r,"error",s),te(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",s),gt()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:a,url:s},error:null}}async _recoverAndRefresh(){var a,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const c=await Ra(this.storage,this.storageKey);if(c&&this.userStorage){let d=await Ra(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:c.user},await Ri(this.userStorage,this.storageKey+"-user",d)),c.user=(a=d?.user)!==null&&a!==void 0?a:Bo()}else if(c&&!c.user&&!c.user){const d=await Ra(this.storage,this.storageKey+"-user");d&&d?.user?(c.user=d.user,await yt(this.storage,this.storageKey+"-user"),await Ri(this.storage,this.storageKey,c)):c.user=Bo()}if(this._debug(s,"session from storage",c),!this._isValidSession(c)){this._debug(s,"session is not valid"),c!==null&&await this._removeSession();return}const f=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zo;if(this._debug(s,`session has${f?"":" not"} expired with margin of ${zo}s`),f){if(this.autoRefreshToken&&c.refresh_token){const{error:d}=await this._callRefreshToken(c.refresh_token);d&&(console.error(d),No(d)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:g}=await this._getUser(c.access_token);!g&&d?.user?(c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(s,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(s,"error",c),console.error(c);return}finally{this._debug(s,"end")}}async _callRefreshToken(a){var r,s;if(!a)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new ls;const{data:f,error:d}=await this._refreshAccessToken(a);if(d)throw d;if(!f.session)throw new qt;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const g={data:f.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(f){if(this._debug(c,"error",f),te(f)){const d={data:null,error:f};return No(f)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(f),f}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,r,s=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:a,session:r});const f=[],d=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(a,r)}catch(y){f.push(y)}});if(await Promise.all(d),f.length>0){for(let g=0;g<f.length;g+=1)console.error(f[g]);throw f[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await yt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},a),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Ri(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const f=Ty(c);await Ri(this.storage,this.storageKey,f)}else{const c=Ty(r);await Ri(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await yt(this.storage,this.storageKey),await yt(this.storage,this.storageKey+"-code-verifier"),await yt(this.storage,this.storageKey+"-user"),this.userStorage&&await yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&gt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Oi);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((s.expires_at*1e3-a)/Oi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Oi}ms, refresh threshold is ${Xo} ticks`),c<=Xo&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Jy)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,s){const c=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&c.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[f,d]=await wi(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(g.toString())}if(s?.queryParams){const f=new URLSearchParams(s.queryParams);c.push(f.toString())}return s?.skipBrowserRedirect&&c.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var s;const{data:c,error:f}=r;return f?this._returnResult({data:null,error:f}):await le(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(a){try{return await this._useSession(async r=>{var s,c;const{data:f,error:d}=r;if(d)return this._returnResult({data:null,error:d});const g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:v}=await le(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(s=f?.session)===null||s===void 0?void 0:s.access_token});return v?this._returnResult({data:null,error:v}):(a.factorType==="totp"&&y.type==="totp"&&(!((c=y?.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:c,error:f}=r;if(f)return this._returnResult({data:null,error:f});const d=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?O0(a.webauthn.credential_response):R0(a.webauthn.credential_response)})}:{code:a.code}),{data:g,error:y}=await le(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:d,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:y}))})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:c,error:f}=r;if(f)return this._returnResult({data:null,error:f});const d=await le(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});if(d.error)return d;const{data:g}=d;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:T0(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:A0(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(a){const{data:r,error:s}=await this._challenge({factorId:a.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const c={all:[],phone:[],totp:[],webauthn:[]};for(const f of(a=r?.factors)!==null&&a!==void 0?a:[])c.all.push(f),f.status==="verified"&&c[f.factor_type].push(f);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,r;const{data:{session:s},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Mo(s.access_token);let d=null;f.aal&&(d=f.aal);let g=d;((r=(a=s.user.factors)===null||a===void 0?void 0:a.filter(w=>w.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(g="aal2");const v=f.amr||[];return{data:{currentLevel:d,nextLevel:g,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async r=>{const{data:{session:s},error:c}=r;return c?this._returnResult({data:null,error:c}):s?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:s.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new qt})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(a,r){try{return await this._useSession(async s=>{const{data:{session:c},error:f}=s;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new qt});const d=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return d.data&&d.data.redirect_url&&gt()&&!r?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(s){if(te(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(a,r){try{return await this._useSession(async s=>{const{data:{session:c},error:f}=s;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new qt});const d=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return d.data&&d.data.redirect_url&&gt()&&!r?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(s){if(te(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:r},error:s}=a;return s?this._returnResult({data:null,error:s}):r?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new qt})})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async r=>{const{data:{session:s},error:c}=r;return c?this._returnResult({data:null,error:c}):s?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qt})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(a,r={keys:[]}){let s=r.keys.find(g=>g.kid===a);if(s)return s;const c=Date.now();if(s=this.jwks.keys.find(g=>g.kid===a),s&&this.jwks_cached_at+zp>c)return s;const{data:f,error:d}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=c,s=f.keys.find(g=>g.kid===a),!s)?null:s}async getClaims(a,r={}){try{let s=a;if(!s){const{data:k,error:N}=await this.getSession();if(N||!k.session)return this._returnResult({data:null,error:N});s=k.session.access_token}const{header:c,payload:f,signature:d,raw:{header:g,payload:y}}=Mo(s);r?.allowExpired||a0(f.exp);const v=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!v){const{error:k}=await this.getUser(s);if(k)throw k;return{data:{claims:f,header:c,signature:d},error:null}}const w=i0(c.alg),E=await crypto.subtle.importKey("jwk",v,w,!0,["verify"]);if(!await crypto.subtle.verify(w,E,d,Yp(`${g}.${y}`)))throw new Zo("Invalid JWT signature");return{data:{claims:f,header:c,signature:d},error:null}}catch(s){if(te(s))return this._returnResult({data:null,error:s});throw s}}}Dr.nextInstanceID={};const M0=Dr,B0="2.89.0";let Or="";typeof Deno<"u"?Or="deno":typeof document<"u"?Or="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Or="react-native":Or="node";const q0={"X-Client-Info":`supabase-js-${Or}/${B0}`},L0={headers:q0},H0={schema:"public"},$0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},G0={};function zr(l){"@babel/helpers - typeof";return zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},zr(l)}function V0(l,a){if(zr(l)!="object"||!l)return l;var r=l[Symbol.toPrimitive];if(r!==void 0){var s=r.call(l,a);if(zr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function Y0(l){var a=V0(l,"string");return zr(a)=="symbol"?a:a+""}function K0(l,a,r){return(a=Y0(a))in l?Object.defineProperty(l,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[a]=r,l}function ky(l,a){var r=Object.keys(l);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(l);a&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),r.push.apply(r,s)}return r}function Xe(l){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?ky(Object(r),!0).forEach(function(s){K0(l,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(r)):ky(Object(r)).forEach(function(s){Object.defineProperty(l,s,Object.getOwnPropertyDescriptor(r,s))})}return l}const X0=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),J0=()=>Headers,Q0=(l,a,r)=>{const s=X0(r),c=J0();return async(f,d)=>{var g;const y=(g=await a())!==null&&g!==void 0?g:l;let v=new c(d?.headers);return v.has("apikey")||v.set("apikey",l),v.has("Authorization")||v.set("Authorization",`Bearer ${y}`),s(f,Xe(Xe({},d),{},{headers:v}))}};function Z0(l){return l.endsWith("/")?l:l+"/"}function I0(l,a){var r,s;const{db:c,auth:f,realtime:d,global:g}=l,{db:y,auth:v,realtime:w,global:E}=a,T={db:Xe(Xe({},y),c),auth:Xe(Xe({},v),f),realtime:Xe(Xe({},w),d),storage:{},global:Xe(Xe(Xe({},E),g),{},{headers:Xe(Xe({},(r=E?.headers)!==null&&r!==void 0?r:{}),(s=g?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return l.accessToken?T.accessToken=l.accessToken:delete T.accessToken,T}function W0(l){const a=l?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Z0(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var P0=class extends M0{constructor(l){super(l)}},F0=class{constructor(l,a,r){var s,c;this.supabaseUrl=l,this.supabaseKey=a;const f=W0(l);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const d=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:H0,realtime:G0,auth:Xe(Xe({},$0),{},{storageKey:d}),global:L0},y=I0(r??{},g);if(this.storageKey=(s=y.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(w,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=y.auth)!==null&&v!==void 0?v:{},this.headers,y.global.fetch)}this.fetch=Q0(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new Uv(new URL("rest/v1",f).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Cp(this.storageUrl.href,this.headers,this.fetch,r?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Rv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,a={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(l,a,r)}channel(l,a={config:{}}){return this.realtime.channel(l,a)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var l=this,a,r;if(l.accessToken)return await l.accessToken();const{data:s}=await l.auth.getSession();return(a=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:l.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:a,detectSessionInUrl:r,storage:s,userStorage:c,storageKey:f,flowType:d,lock:g,debug:y,throwOnError:v},w,E){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new P0({url:this.authUrl.href,headers:Xe(Xe({},T),w),storageKey:f,autoRefreshToken:l,persistSession:a,detectSessionInUrl:r,storage:s,userStorage:c,flowType:d,lock:g,debug:y,throwOnError:v,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new Zv(this.realtimeUrl.href,Xe(Xe({},l),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),l?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,a)=>{this._handleTokenChanged(l,"CLIENT",a?.access_token)})}_handleTokenChanged(l,a,r){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):l==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const eb=(l,a,r)=>new F0(l,a,r);function tb(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const a=l.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}tb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nb="https://bpxypuklucesntwietez.supabase.co",ab="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJweHlwdWtsdWNlc250d2lldGV6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcyMDIzOTcsImV4cCI6MjA4Mjc3ODM5N30.mYtIqqFsXWWclh0nhRAurtUPoRBRT63bVtgWePvDKpc",bt=eb(nb,ab,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1,storage:window.localStorage,storageKey:"ironloop-auth"}});function ib(){const l=()=>{let D=localStorage.getItem("deviceId");return D||(D=crypto.randomUUID(),localStorage.setItem("deviceId",D)),D},a=xe.useMemo(()=>l(),[]),r="templatesUpdatedAt",s=()=>localStorage.getItem(r)!==null,c=()=>{const D=localStorage.getItem(r),V=D?Number(D):0;return Number.isFinite(V)?V:0},f=D=>{localStorage.setItem(r,String(D))},d="workoutTemplatesV2",g=()=>{try{for(let D=localStorage.length-1;D>=0;D--){const V=localStorage.key(D);V&&V.startsWith("sb-")&&V.includes("auth-token")&&localStorage.removeItem(V)}}catch(D){console.error("Failed clearing Supabase auth keys:",D)}},[y,v]=xe.useState(null),w=y?.user?.id||null,[E,T]=xe.useState("Workout"),[k,N]=xe.useState(!1),[H,G]=xe.useState(null),[J,L]=xe.useState(""),[U,$]=xe.useState(""),[ee,Z]=xe.useState("email"),[Y,ne]=xe.useState(""),Ae=[{name:"Squat",weight:40,reps:5,sets:5,setsCompleted:[!1,!1,!1,!1,!1]},{name:"Bench Press",weight:40,reps:5,sets:5,setsCompleted:[!1,!1,!1,!1,!1]},{name:"Mid Row",weight:40,reps:15,sets:3,setsCompleted:[!1,!1,!1]},{name:"Lat Pulldown",weight:40,reps:15,sets:3,setsCompleted:[!1,!1,!1]}],Ge=[{name:"Squat",weight:40,reps:5,sets:5,setsCompleted:[!1,!1,!1,!1,!1]},{name:"Shoulder Press",weight:40,reps:5,sets:5,setsCompleted:[!1,!1,!1,!1,!1]},{name:"Back Extension",weight:0,reps:12,sets:3,setsCompleted:[!1,!1,!1]},{name:"Lat Pulldown",weight:40,reps:15,sets:3,setsCompleted:[!1,!1,!1]}],Ze=D=>(Array.isArray(D)?D:[]).map(Q=>{const P=Number(Q?.sets??0)||0,oe=Array.isArray(Q?.setsCompleted)?Q.setsCompleted:[],De=P>0?Array.from({length:P},(_t,He)=>!!oe[He]):[];return{name:Q?.name??"Exercise",reps:Number(Q?.reps??0)||0,sets:P||0,weight:Q?.weight===""?"":Number(Q?.weight??0)||0,setsCompleted:De}}),it=D=>{const V=typeof D?.name=="string"?D.name:"";return{id:String(D?.id||crypto.randomUUID()),name:V,exercises:Ze(D?.exercises)}},rt=D=>{const Q=(Array.isArray(D?.workouts)?D.workouts:[]).map(it);return Q.length===0?{workouts:[{id:"w_a",name:"Workout A",exercises:Ze(Ae)},{id:"w_b",name:"Workout B",exercises:Ze(Ge)}]}:{workouts:Q}},Pt=()=>{const D=localStorage.getItem("workoutAExercises"),V=localStorage.getItem("workoutBExercises"),Q=D?JSON.parse(D):Ae,P=V?JSON.parse(V):Ge;return rt({workouts:[{id:"w_a",name:"Workout A",exercises:Q},{id:"w_b",name:"Workout B",exercises:P}]})},xt=()=>{const D=localStorage.getItem(d);if(D)try{return rt(JSON.parse(D))}catch{}return Pt()},[j,K]=xe.useState(()=>xt()),re=()=>{const D=localStorage.getItem("lastWorkoutId"),V=j?.workouts||[];return D&&V.some(Q=>Q.id===D)?D:V[0]?.id||"w_a"},[me,Ee]=xe.useState(()=>re());xe.useEffect(()=>{const D=j?.workouts||[];if(D.length===0)return;D.some(Q=>Q.id===me)||Ee(D[0].id)},[j]),xe.useEffect(()=>{if(!H)return;(j?.workouts||[]).some(Q=>Q.id===H)||G(null)},[j]);const[b,B]=xe.useState(()=>{const D=localStorage.getItem("history");return D?JSON.parse(D):[]});xe.useEffect(()=>{localStorage.setItem(d,JSON.stringify(j))},[j]),xe.useEffect(()=>{localStorage.setItem("history",JSON.stringify(b))},[b]);const X=xe.useMemo(()=>{const D=j?.workouts||[];return D.find(V=>V.id===me)||D[0]||null},[j,me]),W=X?.exercises||[],ue=D=>{K(V=>({workouts:(V?.workouts||[]).map(oe=>oe.id!==me?oe:{...oe,exercises:D})}))},de=D=>{let V=!1;return{updated:D.map(P=>P?.client_id?P:(V=!0,{...P,client_id:crypto.randomUUID()})),changed:V}},_e=(D,V)=>{const Q=new Map;for(const oe of V)oe?.client_id&&Q.set(oe.client_id,oe);for(const oe of D)oe?.client_id&&!Q.has(oe.client_id)&&Q.set(oe.client_id,oe);const P=Array.from(Q.values());return P.sort((oe,De)=>new Date(De.date).getTime()-new Date(oe.date).getTime()),P};xe.useEffect(()=>{(async()=>{const{data:Q}=await bt.auth.getSession();v(Q.session||null)})();const{data:V}=bt.auth.onAuthStateChange((Q,P)=>{v(P||null)});return()=>V?.subscription?.unsubscribe?.()},[]);const ut=async D=>{const{data:V,error:Q}=await bt.from("workouts").select("id, client_id, workout_type, template_id, performed_at, exercises, notes").eq("user_id",D).order("performed_at",{ascending:!1});return Q?(console.error("Supabase select failed:",Q),[]):(V||[]).map(P=>({client_id:P.client_id||String(P.id),type:P.workout_type||"",template_id:P.template_id||null,date:P.performed_at,exercises:P.exercises||[],notes:P.notes||""})).filter(P=>!!P.client_id)},Le=async D=>{const V=await bt.from("workout_templates").select("templates, updated_at, workout_a, workout_b").eq("user_id",D).maybeSingle();if(!V.error)return V.data||null;const Q=String(V.error?.message||"");if(!(Q.toLowerCase().includes("column")&&Q.toLowerCase().includes("templates")))return console.error("Templates select failed:",V.error),null;const oe=await bt.from("workout_templates").select("workout_a, workout_b, updated_at").eq("user_id",D).maybeSingle();return oe.error?(console.error("Templates select failed:",oe.error),null):oe.data||null},ua=D=>{const V=D?.workouts||[],Q=V[0]?.exercises||Ze(Ae),P=V[1]?.exercises||Ze(Ge);return{workout_a:Q,workout_b:P}},Un=async(D,V,Q)=>{const P=rt(V),oe=ua(P),De={user_id:D,templates:P,workout_a:oe.workout_a,workout_b:oe.workout_b,updated_at:Q||new Date().toISOString()},_t=await bt.from("workout_templates").upsert(De,{onConflict:"user_id"});if(!_t.error)return;const He=String(_t.error?.message||"");if(!(He.toLowerCase().includes("column")&&He.toLowerCase().includes("templates"))){console.error("Templates upsert failed:",_t.error);return}const Ie={user_id:D,workout_a:oe.workout_a,workout_b:oe.workout_b,updated_at:Q||new Date().toISOString()},$t=await bt.from("workout_templates").upsert(Ie,{onConflict:"user_id"});$t.error&&console.error("Templates upsert failed:",$t.error)},Ft=xe.useRef(!1),Dn=xe.useRef(!1);xe.useEffect(()=>{if(!w)return;(async()=>{try{const{updated:V,changed:Q}=de(b),P=Q?V:b;Q&&B(V);try{await bt.rpc("claim_workouts",{p_device_id:a})}catch{}const oe=`supabaseUploadedHistory:${w}:${a}`;if(!(localStorage.getItem(oe)==="true")){const jt=(P||[]).filter(ze=>ze&&ze.client_id).map(ze=>({user_id:w,device_id:a,client_id:ze.client_id,workout_type:ze.type||"",template_id:ze.template_id||null,performed_at:ze.date,exercises:ze.exercises||[],notes:ze.notes||""}));if(jt.length>0){const{error:ze}=await bt.from("workouts").upsert(jt,{onConflict:"client_id"});ze?console.error("Supabase local history upload failed:",ze):localStorage.setItem(oe,"true")}else localStorage.setItem(oe,"true")}const _t=await ut(w),He=_e(P||[],_t);B(He),Ft.current=!1;const Ve=await Le(w),Ie=s(),$t=Ie?c():0,zn=rt(j);if(Ve){const jt=Ve.updated_at?new Date(Ve.updated_at).getTime():0;let ze=null;if(Ve.templates&&typeof Ve.templates=="object"?ze=rt(Ve.templates):Ve.workout_a||Ve.workout_b?ze=rt({workouts:[{id:"w_a",name:"Workout A",exercises:Ve.workout_a||[]},{id:"w_b",name:"Workout B",exercises:Ve.workout_b||[]}]}):ze=rt(null),!Ie)Dn.current=!0,K(ze),f(jt||Date.now()),Ft.current=!0;else if((jt||0)>=($t||0))Dn.current=!0,K(ze),f(jt||Date.now()),Ft.current=!0;else{const Nn=new Date().toISOString();await Un(w,zn,Nn),f(Date.now()),Ft.current=!0}}else{const jt=new Date().toISOString();await Un(w,zn,jt),f(Date.now()),Ft.current=!0}ne(""),Z("email"),$("")}catch(V){console.error("Login sync failed:",V)}})()},[w]);const Ct=xe.useRef(null);xe.useEffect(()=>{if(w&&Ft.current){if(Dn.current){Dn.current=!1;return}return Ct.current&&clearTimeout(Ct.current),f(Date.now()),Ct.current=setTimeout(()=>{const D=rt(j);Un(w,D,new Date().toISOString())},700),()=>{Ct.current&&clearTimeout(Ct.current)}}},[w,j]);const ji=async()=>{ne("");const D=J.trim();if(!D){ne("Enter an email address.");return}const{error:V}=await bt.auth.signInWithOtp({email:D,options:{shouldCreateUser:!0}});if(V){ne(V.message);return}Z("code"),ne("Enter the code sent to your email.")},ki=async()=>{ne("");const D=J.trim(),V=U.trim();if(!D){ne("Enter an email address.");return}if(!V){ne("Enter the code from your email.");return}const{error:Q}=await bt.auth.verifyOtp({email:D,token:V,type:"email"});if(Q){ne(Q.message);return}},ss=async()=>{try{await bt.auth.signOut({scope:"local"})}catch(D){console.error("signOut error:",D)}g(),v(null),ne(""),Z("email"),$(""),Ft.current=!1,Dn.current=!1,window.location.reload()},Mr=D=>{if(!D||typeof D!="string")return"";const V=D.indexOf("@");if(V===-1)return"*****";const Q=D.slice(0,V),P=D.slice(V+1),oe=P.lastIndexOf("."),De=oe===-1?P:P.slice(0,oe),_t=oe===-1?"":P.slice(oe),He=($t,zn,jt,ze="*")=>{if(!$t)return"";if($t.length<=zn+jt)return ze.repeat(Math.max(1,$t.length));const Nn=$t.slice(0,zn),za="",fn=Math.max(1,$t.length-zn-jt);return Nn+ze.repeat(fn)+za},Ve=He(Q,2,0),Ie=He(De,2,0);return`${Ve}@${Ie}${_t}`},Ua={width:"100%",padding:"0.75rem 1rem",backgroundColor:"#8b5cf6",color:"#fff",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"bold"},Da={width:"100%",padding:"0.6rem",borderRadius:"8px",boxSizing:"border-box"},Ui=()=>{const D=j?.workouts||[];if(D.length===0)return;const V=D.findIndex(P=>P.id===me),Q=D[(V+1)%D.length];Q?.id&&Ee(Q.id)},us=async D=>{const V=X?.id||me,Q=X?.name||"",P={client_id:crypto.randomUUID(),type:Q,template_id:V,date:new Date,exercises:(D||[]).map(De=>({...De})),notes:""};if(B(De=>[P,...De||[]]),localStorage.setItem("lastWorkoutId",V),w)try{const{error:De}=await bt.from("workouts").insert({user_id:w,device_id:a,client_id:P.client_id,workout_type:Q||"",template_id:V,performed_at:P.date,exercises:P.exercises,notes:""});De&&console.error("Supabase insert failed:",De)}catch(De){console.error("Supabase insert failed:",De)}const oe=(D||[]).map(De=>({...De,setsCompleted:Array(De.sets||(De.setsCompleted?De.setsCompleted.length:0)).fill(!1)}));ue(oe),Ui()},os=async(D,V)=>{if(B(Q=>{const P=[...Q||[]];return P[D]?(P[D]={...P[D],notes:V},P):Q}),!!w)try{const P=b[D]?.client_id;if(!P)return;const{error:oe}=await bt.from("workouts").update({notes:V}).eq("user_id",w).eq("client_id",P);oe&&console.error("Supabase notes update failed:",oe)}catch(Q){console.error("Supabase notes update failed:",Q)}},vt=async D=>{if(!window.confirm("Are you sure you want to delete this workout?"))return;const Q=b[D];if(B(P=>(P||[]).filter((oe,De)=>De!==D)),!!w)try{const P=Q?.client_id;if(!P)return;const{error:oe}=await bt.from("workouts").delete().eq("user_id",w).eq("client_id",P);oe&&console.error("Supabase delete failed:",oe)}catch(P){console.error("Supabase delete failed:",P)}},cs=()=>x.jsx("div",{style:{width:"100%",padding:"1.25rem 1rem 2rem",boxSizing:"border-box",display:"flex",justifyContent:"center"},children:x.jsx("button",{onClick:()=>N(!0),style:{background:"transparent",border:"none",color:"#aaa",cursor:"pointer",textDecoration:"underline",padding:"0.25rem 0.5rem"},children:"FAQ"})}),Br=()=>{const D={margin:"0 0 1.5rem 0"},V={margin:"0 0 0.5rem 0"},Q={margin:"0.5rem 0"};return x.jsx("div",{style:{width:"100%",padding:"0 1rem 2rem",boxSizing:"border-box",display:"flex",justifyContent:"center"},children:x.jsxs("div",{style:{width:"100%",maxWidth:"700px",textAlign:"left"},children:[x.jsx("div",{style:{marginTop:"1rem"},children:x.jsx("button",{onClick:()=>N(!1),style:{backgroundColor:"#1a1a1a",border:"1px solid #333",color:"#fff",borderRadius:"8px",padding:"0.5rem 0.9rem",cursor:"pointer"},children:"Back"})}),x.jsx("h2",{style:{textAlign:"center",margin:"1rem 0"},children:"FAQ"}),x.jsxs("div",{style:{color:"#fff",lineHeight:1.6},children:[x.jsxs("div",{style:D,children:[x.jsx("h3",{style:V,children:"How do I add IronLoop to my iPhone home screen?"}),x.jsx("p",{style:Q,children:"You can add IronLoop to your iPhone home screen using Safari."}),x.jsxs("ol",{style:{margin:"0.5rem 0 0.5rem 1.25rem"},children:[x.jsx("li",{children:"Open Safari on your iPhone"}),x.jsx("li",{children:"Go to the IronLoop website"}),x.jsx("li",{children:"Tap the button in the bottom right with 3 dots, then the Share button (the square with the upward arrow)"}),x.jsx("li",{children:"Tap More, then Add to Home Screen"}),x.jsx("li",{children:"Confirm and tap Add"})]}),x.jsx("p",{style:Q,children:"IronLoop will now appear like a regular app on your home screen and can be launched by tapping the icon."})]}),x.jsxs("div",{style:D,children:[x.jsx("h3",{style:V,children:"Does this work on other browsers or devices?"}),x.jsx("p",{style:Q,children:"IronLoop works in modern browsers on mobile and desktop, but looks best on a phone screen."})]}),x.jsxs("div",{style:D,children:[x.jsx("h3",{style:V,children:"Do I need an account to use IronLoop?"}),x.jsxs("p",{style:Q,children:["No. You can use IronLoop without signing in. Your workouts and templates will be stored locally on your device.",x.jsx("br",{}),"If you choose to sign in with email, your data will sync across devices."]})]}),x.jsxs("div",{style:D,children:[x.jsx("h3",{style:V,children:"What happens if I dont sign in?"}),x.jsx("p",{style:Q,children:"If you stay signed out:"}),x.jsxs("ul",{style:{margin:"0.5rem 0 0.5rem 1.25rem"},children:[x.jsx("li",{children:"Your workout templates and history are stored locally in your browser"}),x.jsx("li",{children:"Everything works offline"}),x.jsx("li",{children:"Your data stays on that device only"})]}),x.jsx("p",{style:Q,children:"If your browser storage is cleared or you switch devices, that local data may be lost."})]}),x.jsxs("div",{style:D,children:[x.jsx("h3",{style:V,children:"What happens when I sign in?"}),x.jsx("p",{style:Q,children:"When you sign in with email:"}),x.jsxs("ul",{style:{margin:"0.5rem 0 0.5rem 1.25rem"},children:[x.jsx("li",{children:"Your workouts and templates are saved to the cloud"}),x.jsx("li",{children:"Your data syncs across devices"}),x.jsx("li",{children:"You can switch phones or browsers without losing history"})]}),x.jsx("p",{style:Q,children:"Signing in is optional and can be done at any time."})]}),x.jsxs("div",{style:D,children:[x.jsx("h3",{style:V,children:"Is my data private?"}),x.jsxs("p",{style:Q,children:["IronLoop does not sell or share your data.",x.jsx("br",{}),"If you sign in, your data is stored securely and associated only with your account. If you do not sign in, your data never leaves your device."]})]}),x.jsxs("div",{style:D,children:[x.jsx("h3",{style:V,children:"Can IronLoop work offline?"}),x.jsxs("p",{style:Q,children:["Yes.",x.jsx("br",{}),"IronLoop is designed to work offline. You can start workouts, complete sets, and log sessions without an internet connection. If you are signed in, your data will sync the next time youre online."]})]}),x.jsxs("div",{style:{margin:"0"},children:[x.jsx("h3",{style:V,children:"Still have a question?"}),x.jsx("p",{style:Q,children:"DM @stinkeater on discord"})]})]})]})})};return x.jsxs("div",{style:{minHeight:"100dvh",width:"100%",backgroundColor:"#121212",color:"#fff",overflowX:"hidden"},children:[x.jsx("h1",{className:"ironloop-title",style:{textAlign:"center",margin:"1rem 0"},children:"IronLoop"}),x.jsx("div",{style:{width:"100%",padding:"1rem",backgroundColor:"#1a1a1a",boxSizing:"border-box",display:"flex",justifyContent:"center"},children:w?x.jsxs("div",{style:{width:"100%",maxWidth:"600px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"0.75rem"},children:[x.jsxs("div",{style:{color:"#aaa",overflowWrap:"anywhere"},children:["Signed in as: ",Mr(y?.user?.email||"")]}),x.jsx("button",{onClick:ss,children:"Sign out"})]}):ee==="email"?x.jsxs("form",{onSubmit:D=>{D.preventDefault(),ji()},style:{width:"100%",maxWidth:"420px",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[x.jsx("input",{value:J,onChange:D=>L(D.target.value),placeholder:"you@example.com",style:Da}),x.jsx("button",{type:"submit",style:Ua,children:"Send code to sign in"}),Y&&x.jsx("div",{style:{color:"#aaa",textAlign:"center"},children:Y})]}):x.jsxs("form",{onSubmit:D=>{D.preventDefault(),ki()},style:{width:"100%",maxWidth:"420px",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[x.jsx("input",{value:U,onChange:D=>$(D.target.value),placeholder:"Enter code",style:Da}),x.jsx("button",{type:"submit",style:Ua,children:"Verify code"}),Y&&x.jsx("div",{style:{color:"#aaa",textAlign:"center"},children:Y})]})}),x.jsx("div",{style:{width:"100%",padding:"0.75rem 1rem",boxSizing:"border-box",display:"flex",justifyContent:"center",gap:"1rem"},children:["Workout","History","Customize"].map(D=>x.jsx("button",{onClick:()=>{N(!1),T(D),D!=="Customize"&&G(null)},style:{backgroundColor:E===D?"#8b5cf6":"#1a1a1a",color:"#fff",borderRadius:"8px",padding:"0.5rem 1rem"},children:D},D))}),x.jsx("div",{style:{width:"100%"},children:k?x.jsx(Br,{}):x.jsxs(x.Fragment,{children:[E==="Workout"&&x.jsx(wv,{workouts:j.workouts,currentWorkoutId:me,setCurrentWorkoutId:D=>{Ee(D),localStorage.setItem("lastWorkoutId",D)},currentWorkoutName:X?.name||"Workout",exercises:W,setExercises:ue,finishWorkout:us}),E==="History"&&x.jsx(Ev,{history:b,deleteWorkout:vt,updateWorkoutNotes:os}),E==="Customize"&&x.jsx(Sv,{workouts:j.workouts,setWorkouts:D=>K({workouts:D.map(it)}),selectedWorkoutId:H,setSelectedWorkoutId:G}),x.jsx(cs,{})]})})]})}_v.createRoot(document.getElementById("root")).render(x.jsx(hv.StrictMode,{children:x.jsx(ib,{})}));
